{"version":3,"sources":["components/PaymentStatus/PaymentFailure.js","config/index.js","constants/Config.js","utils/apiCaller.js","components/PaymentStatus/PaymentSuccess.js","components/PaymentStatus/PaymentStatus.js","components/LinkHere/LinkHere.js","pages/AboutPage.js","pages/AfterCheckoutPage.js","components/CheckOut/BillDetail.js","config/TYPE.js","components/CheckOut/YourOrder.js","redux/actions/cart.js","constants/ActionType.js","utils/loading.js","components/CheckOut/CheckOut.js","pages/CheckOutPage.js","components/Contact/Contact.js","pages/ContactPage.js","redux/actions/auth.js","components/LoginRegister/ForgotPassword.js","pages/ForgotPasswordPage.js","components/HomePage/Slider/SliderLeft.js","components/HomePage/Slider/BannerRight.js","redux/actions/category.js","components/HomePage/Slider/Category.js","components/HomePage/Slider/Slider.js","components/HomePage/Content/BannerMiddle/BannerMiddle.js","components/HomePage/Content/BannerTop.js","redux/actions/products.js","redux/actions/loading.js","components/HomePage/Content/ProductSlider/ProductItems.js","redux/actions/rating.js","components/HomePage/Content/ProductSlider/ProductContent.js","components/HomePage/Content/ProductSlider/ProductSlider.js","components/HomePage/Content/ProductGrid/ProductGridContent.js","components/HomePage/Content/ProductGrid/ProductGrid.js","pages/HomePage.js","components/LoginRegister/LoginGoogle.js","components/LoginRegister/Login.js","components/ProductDetail/ProductViewDetail.js","components/LoginRegister/LoginRegister.js","pages/LoginRegisterPage.js","components/NotFoundPage404/NotFoundPage404.js","pages/NotFoundPage.js","components/ProductDetail/ProductDescription.js","components/ProductDetail/ProductProducer.js","components/ProductFavorite/ProductFavoriteItem.js","components/ShopCategory/ShopCategoryItems.js","components/ProductDetail/ProductDetail.js","pages/ProductDetailPage.js","components/ProductFavorite/ProductFavotire.js","pages/ProductFavoritePage.js","components/ShopCategory/LeftOptions.js","components/ProductAll/ProductItem.js","components/ShopCategory/ShopCategory.js","pages/ProductPage.js","components/ProductAll/ProductSearch.js","pages/ProductSerachPage.js","firebase/index.js","utils/upload.js","components/Profile/Profile.js","pages/ProfilePage.js","components/LoginRegister/Register.js","pages/RegisterPage.js","pages/ShopCategoryPage.js","components/ShoppingCart/ShoppingCartItems.js","components/ShoppingCart/SumTotal.js","components/ShoppingCart/ShoppingCart.js","pages/ShoppingCartPage.js","pages/OrderHistoryPage.js","routes.js","components/Header/Menu.js","components/ChatPopup/ChatPopup.js","components/Header/HeaderMiddle.js","components/Header/HeaderMobile.js","components/Header/Header.js","components/Footer/FooterMiddle.js","components/Footer/Footer.js","App.js","components/Social/Social.js","redux/reducers/products.js","redux/reducers/categories.js","redux/reducers/product.js","redux/reducers/cart.js","redux/reducers/auth.js","redux/reducers/productsNew.js","redux/reducers/productsLaptop.js","redux/reducers/productsOffice.js","redux/reducers/productsOther.js","redux/reducers/productRatings.js","redux/reducers/favorites.js","redux/reducers/producers.js","redux/reducers/loading.js","redux/reducers/cartCalculateItems.js","redux/reducers/productsV2.js","redux/reducers/index.js","index.js"],"names":["PaymentFailure","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","d","onClick","window","location","href","Component","config","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseURL","API_URL","url","MySwal","withReactContent","Swal","callApi","endpoint","a","method","body","token","undefined","axios","Config","headers","Authorization","data","response","fire","icon","title","text","message","toast","configure","PaymentSuccess","PaymentStatus","props","state","paymentStatus","loading","queryParams","URLSearchParams","this","search","entries","key","value","checkPaymentStatus","setState","success","console","error","history","push","withRouter","LinkHere","segments","pathname","split","filter","segment","crumbsArr","crumbs","items","to","concat","map","item","index","isLastSegment","length","slice","join","separator","AboutPage","src","alt","AfterCheckoutPage","height","BillDetail","handleChange","event","name","target","type","checked","getBillingState","handleChangeSelectProvince","res","code","resWard","states","provinceData","stateData","wards","wardData","handleChangeSelectState","handleChangeSelectWard","provinces","address","phone","note","myProvinces","myStates","myWards","style","margin","padding","onChange","province","ward","id","cols","rows","formatNumber","Intl","NumberFormat","currency","YourOrder","handSubmit","submitOrder","e","paymentMethod","onChangePaymentMethod","getPaymentMethod","order","orderBill","itemAmount","shippingTotal","totalAmount","promoTotal","count","paddingLeft","color","fontStyle","quantity","format","price","Group","direction","connect","ownProps","actFetchCartRequest","dispatch","localStorage","setItem","JSON","stringify","i","getItem","actFetchCart","parse","actAddCartRequest","numberAvailable","newQuantity","cartData","findIndex","actAddCart","Number","actUpdateCart","actRemoveCart","actClearCart","clear","actCalculateCartItemsSuccess","startLoading","NProgress","start","doneLoading","done","resultOrder","CheckOut","selectedItems","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","resData","userId","results","addressProvince","addressState","addressResult","house","codeProvince","codeState","fullName","products","it","productId","orderDb","status","vnPayUrl","deleteItemsBuy","position","showConfirmButton","timer","checkout","toggleCheckout","shippingAddress","billing","current","builder","dataCart","amount","cartCalculateItems","dataItems","itemIdsSelected","includes","forEach","sku","nameProduct","description","customer","total","login","React","createRef","bind","newCart","clearItemSelected","updateNewCart","redirectTo","textAlign","paddingBottom","changeToggle","ref","marginTop","marginBottom","reset_cart","CheckOutPage","match","Contact","handleSubmit","preventDefault","email","subject","newSubject","newMessage","newContact","onSubmit","ContactPage","actLogin","actTokenRequest","actToken","ForgotPassword","sendEmailResetPassword","dataEmail","resetMyPassword","placeholder","actForgotPasswordRequest","ForgotPasswordPage","SliderLeft","autoPlay","interval","infiniteLoop","showThumbs","showStatus","onClickItem","obj","open","ex","image","link","cursor","actFetchCategoryTreeRequest","actFetchCategoryTree","categories","SubCategory","useHistory","label","children","child","Category","useSelector","mapCategories","useCallback","category","hasChildren","nameCategory","mapDataCategories","useDispatch","useState","selectedCategory","setSelectedCategory","showSubCategory","setShowSubCategory","timeOutMouseEnter","useRef","clearTimeOutShowOffSubCategory","clearTimeout","onMouseInCategory","subCategories","useMemo","useEffect","onMouseLeave","setTimeout","onMouseEnter","Slider","BannerMiddle","banner","BannerTop","width","actFetchProducts","actGetProductRequest","actGetProduct","product","createParamsString","params","baseURL","URL","Object","keys","searchParams","append","toString","replace","actGetProductV2","pagination","actSetProductsByCategory","actSetProductsByKeyword","actSetProductHot","actSetProductBestSelling","actSetProductFeature","actSetProductSameCategory","actSetAllProduct","warn","productByCategory","productByKeyword","productHot","productBestSelling","productFeature","productSameCategory","allProduct","actSearchProducts","actFetchProductsOtherRequest","q","categoryId","offset","actFetchProductsOther","actFetchRatingsRequest","actFetchRatings","ratings","actAddRatingRequest","rating","log","actAddRatings","actFetchFavoritesRequest","actFetchFavorites","favorites","actAddFavoriteRequest","actAddFavorite","favorite","actDeleteFavorite","ProductItems","upItem","downItem","getInfoProduct","getProductDetail","getToProductDetail","cateogryId","fetch_products_other","fetch_product_ratings","addItemToFavorite","addFavorite","addItemToCart2","addCart","addItemToCart","sumRating","totalRating","point","Math","round","size","activeColor","inactiveColor","editable","originalPrice","percentDiscount","ProductContent","productShows","addCount","settings","dots","infinite","speed","slidesToShow","slidesToScroll","cssEase","ProductSlider","ProductGridContent","ProductGrid","HomePage","isHot","page","pageSize","isFeature","isBestSelling","productsV2","GoogleLoginButton","handleSuccess","jwt_decode","credential","loginGoogle","reload","handleError","onSuccess","onError","Login","password","user","loginRequest","htmlFor","auth","actLoginRequest","LoginRegister","LoginRegisterPage","NotFoundPage404","NotFoundPage","customStyles","content","top","left","right","bottom","marginRight","transform","ProductViewDetail","handleChangeRating","ratingPoint","handleSubmitRating","textRating","add_rating","modalIsOpen","openModal","afterOpenModal","closeModal","subtitle","customPaging","gallery","dotsClass","productRatings","isOpen","onAfterOpen","onRequestClose","contentLabel","border","action","background","display","EditFilled","marginLeft","alignItems","fontSize","paddingTop","ProductDescription","handleSubmitViewAllRating","viewAllRating","fbAsyncInit","FB","init","autoLogAppEvents","xfbml","version","s","js","fjs","getElementsByTagName","getElementById","createElement","parentNode","insertBefore","document","XFBML","data-href","data-width","data-numposts","arrRating","arrRatings","avatar","createdAt","showProductRating","fixRating","showFixRating","oneStart","twoStart","threeStart","fourStart","fiveStart","showOneStart","showTwoStart","showThreeStart","showFourStart","showFiveStart","toFixed","data-toggle","role","dangerouslySetInnerHTML","__html","lineHeight","aria-valuenow","aria-valuemin","aria-valuemax","showAllRating","ProductProducer","productionDate","expDate","producer","producers","fontWeight","borderRadius","moment","ProductDetail","fetch_ratings","get_product","prevProps","getProductGameCategory","scrollTo","ProductDetailPage","ProductFavoriteItem","handleAddCart","deleteFavorite","handleRemoveItem","actDeleteFavoriteRequest","ProductFavotire","ProductFavoritePage","LeftOptions","rangePrice","onChangeRangePrice","ShopCategoryItems","getProduct","data-dismiss","aria-label","aria-hidden","setProductsOther","idCateogry","RangePrices","1","minPrice","maxPrice","2","3","4","ShopCategory","handleChangeSelectSort","orderBy","getData","currentPage","onChangePage","searchName","keywordSearch","range","productsWithPagination","aria-controls","justifyContent","totalPages","showSizeChanger","ProductPage","ProductItem","data-target","ProductSearch","aria-selected","ProductSearchPage","fetch_products","newOffset","newValue","Promise","resolve","reject","catch","err","actFetchProductsRequest","useLocation","get","firebase","initializeApp","storage","db","database","uploadImage","uniqueFileName","Date","now","put","on","snapshot","getDownloadURL","override","css","Profile","handleChangeImage","files","img","createObjectURL","handleSubmitChangePassword","oldPassword","rePassword","newPassword","change_pw_me","editUser","update_me","cancelOrder","res2","historyBooking","cumulativePoints","bookings","sizeUnit","accept","aria-labelledby","disabled","backgroundColor","showOrder","actUpdateMeRequset","actChangePasswordMeRequset","ProfilePage","Register","repassword","registerRequest","actRegisterRequest","RegisterPage","ShopCategoryPage","ShoppingCartItems","isSelected","handleCheckboxChange","prevState","toggleSelectItem","handleQuantityChange","parseInt","currentQuantity","updatedItem","changQuantityItem","removeItem","min","splice","actRemoveCartRequest","actUpdateCartRequest","SumTotal","checkAuthenticate","redirectYourOrder","redirectYourLogin","ShoppingCart","itemsSelected","fetch_items","_","isEqual","actCalculateCartItems","clearCalculateCartItems","isSelect","newSelectedItems","setSelectedItems","showItem","cart","ShoppingCartPage","StatusOrders","Unconfirm","Confirm","Shipping","Complete","Canceled","PaymentMethods","COD","VNPAY","OrderHistoryPage","setData","dataOrderDetail","setDataOrderDetail","dataOrderDetails","orderDetails","setLoading","getAddress","flex","scope","overflow","imageProduct","objectFit","isPaid","danger","routes","path","exact","main","Menu","NewMessage","onSendMessage","setNewMessage","onKeyDown","trim","ChatPopup","messages","setMessages","setIsOpen","chatContainerRef","clientId","setClientId","unread","setUnread","clId","startsWith","newClId","getKey","messagesRef","conversationId","dataConv","val","messageArray","values","lastMessage","newUnread","sender","lastMessageId","lastMessageIdClientRead","update","sort","b","lastMessageA","timestamp","off","CloseOutlined","overflowY","flexDirection","msg","HeaderMiddle","handleClickMenu","showMenu","handleClick","textSearch","loadingPage","handleFetchFavorites","fetch_productFavorites","logOut","setTokenRedux","notifications","countNotification","prevKeywordSearch","getNotiData","notiData","notiCountData","handleChangeUserId","viewed","notificationIds","countCart","customMenuItemStyle","menu","Item","onClickItemNotification","borderColor","trigger","placement","overlay","UserOutlined","searchProduct","actSearchProductsRequest","HeaderMobile","Header","FooterMiddle","Footer","App","showContentMenus","route","component","add_token_redux","isCart","fetch_cart","fetch_favorite","statusLoading","initialState","findIndexs","productsNew","productsLaptop","productOther","appReducers","combineReducers","productsOffice","productsOther","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","autoClose","pauseOnHover","pauseOnVisibilityChange"],"mappings":"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","file":"static/js/main.476fb8d0.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './PaymentFailure.css'; // Đảm bảo tạo tệp CSS này với các kiểu dáng\n\nclass PaymentFailure extends Component {\n  render() {\n    return (\n      <div className=\"payment-failure-container\">\n        <div className=\"payment-failure-content\">\n          <h1 className=\"payment-failure-title\">Thanh Toán Thất Bại</h1>\n          <p className=\"payment-failure-message\">Rất tiếc, thanh toán của bạn đã không thành công. Vui lòng thử lại hoặc liên hệ với hỗ trợ khách hàng để được trợ giúp.</p>\n          <div className=\"payment-failure-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" />\n              <path d=\"M12 16v-4\" />\n              <path d=\"M12 8h.01\" />\n            </svg>\n          </div>\n          <button className=\"payment-failure-button\" onClick={() => window.location.href = '/'}>Quay về trang chủ</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PaymentFailure;\n","export const config = {\n  api: {\n    url: process.env.REACT_APP_API_URL,\n  },\n  paypal: {\n    secretKey: process.env.REACT_APP_PAYPAL_SECRET_KEY,\n  },\n  firebaseConfig: {\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n    databaseURL: \"https://stoneshop-c41a0-default-rtdb.asia-southeast1.firebasedatabase.app/\",\n  },\n};\n","import { config } from '../config'\nexport const API_URL = config.api.url;","import axios from 'axios';\r\nimport * as Config from '../constants/Config';\r\nimport { toast } from 'react-toastify';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nconst MySwal = withReactContent(Swal)\r\ntoast.configure()\r\n\r\nexport default async function callApi(endpoint, method = 'GET', body, token) {\r\n  try {\r\n    let data;\r\n    if (token !== undefined || token !== null || token !== '') {\r\n      data = await axios({\r\n        method: method,\r\n        url: `${Config.API_URL}/${endpoint}`,\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        data: body\r\n      });\r\n      return data;\r\n    } else {\r\n      data = await axios({\r\n        method: method,\r\n        url: `${Config.API_URL}/${endpoint}`,\r\n        data: body\r\n      });\r\n      return data;\r\n    }\r\n  }\r\n  catch (err) {\r\n    if (err.response && err.response.data) {\r\n      MySwal.fire({\r\n        icon: 'error',\r\n        title: 'Lỗi',\r\n        text: `${err.response.data.message}`\r\n      })\r\n    } else {\r\n      MySwal.fire({\r\n        icon: 'error',\r\n        title: 'Lỗi',\r\n        text: 'Không thể kết nối đến server!'\r\n      })\r\n    }\r\n  }\r\n}","import React, { Component } from 'react';\nimport './PaymentSuccess.css'; // Đảm bảo tạo tệp CSS này với các kiểu dáng\n\nclass PaymentSuccess extends Component {\n  render() {\n    return (\n      <div className=\"payment-success-container\">\n        <div className=\"payment-success-content\">\n          <h1 className=\"payment-success-title\">Thanh Toán Thành Công</h1>\n          <p className=\"payment-success-message\">Cảm ơn bạn đã mua sắm với chúng tôi. Đơn hàng của bạn đã được xác nhận và sẽ được xử lý trong thời gian sớm nhất.</p>\n          <div className=\"payment-success-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"M9 11l3 3L22 4\" />\n              <circle cx=\"12\" cy=\"12\" r=\"10\" />\n            </svg>\n          </div>\n          <button className=\"payment-success-button\" onClick={() => window.location.href = '/profile'}>Xem đơn hàng</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PaymentSuccess;\n","import React, { Component } from \"react\";\nimport \"./PaymentFailure.css\";\nimport { withRouter } from 'react-router-dom';\nimport callApi from \"../../utils/apiCaller\";\nimport PaymentSuccess from \"./PaymentSuccess\";\nimport PaymentFailure from './PaymentFailure';\n\nclass PaymentStatus extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paymentStatus: null, // Track payment status for rendering\n      loading: true, // Track loading state\n    };\n  }\n\n  async componentDidMount() {\n    const queryParams = new URLSearchParams(this.props.location.search);\n    const data = {};\n    \n    // Populate the data object with query parameters\n    for (const [key, value] of queryParams.entries()) {\n      data[key] = value;\n    }\n   \n    try {\n      const checkPaymentStatus = await callApi(\"payment/vn-pay-check\", \"POST\", data, null);\n      \n      this.setState({ \n        paymentStatus: checkPaymentStatus.data.success,\n        loading: false, \n      });\n\n      // if (checkPaymentStatus.data.success) {\n      //   this.props.history.push(\"/payment-success\");\n      // } else {\n      //   this.props.history.push(\"/payment-failure\");\n      // }\n    } catch (error) {\n      console.error(\"Error checking payment status:\", error);\n      this.setState({\n        paymentStatus: false,\n        loading: false,\n      });\n      this.props.history.push(\"/payment-error\");\n    }\n  }\n\n  render() {\n    const { paymentStatus, loading } = this.state;\n  \n    if (loading) {\n      return (\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>Đang xử lý thanh toán...</p>\n        </div>\n      );\n    }\n  \n    if (paymentStatus === false) {\n      return <PaymentFailure />;\n    } else {\n      return <PaymentSuccess />;\n    }\n  }\n}\n\n\n\nexport default withRouter(PaymentStatus);\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Breadcrumb } from \"antd\";\r\n\r\nexport default class LinkHere extends Component {\r\n  render() {\r\n    const asPath = window.location.pathname;\r\n    const segments = asPath.split(\"/\").filter((segment) => segment !== \"\");\r\n    const crumbsArr = this.props.crumbs || segments\r\n    const items = [{ title: <Link to=\"/\">Trang chủ</Link> }].concat(\r\n      crumbsArr.map((item, index) => {\r\n        const isLastSegment = index === segments.length - 1;\r\n        const href = `/${segments.slice(0, index + 1).join(\"/\")}`;\r\n        return {\r\n          title: isLastSegment ? (\r\n            <span>{item}</span>\r\n          ) : (\r\n            <Link to={href}>{item}</Link>\r\n          ),\r\n        };\r\n      })\r\n    );\r\n    return (\r\n      <div className=\"container\">\r\n        <Breadcrumb items={items} separator=\">\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\n\r\nexport default class AboutPage extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n  <div className=\"breadcrumb-area\">\r\n    <div className=\"container\">\r\n      <div className=\"breadcrumb-content\">\r\n      <LinkHere url={\"Về chúng tôi\"}></LinkHere>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  {/* Li's Breadcrumb Area End Here */}\r\n  {/* about wrapper start */}\r\n  <div className=\"about-us-wrapper pt-60 pb-40\">\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        {/* About Text Start */}\r\n        <div className=\"col-lg-6 order-last order-lg-first\">\r\n          <div className=\"about-text-wrap\">\r\n            <h2><span>Cung cấp tốt nhất</span>sản phẩm cho bạn</h2>\r\n            <p>Tỏa sáng với vẻ đẹp tự nhiên cùng Stone Shop. Sản phẩm của chúng tôi được tạo ra để nuôi dưỡng làn da, tôn lên vẻ đẹp vốn có của bạn. Hàng triệu khách hàng đã tin tưởng và lựa chọn chúng tôi. Cùng khám phá và yêu bản thân hơn mỗi ngày.</p>\r\n            <p>Đẳng cấp mỹ phẩm, hiệu quả vượt trội. Với thành phần tự nhiên và công nghệ hiện đại, sản phẩm của Stone Shop mang đến hiệu quả rõ rệt ngay từ lần sử dụng đầu tiên. Đừng bỏ lỡ cơ hội trải nghiệm sự khác biệt!</p>\r\n            <p>Chăm sóc da chưa bao giờ dễ dàng đến thế. Chúng tôi hiểu rằng làn da của bạn là tài sản quý giá. Vì vậy, Stone Shop luôn không ngừng nghiên cứu và phát triển những sản phẩm tốt nhất, phù hợp với mọi loại da. Hãy để chúng tôi đồng hành cùng bạn trên hành trình chinh phục vẻ đẹp hoàn hảo.</p>\r\n          </div>\r\n        </div>\r\n        {/* About Text End */}\r\n        {/* About Image Start */}\r\n        <div className=\"col-lg-5 col-md-10\">\r\n          <div className=\"about-image-wrap\">\r\n            <img className=\"img-full\" src=\"https://cocolux.com/storage/slider/larger/1722678938-sn%20NT2.webp\" alt=\"About Us\" />\r\n          </div>\r\n        </div>\r\n        {/* About Image End */}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  {/* about wrapper end */}\r\n  {/* Begin Counterup Area */}\r\n  <div className=\"counterup-area\">\r\n    <div className=\"container-fluid p-0\">\r\n      <div className=\"row no-gutters\">\r\n        <div className=\"col-lg-3 col-md-6\">\r\n          {/* Begin Limupa Counter Area */}\r\n          <div className=\"limupa-counter white-smoke-bg\">\r\n            <div className=\"container\">\r\n              <div className=\"counter-img\">\r\n                <img src=\"https://i.ibb.co/QKXDBNM/1.png\" alt=\"\" />\r\n              </div>\r\n              <div className=\"counter-info\">\r\n                <div className=\"counter-number\">\r\n                  <h3 className=\"counter\">2169</h3>\r\n                </div>\r\n                <div className=\"counter-text\">\r\n                  <span>Khách hàng hài lòng</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* limupa Counter Area End Here */}\r\n        </div>\r\n        <div className=\"col-lg-3 col-md-6\">\r\n          {/* Begin limupa Counter Area */}\r\n          <div className=\"limupa-counter gray-bg\">\r\n            <div className=\"counter-img\">\r\n              <img src=\"https://i.ibb.co/f1Zj6SL/2.png\" alt=\"\" />\r\n            </div>\r\n            <div className=\"counter-info\">\r\n              <div className=\"counter-number\">\r\n                <h3 className=\"counter\">869</h3>\r\n              </div>\r\n              <div className=\"counter-text\">\r\n                <span>Giải thưởng</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* limupa Counter Area End Here */}\r\n        </div>\r\n        <div className=\"col-lg-3 col-md-6\">\r\n          {/* Begin limupa Counter Area */}\r\n          <div className=\"limupa-counter white-smoke-bg\">\r\n            <div className=\"counter-img\">\r\n              <img src=\"https://i.ibb.co/vBktQgS/3.png\" alt=\"\" />\r\n            </div>\r\n            <div className=\"counter-info\">\r\n              <div className=\"counter-number\">\r\n                <h3 className=\"counter\">689</h3>\r\n              </div>\r\n              <div className=\"counter-text\">\r\n                <span>Giờ làm việc</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* limupa Counter Area End Here */}\r\n        </div>\r\n        <div className=\"col-lg-3 col-md-6\">\r\n          {/* Begin limupa Counter Area */}\r\n          <div className=\"limupa-counter gray-bg\">\r\n            <div className=\"counter-img\">\r\n              <img src=\"https://i.ibb.co/z5t0Q7H/4.png\" alt=\"\" />\r\n            </div>\r\n            <div className=\"counter-info\">\r\n              <div className=\"counter-number\">\r\n                <h3 className=\"counter\">2169</h3>\r\n              </div>\r\n              <div className=\"counter-text\">\r\n                <span>Dự án</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* limupa Counter Area End Here */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class AfterCheckoutPage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"error404-area pt-30 pb-60\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"error-wrapper text-center ptb-50 pt-xs-20\">\r\n                <div>\r\n                  <img src=\"https://i.ibb.co/pvDhxPj/checked-ok-yes-icon-1320196391133448530.png\" alt=\"checked\" height=\"70px\" />\r\n                  <h1>Cảm ơn.</h1>\r\n                </div>\r\n                <div>\r\n                  <h1>Đơn hàng của bạn đã được hoàn thành thành công.</h1>\r\n                </div>\r\n                <div>\r\n                  <p><i>Chi tiết đơn hàng của bạn đã được gửi đến email. Vui lòng kiểm tra email của bạn để kiểm tra trạng thái đơn hàng của bạn.</i></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport callApi from \"../../utils/apiCaller\";\r\n\r\nexport default class BillDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      provinces: null,\r\n      states: null,\r\n      name: \"\",\r\n      address: \"\",\r\n      phone: \"\",\r\n      note: \"\",\r\n      provinceData: \"01\",\r\n      stateData: \"001\",\r\n      wards: null,\r\n      wardData: \"00001\",\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const myProvinces = await callApi(\"provinces\", \"GET\", null);\r\n      const myStates = await callApi(\"provinces/01/states\", \"GET\", null); //set static\r\n      const myWards = await callApi(\"provinces/001/wards\", \"GET\", null);\r\n      this.setState({\r\n        provinces: myProvinces?.data,\r\n        states: myStates?.data,\r\n        wards: myWards?.data,\r\n      });\r\n    } catch (err) {}\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    let name = event.target.name;\r\n    let value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  getBillingState = (event) => {\r\n    return this.state; //ref react\r\n  };\r\n\r\n  handleChangeSelectProvince = async (event) => {\r\n    let value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    const res = await callApi(`provinces/${value}/states`, \"GET\", null);\r\n    const resWard = await callApi(`provinces/${res?.data[0].code}/wards`, \"GET\", null);\r\n    this.setState({\r\n      states: res.data,\r\n      provinceData: value,\r\n      stateData: res?.data[0].code,\r\n      wards: resWard?.data,\r\n      wardData: resWard?.data[0]?.code\r\n    });\r\n  };\r\n\r\n  handleChangeSelectState = async (event) => {\r\n    let value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    const res = await callApi(`provinces/${value}/wards`, \"GET\", null);\r\n    this.setState({\r\n      stateData: value,\r\n      wards: res?.data,\r\n      wardData: res?.data[0]?.code,\r\n    });\r\n  };\r\n\r\n  handleChangeSelectWard = async (event) => {\r\n    let value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    this.setState({\r\n      wardData: value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      provinces,\r\n      states,\r\n      provinceData,\r\n      stateData,\r\n      wards,\r\n      wardData,\r\n      name,\r\n      address,\r\n      phone,\r\n      note,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"col-12\" style={{ margin: \"auto\", padding: 40 }}>\r\n        <form>\r\n          <div className=\"checkbox-form\">\r\n            <h3>Địa chỉ giao hàng</h3>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"country-select clearfix\">\r\n                  <label>\r\n                    Tỉnh/ thành phố <span className=\"required\">*</span>\r\n                  </label>\r\n                  <select\r\n                    onChange={this.handleChangeSelectProvince}\r\n                    className=\"nice-select wide\"\r\n                    name=\"provinces\"\r\n                    value={provinceData}\r\n                  >\r\n                    {provinces && provinces.length\r\n                      ? provinces.map((province, index) => {\r\n                          return (\r\n                            <option key={index} value={province.code}>\r\n                              {province.name}\r\n                            </option>\r\n                          );\r\n                        })\r\n                      : null}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"country-select clearfix\">\r\n                  <label>\r\n                    Quận/huyện <span className=\"required\">*</span>\r\n                  </label>\r\n                  <select\r\n                    onChange={this.handleChangeSelectState}\r\n                    className=\"nice-select wide\"\r\n                    name=\"state\"\r\n                    value={stateData}\r\n                  >\r\n                    {states && states.length\r\n                      ? states.map((state, index) => {\r\n                          return (\r\n                            <option key={index} value={state.code}>\r\n                              {state.name}\r\n                            </option>\r\n                          );\r\n                        })\r\n                      : null}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"country-select clearfix\">\r\n                  <label>\r\n                    Phường/Xã <span className=\"required\">*</span>\r\n                  </label>\r\n                  <select\r\n                    onChange={this.handleChangeSelectWard}\r\n                    className=\"nice-select wide\"\r\n                    name=\"ward\"\r\n                    value={wardData}\r\n                  >\r\n                    {wards && wards.length\r\n                      ? wards.map((ward, index) => {\r\n                          return (\r\n                            <option key={index} value={ward.code}>\r\n                              {ward.name}\r\n                            </option>\r\n                          );\r\n                        })\r\n                      : null}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"checkout-form-list\">\r\n                  <label>\r\n                    Họ tên <span className=\"required\">*</span>\r\n                  </label>\r\n                  <input\r\n                    onChange={this.handleChange}\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={name}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"checkout-form-list\">\r\n                  <label>\r\n                    Số điện thoại <span className=\"required\">*</span>\r\n                  </label>\r\n                  <input\r\n                    onChange={this.handleChange}\r\n                    type=\"text\"\r\n                    name=\"phone\"\r\n                    value={phone}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12\">\r\n                <div className=\"checkout-form-list\">\r\n                  <label>\r\n                    Địa chỉ nhận hàng <span className=\"required\">*</span>\r\n                  </label>\r\n                  <input\r\n                    onChange={this.handleChange}\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    value={address}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12\">\r\n                <div className=\"order-notes\">\r\n                  <div className=\"checkout-form-list\">\r\n                    <label>Ghi chú</label>\r\n                    <textarea\r\n                      value={note}\r\n                      onChange={this.handleChange}\r\n                      id=\"checkout-mess\"\r\n                      cols=\"30\"\r\n                      rows=\"10\"\r\n                      name=\"note\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// export const formatNumber = new Intl.NumberFormat('en-US', {\r\n//   style: 'currency',\r\n//   currency: 'USD'\r\n// })\r\nexport const formatNumber = new Intl.NumberFormat('vi-VN', {\r\n  style: 'currency',\r\n  currency: 'VND'\r\n});\r\n","import { Radio, Space } from \"antd\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { formatNumber } from \"../../config/TYPE\";\r\nclass YourOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      provinces: \"\",\r\n      paymentMethod: \"\"\r\n    };\r\n  }\r\n\r\n  handSubmit = () => {\r\n    this.props.submitOrder();\r\n  };\r\n  onChange = (e) => {\r\n    this.setState({\r\n      ...this.state,\r\n      paymentMethod: e.target.value\r\n    })\r\n    this.props.onChangePaymentMethod(e.target.value)\r\n  };\r\n  getPaymentMethod = (event) => {\r\n    return this.state.paymentMethod\r\n  }\r\n\r\n  render() {\r\n    const { order } = this.props;\r\n    const {orderBill, itemAmount, shippingTotal, totalAmount, promoTotal} = order\r\n    const {items} = orderBill\r\n    let count = itemAmount\r\n    return (\r\n      <div className=\"col-lg-10 col-12 mb-2\" style={{ margin: \"auto\" }}>\r\n        <div className=\"your-order\">\r\n          <h3>Đơn hàng của bạn</h3>\r\n          <div className=\"your-order-table table-responsive\">\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"cart-product-name\">Sản phẩm</th>\r\n                  <th className=\"cart-product-total\">Tổng</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {items && items.length\r\n                  ? items.map((item, index) => {\r\n                      return (\r\n                        <tr className=\"cart_item\" key={index}>\r\n                          <td className=\"cart-product-name\">\r\n                            {item.name}\r\n                            <strong\r\n                              className=\"product-quantity\"\r\n                              style={{\r\n                                paddingLeft: 10,\r\n                                color: \"coral\",\r\n                                fontStyle: \"italic\",\r\n                              }}\r\n                            >\r\n                              x{item.quantity}\r\n                            </strong>\r\n                          </td>\r\n                          <td className=\"cart-product-total\">\r\n                            <span className=\"amount\">\r\n                              {formatNumber.format(item.quantity * item.price)}\r\n                            </span>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </tbody>\r\n              <tfoot>\r\n                <tr className=\"cart-subtotal\">\r\n                  <th>Tổng tiền</th>\r\n                  <td>\r\n                    <span className=\"amount\">\r\n                      {count ? formatNumber.format(count) : 0}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n                <tr className=\"cart-subtotal\">\r\n                  <th>Phí vận chuyển</th>\r\n                  <td>\r\n                    <span className=\"amount\">\r\n                      {shippingTotal ? formatNumber.format(shippingTotal) : 0}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n                <tr className=\"cart-subtotal\">\r\n                  <th>Giảm giá</th>\r\n                  <td>\r\n                    <span className=\"amount\">\r\n                      {promoTotal ? formatNumber.format(promoTotal) : 0}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n                <tr className=\"order-total\">\r\n                  <th>Tổng đơn hàng</th>\r\n                  <td>\r\n                    <strong>\r\n                      <span className=\"amount\" style={{ color: \"red\" }}>\r\n                        {formatNumber.format(totalAmount)}\r\n                      </span>\r\n                    </strong>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n          <div className=\"payment-accordion\">\r\n            <div className=\"select-payment-text\">Chọn phương thức thanh toán</div>\r\n            <Radio.Group onChange={this.onChange} value={this.state.paymentMethod}>\r\n              <Space direction=\"vertical\">\r\n                <Radio value={\"COD\"}>COD - Thanh toán khi nhận hàng</Radio>\r\n                <Radio value={\"VNPAY\"}>Thanh toán qua VNPAY</Radio>\r\n              </Space>\r\n            </Radio.Group>\r\n            <div\r\n              onClick={this.props.submitOrder}\r\n              className=\"order-button-payment\"\r\n            >\r\n              <input type=\"submit\" value=\"Thanh toán\" />\r\n            </div>\r\n          </div>\r\n          {/* {config.paypal.secretKey ? (\r\n            <div className=\"mt-2\" style={{ textAlign: \"center\" }}>\r\n              <PaypalCheckoutButton\r\n                changeToggle={(result) => this.props.changeToggle(result)}\r\n                order={order}\r\n              ></PaypalCheckoutButton>\r\n              <VNPayCheckoutButton  changeToggle={(result) => this.props.changeToggle(result)}\r\n                order={order}></VNPayCheckoutButton>\r\n            </div>\r\n          ) : (\r\n            <div className=\"mt-2\" style={{ textAlign: \"center\" }}></div>\r\n          )} */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    // items: state.cart,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(YourOrder);\r\n","import * as Types from \"../../constants/ActionType\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport callApi from \"../../utils/apiCaller\";\r\n\r\nexport const actFetchCartRequest = () => {\r\n  return async (dispatch) => {\r\n    if (localStorage.length === 0) {\r\n      localStorage.setItem(\"_cart\", JSON.stringify([]));\r\n    }\r\n    for (let i = 0; i < localStorage.length; i++) {\r\n      if (localStorage.key(i) === \"_cart\") {\r\n        const res = localStorage.getItem(\"_cart\");\r\n        dispatch(actFetchCart(JSON.parse(res)));\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const actFetchCart = (items) => {\r\n  return {\r\n    type: Types.FETCH_CART,\r\n    items,\r\n  };\r\n};\r\n\r\nexport const actAddCartRequest = (item, quantity) => {\r\n  return async (dispatch) => {\r\n    if (quantity > item.numberAvailable) {\r\n      return toast.error(\r\n        `Chúng tôi chỉ còn ${item.numberAvailable} sản phẩm có sẵn`\r\n      );\r\n    }\r\n    const newQuantity = quantity ? quantity : 1;\r\n    if (localStorage.length === 0) {\r\n      localStorage.setItem(\"_cart\", JSON.stringify([]));\r\n    }\r\n    for (let i = 0; i < localStorage.length; i++) {\r\n      if (localStorage.key(i) === \"_cart\") {\r\n        let cartData = [];\r\n        cartData = JSON.parse(localStorage.getItem(\"_cart\"));\r\n        if (!item.quantity) {\r\n          item.quantity = newQuantity;\r\n        }\r\n        let index = -1;\r\n        index = cartData.findIndex((e) => e.id === item.id);\r\n        if (index === -1) {\r\n          cartData.push(item);\r\n          localStorage.setItem(\"_cart\", JSON.stringify(cartData));\r\n          dispatch(actAddCart(item));\r\n          return toast.success(\"Sản phẩm đã được thêm vào giỏ hàng\");\r\n        } else {\r\n          cartData[index].quantity = Number(cartData[index].quantity) + Number(item.quantity);\r\n          if (cartData[index].quantity > item.numberAvailable) {\r\n            return toast.error(`Vượt quá số lượng có thể thêm vào giỏ hàng`);\r\n          }\r\n          // if (cartData[index].quantity > 5) {\r\n          //   return toast.error(\"Bạn chỉ có thể mua tối đa 5 sản phẩm\");\r\n          // }\r\n          localStorage.setItem(\"_cart\", JSON.stringify(cartData));\r\n          dispatch(actUpdateCart(cartData[index]));\r\n          return toast.success(\"Sản phẩm đã được thêm vào giỏ hàng\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const actAddCart = (item) => {\r\n  return {\r\n    type: Types.ADD_CART,\r\n    item,\r\n  };\r\n};\r\n\r\nexport const actUpdateCartRequest = (item) => {\r\n  return async (dispatch) => {\r\n    let res = JSON.parse(localStorage.getItem(\"_cart\"));\r\n    const index = res.findIndex((e) => e.id === item.id);\r\n    res[index] = item;\r\n    localStorage.setItem(\"_cart\", JSON.stringify(res));\r\n    dispatch(actUpdateCart(item));\r\n  };\r\n};\r\n\r\nexport const actUpdateCart = (item) => {\r\n  return {\r\n    type: Types.UPDATE_CART,\r\n    item,\r\n  };\r\n};\r\n\r\nexport const actRemoveCartRequest = (item) => {\r\n  return async (dispatch) => {\r\n    let res = JSON.parse(localStorage.getItem(\"_cart\"));\r\n    const index = res.findIndex((e) => e.id === item.id);\r\n    res.splice(index, 1);\r\n    dispatch(actRemoveCart(item));\r\n    localStorage.setItem(\"_cart\", JSON.stringify(res));\r\n  };\r\n};\r\n\r\nexport const actRemoveCart = (item) => {\r\n  return {\r\n    type: Types.REMOVE_CART,\r\n    item,\r\n  };\r\n};\r\n\r\nexport const actClearRequest = () => {\r\n  return async (dispatch) => {\r\n    localStorage.setItem(\"_cart\", JSON.stringify([]));\r\n    dispatch(actClearCart());\r\n  };\r\n};\r\n\r\nexport const actClearCart = (clear) => {\r\n  return {\r\n    type: Types.CLEAR_CART,\r\n  };\r\n};\r\n\r\nexport const actCalculateCartItems = (items, userId) => {\r\n  return async (dispatch) => {\r\n    const token = localStorage.getItem(\"_auth\");\r\n    const response = await callApi(\r\n      \"orders/checkout\",\r\n      \"POST\",\r\n      {\r\n        products: items,\r\n        userId: userId,\r\n      },\r\n      token\r\n    );\r\n    if (response?.status === 200) {\r\n      dispatch(actCalculateCartItemsSuccess(response.data));\r\n    }\r\n  };\r\n};\r\n\r\nexport const actCalculateCartItemsSuccess = (data) => {\r\n  return {\r\n    type: Types.CALCULATE_CART_ITEMS,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const setSelectedItems = (items) => {\r\n  return {\r\n    type: Types.SET_SELECTED_ITEMS,\r\n    items,\r\n  };\r\n};\r\n\r\nexport const clearItemSelected = () => {\r\n  return {\r\n    type: Types.CLEAR_ITEMS_SELECTED,\r\n  };\r\n};\r\n\r\nexport const updateNewCart = (items) => {\r\n  return {\r\n    type: Types.UPDATE_NEW_CART,\r\n    items,\r\n  };\r\n};\r\n","export const FETCH_PRODUCTS = 'FETCH_PRODUCTS';\r\nexport const FETCH_PRODUCTS_NEW = 'FETCH_PRODUCTS_NEW';\r\nexport const FETCH_PRODUCTS_LAPTOP = 'FETCH_PRODUCTS_LAPTOP';\r\nexport const FETCH_PRODUCTS_OFFICE = 'FETCH_PRODUCTS_OFFICE';\r\nexport const FETCH_PRODUCTS_OHTER = 'FETCH_PRODUCTS_OHTER';\r\n\r\n\r\nexport const FETCH_PRODUCT = 'FETCH_PRODUCT';\r\nexport const SEARCH_PRODUCTS = 'SEARCH_PRODUCTS';\r\n\r\nexport const FETCH_CATEGORIES = 'FETCH_CATEGORIES';\r\nexport const FETCH_CATEGORY_TREE = 'FETCH_CATEGORY_TREE'\r\n\r\nexport const FETCH_CATEGORIES_PRODUCT = 'FETCH_CATEGORIES_PRODUCT';\r\n\r\nexport const STATUS_CATEGORY = \"STATUS_CATEGORY\";\r\n\r\nexport const FETCH_CART = \"FETCH_CART\";\r\nexport const ADD_CART = \"ADD_CART\";\r\nexport const UPDATE_CART = \"UPDATE_CART\";\r\nexport const REMOVE_CART = \"REMOVE_CART\";\r\nexport const CLEAR_CART = \" CLEAR_CART\";\r\n\r\nexport const LOGIN = 'LOGIN';\r\nexport const REGISTER = 'REGISTER';\r\nexport const TOKEN_REDUX = 'TOKEN_REDUX';\r\nexport const UPDATE_ME = 'UPDATE_ME';\r\n\r\nexport const FETCH_RATINGS = \"FETCH_RATINGS\";\r\nexport const ADD_RATING = \"ADD_RATING\";\r\nexport const UPDATE_RATING = \"UPDATE_RATING\";\r\nexport const REMOVE_RATING = \"REMOVE_RATING\";\r\n\r\nexport const FETCH_FAVORITES = \"FETCH_FAVORITES\";\r\nexport const ADD_FAVORITE = \"ADD_FAVORITE\";\r\nexport const UPDATE_FAVORITE = \"UPDATE_FAVORITE\";\r\nexport const REMOVE_FAVORITE = \"REMOVE_FAVORITE\";\r\n\r\nexport const FETCH_PRODUCERS = \"FETCH_PRODUCERS\";\r\nexport const FETCH_PRODUDCTS_PRODUCER = \"FETCH_PRODUDCTS_PRODUCER\";\r\n\r\nexport const SHOWLOADING = \"SHOWLOADING\";\r\nexport const HIDDENLOADING = \"HIDDENLOADING\";\r\n\r\nexport const CALCULATE_CART_ITEMS = 'CALCULATE_CART_ITEMS';\r\nexport const SET_SELECTED_ITEMS = 'SET_SELECTED_ITEMS';\r\nexport const CLEAR_ITEMS_SELECTED = 'CLEAR_ITEMS_SELECTED';\r\nexport const UPDATE_NEW_CART = 'UPDATE_NEW_CART';\r\n\r\nexport const SEARCH_PRODUCT_V2 = 'SEARCH_PRODUCT_V2';\r\nexport const SEARCH_PRODUCT_PAGINATION_V2 = 'SEARCH_PRODUCT_PAGINATION_V2';\r\nexport const SEARCH_PRODUCT_BY_CATEGORY = 'SEARCH_PRODUCT_BY_CATEGORY';\r\nexport const SEARCH_PRODUCT_BY_KEYWORD = 'SEARCH_PRODUCT_BY_KEYWORD';\r\nexport const SEARCH_PRODUCT_HOT = 'SEARCH_PRODUCT_HOT';\r\nexport const SEARCH_PRODUCT_BEST_SELLING = 'SEARCH_PRODUCT_BEST_SELLING';\r\nexport const SEARCH_PRODUCT_FEATURE = 'SEARCH_PRODUCT_FEATURE';\r\nexport const SEARCH_PRODUCT_SAME_CATEGORY = 'SEARCH_PRODUCT_SAME_CATEGORY';\r\nexport const ALL_PRODUCT = 'ALL_PRODUCT';\r\n\r\n","import NProgress from 'nprogress'\r\n\r\nexport function startLoading() {\r\n  return NProgress.start()\r\n}\r\n\r\nexport function doneLoading() {\r\n  return NProgress.done()\r\n}\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport BillDetail from \"./BillDetail\";\r\nimport YourOrder from \"./YourOrder\";\r\nimport { connect } from \"react-redux\";\r\nimport callApi from \"../../utils/apiCaller\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { actClearRequest, clearItemSelected, updateNewCart } from \"../../redux/actions/cart\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { startLoading, doneLoading } from \"../../utils/loading\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport \"./style.css\";\r\nconst MySwal = withReactContent(Swal);\r\n\r\ntoast.configure();\r\n\r\nlet token, res, resultOrder;\r\nclass CheckOut extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      toggleCheckout: false,\r\n      login: true,\r\n      shippingAddress: false,\r\n      checkout: false,\r\n      result: false,\r\n      paymentMethod: \"\",\r\n    };\r\n    this.billing = React.createRef();\r\n    this.onChangePaymentMethod = this.onChangePaymentMethod.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    token = localStorage.getItem(\"_auth\");\r\n  }\r\n\r\n  onChangePaymentMethod(method) {\r\n    this.setState({ ...this.state, paymentMethod: method });\r\n  }\r\n  submitOrder = async () => {\r\n    if (!this.state.paymentMethod) {\r\n      toast.error(\"Vui lòng chọn phương thức thanh toán\");\r\n      return;\r\n    }\r\n    if (!this.props.selectedItems.length) {\r\n      toast.error(\"Vui lòng chọn sản phẩm để đặt hàng\");\r\n      return;\r\n    }\r\n    MySwal.fire({\r\n      title: \"Bạn chắc chắn muốn thanh toán?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#74dbef\",\r\n      cancelButtonColor: \"#F87474\",\r\n      confirmButtonText: \"Đúng, thanh toán ngay\",\r\n      cancelButtonText: \"Huỷ\",\r\n    }).then(async (result) => {\r\n      if (result.value) {\r\n        const { provinceData, stateData } = res; //get code\r\n        const resData = await callApi(\"users/me\", \"GET\", null, token);\r\n        const userId = resData.data.results[0].id;\r\n        if (res.name === \"\" || res.address === \"\" || res.phone === \"\") {\r\n          return toast.error(\"Vui lòng nhập đầy đủ form trước khi thanh toán\");\r\n        }\r\n        let addressProvince;\r\n        if (res.provinces && res.provinces.length) {\r\n          res.provinces.map((item) => {\r\n            if (item.code === provinceData) {\r\n              addressProvince = item.name;\r\n              return addressProvince;\r\n            }\r\n            return { message: \"error\" };\r\n          }); //output name province\r\n        }\r\n\r\n        let addressState;\r\n        if (res.states && res.states.length) {\r\n          res.states.map((item) => {\r\n            if (item.code === stateData) {\r\n              addressState = item.name;\r\n              return addressState;\r\n            }\r\n            return { message: \"error\" };\r\n          }); //output name state\r\n        }\r\n\r\n        const addressResult = {\r\n          province: addressProvince,\r\n          state: addressState,\r\n          house: res.address,\r\n          codeProvince: provinceData,\r\n          codeState: stateData,\r\n        }; // output address\r\n        const note = res.note !== \"\" ? res.note : null;\r\n        const resultOrder = {\r\n          fullName: res.name,\r\n          address: addressResult,\r\n          note: note,\r\n          phone: res.phone,\r\n          userId,\r\n          products: this.props.selectedItems.map((it) => ({\r\n            productId: it.id,\r\n            quantity: it.quantity,\r\n          })),\r\n          paymentMethod: this.state.paymentMethod,\r\n        };\r\n        //insert order to db\r\n        startLoading();\r\n        const orderDb = await callApi(\"orders\", \"POST\", resultOrder, token); //method post nen truyen them token tren headers\r\n        if (!orderDb) {\r\n          doneLoading();\r\n          return;\r\n        }\r\n        if (\r\n          this.state.paymentMethod === \"VNPAY\" &&\r\n          orderDb.status === 200 &&\r\n          orderDb.data.vnPayUrl\r\n        ) {\r\n          this.deleteItemsBuy()\r\n          window.location.href = orderDb.data.vnPayUrl;\r\n        } else {\r\n          // remove on cart\r\n          MySwal.fire({\r\n            position: \"top-end\",\r\n            icon: \"success\",\r\n            title: \"Thành công!\",\r\n            showConfirmButton: true,\r\n            timer: 15000,\r\n          });\r\n          this.setState({\r\n            checkout: true,\r\n            result: true,\r\n          });\r\n          doneLoading();\r\n          this.deleteItemsBuy();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  toggleCheckout = async () => {\r\n    if (!this.props.selectedItems.length) {\r\n      toast.error(\"Vui lòng chọn sản phẩm để đặt hàng\");\r\n      return;\r\n    }\r\n    const { toggleCheckout, shippingAddress } = this.state;\r\n    const auth = localStorage.getItem(\"_auth\");\r\n    if (!auth) {\r\n      return toast.error(\"Vui lòng đăng nhập để thực hiện chức năng này\");\r\n    }\r\n    res = this.billing.current.getBillingState();\r\n    const { provinceData, stateData } = res; //get code\r\n    const resData = await callApi(\"users/me\", \"GET\", null, token);\r\n    const userId = resData.data.results[0].id;\r\n    const builder = localStorage.getItem(\"_cart\");\r\n    const dataCart = JSON.parse(builder);\r\n    if (res.name === \"\" || res.address === \"\" || res.phone === \"\") {\r\n      return toast.error(\"Vui lòng đăng nhập trước khi đặt hàng\");\r\n    }\r\n    let addressProvince;\r\n    if (res.provinces && res.provinces.length) {\r\n      res.provinces.map((item) => {\r\n        if (item.code === provinceData) {\r\n          addressProvince = item.name;\r\n          return addressProvince;\r\n        }\r\n        return { message: \"error\" };\r\n      }); //output name province\r\n    }\r\n\r\n    let addressState;\r\n    if (res.states && res.states.length) {\r\n      res.states.map((item) => {\r\n        if (item.code === stateData) {\r\n          addressState = item.name;\r\n          return addressState;\r\n        }\r\n        return { message: \"error\" };\r\n      }); //output name state\r\n    }\r\n\r\n    const addressResult = {\r\n      province: addressProvince,\r\n      state: addressState,\r\n      house: res.address,\r\n      codeProvince: provinceData,\r\n      codeState: stateData,\r\n    }; // output address\r\n    const note = res.note !== \"\" ? res.note : null;\r\n    let amount = this.props.cartCalculateItems.itemAmount || 0;\r\n    let dataItems = [];\r\n\r\n    const itemIdsSelected = this.props.selectedItems.map((it) => it.id);\r\n    const itemsSelected = dataCart.filter((item) =>\r\n      itemIdsSelected.includes(item.id)\r\n    );\r\n    itemsSelected.forEach((item) => {\r\n      dataItems.push({\r\n        sku: item.id,\r\n        name: item.nameProduct,\r\n        description: item.description,\r\n        quantity: item.quantity,\r\n        price: item.price,\r\n      });\r\n    });\r\n    resultOrder = {\r\n      fullName: res.name,\r\n      address: addressResult,\r\n      note: note,\r\n      phone: res.phone,\r\n      itemAmount: amount,\r\n      promoTotal: 0,\r\n      shippingTotal: this.props.cartCalculateItems.shippingTotal || 0,\r\n      totalAmount: this.props.cartCalculateItems.totalAmount || 0,\r\n      promoTotal: this.props.cartCalculateItems?.promoTotal || 0,\r\n      orderBill: {\r\n        customer: userId,\r\n        total: amount,\r\n        items: dataItems,\r\n      },\r\n      token,\r\n    };\r\n    this.setState({\r\n      toggleCheckout: !toggleCheckout,\r\n      shippingAddress: !shippingAddress,\r\n    });\r\n  };\r\n\r\n  deleteItemsBuy() {\r\n    const builder = localStorage.getItem(\"_cart\");\r\n    const dataCart = JSON.parse(builder);\r\n    const itemIdsSelected = this.props.selectedItems.map((it) => it.id);\r\n    const remainingItems = dataCart.filter((item) =>\r\n      !itemIdsSelected.includes(item.id)\r\n    );\r\n    const newCart = remainingItems\r\n    this.props.clearItemSelected()\r\n    this.props.updateNewCart(newCart)\r\n    localStorage.setItem(\"_cart\", JSON.stringify(newCart))\r\n  }\r\n\r\n  render() {\r\n    const { redirectTo, toggleCheckout, shippingAddress, checkout, result } =\r\n      this.state;\r\n    if (redirectTo) {\r\n      return <Redirect to=\"/after-checkout\"></Redirect>;\r\n    }\r\n    return (\r\n      <div className=\"checkout-area pt-60 pb-30\">\r\n        <div className=\"container checkout-page-container\">\r\n          <div\r\n            className=\"row\"\r\n            style={{ textAlign: \"center\", paddingBottom: 10 }}\r\n          >\r\n            <div className=\"col-3\"></div>\r\n            <div className=\"col-6\">\r\n              <div className=\"container\">\r\n                <ul className=\"progressbar\">\r\n                  <li className=\"active\">Đăng nhập</li>\r\n                  {shippingAddress ? (\r\n                    <li className=\"active\">Địa chỉ nhận hàng</li>\r\n                  ) : (\r\n                    <li>ĐỊA CHỈ NHẬN HÀNG</li>\r\n                  )}\r\n                  {checkout ? (\r\n                    <li className=\"active\">THANH TOÁN</li>\r\n                  ) : (\r\n                    <li>THANH TOÁN</li>\r\n                  )}\r\n                  {result ? (\r\n                    <li className=\"active\">KẾT QUẢ</li>\r\n                  ) : (\r\n                    <li>KẾT QUẢ</li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-3\"></div>\r\n          </div>\r\n          {result ? (\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12\">\r\n                <div className=\"error-wrapper text-center ptb-50 pt-xs-20\">\r\n                  <div>\r\n                    <img\r\n                      src=\"https://i.ibb.co/pvDhxPj/checked-ok-yes-icon-1320196391133448530.png\" //change\r\n                      alt=\"checked\"\r\n                      height=\"70px\"\r\n                    />\r\n                    <h1>Cảm ơn bạn đã tin tưởng sản phẩm của chúng tôi</h1>\r\n                  </div>\r\n                  <div>\r\n                    <h1>Đơn hàng của bạn đã được đặt thành công</h1>\r\n                  </div>\r\n                  <div>\r\n                    <p></p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"row\">\r\n              {toggleCheckout ? (\r\n                <YourOrder\r\n                  changeToggle={(result) => this.changeToggle(result)}\r\n                  order={resultOrder}\r\n                  submitOrder={() => this.submitOrder()}\r\n                  onChangePaymentMethod={this.onChangePaymentMethod}\r\n                ></YourOrder>\r\n              ) : (\r\n                <BillDetail ref={this.billing}></BillDetail>\r\n              )}\r\n              <div className=\"col-12\" style={{ textAlign: \"center\" }}>\r\n                {!toggleCheckout ? (\r\n                  <button\r\n                    onClick={() => this.toggleCheckout()}\r\n                    className=\"btn btn-primary btn-checkout\"\r\n                    style={{ marginTop: -25, marginBottom: 10 }}\r\n                  >\r\n                    Tiếp theo\r\n                  </button>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cartCalculateItems: state.cartCalculateItems.data,\r\n    selectedItems: state.cartCalculateItems.selectedItems,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    reset_cart: () => {\r\n      dispatch(actClearRequest());\r\n    },\r\n    clearItemSelected: () => {\r\n      dispatch(clearItemSelected())\r\n    },\r\n    updateNewCart: (items) => {\r\n      dispatch(updateNewCart(items))\r\n    }\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckOut);\r\n","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nimport CheckOut from '../components/CheckOut/CheckOut'\r\n\r\nexport default class CheckOutPage extends Component {\r\n  render() {\r\n    const url = this.props.match.match.url;\r\n    return (\r\n      <div>\r\n        <LinkHere url={url}></LinkHere>\r\n        <CheckOut></CheckOut>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport callApi from \"../../utils/apiCaller\";\r\nimport { toast } from \"react-toastify\";\r\nexport default class Contact extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      subject: \"\",\r\n      message: \"\",\r\n    };\r\n  }\r\n  handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\r\n    const name = target.name;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { name, email, subject, message } = this.state;\r\n    const newSubject = subject ? subject : null;\r\n    const newMessage = message ? message : null;\r\n    if (!name || !email) {\r\n      return toast.error(\"Tên và email không được để trống!\");\r\n    }\r\n    const newContact = {\r\n      name,\r\n      email,\r\n      subject: newSubject,\r\n      message: newMessage,\r\n    };\r\n    const res = await callApi(\"contacts\", \"POST\", newContact, null);\r\n    if (res && res.status === 200) {\r\n      toast.success(\"Gửi liên hệ thành công\");\r\n      this.setState({\r\n        name: \"\",\r\n        email: \"\",\r\n        subject: \"\",\r\n        message: \"\",\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    const { name, email, subject, message } = this.state;\r\n    return (\r\n      <div className=\"contact-main-page mt-60 mb-40 mb-md-40 mb-sm-40 mb-xs-40\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-5 offset-lg-1 col-md-12 order-1 order-lg-2\">\r\n              <div className=\"contact-page-side-content\">\r\n                <h3 className=\"contact-page-title\">Liên hệ chúng tôi</h3>\r\n                <p className=\"contact-page-message mb-25\">\r\n                  Stone Shop là hệ thống phân phối mỹ phẩm chính hãng uy tín và\r\n                  dịch vụ chăm sóc khách hàng tận tâm. Đến với Stone Shop bạn có\r\n                  thể hoàn toàn yên tâm khi lựa chọn cho mình những bộ sản phẩm\r\n                  phù hợp và ưng ý từ các nhãn hàng nổi tiếng trên toàn thế\r\n                  giới.\r\n                </p>\r\n                <div className=\"single-contact-block\">\r\n                  <h4>\r\n                    <i className=\"fa fa-fax\" /> Địa chỉ\r\n                  </h4>\r\n                  <p>Số 80 Phố Chùa Bộc, Phường Quang Trung, Quận Đống Đa, Thành phố Hà Nội, Việt Nam</p>\r\n                </div>\r\n                <div className=\"single-contact-block\">\r\n                  <h4>\r\n                    <i className=\"fa fa-phone\" /> Số điện thoại\r\n                  </h4>\r\n                  <p>Di động: (+84) 868 299 812</p>\r\n                  <p>Đường dây nóng: (+84) 868 299 812</p>\r\n                </div>\r\n                <div className=\"single-contact-block last-child\">\r\n                  <h4>\r\n                    <i className=\"fa fa-envelope-o\" /> Email\r\n                  </h4>\r\n\r\n                  <p>supportstoneshop@gmail.com</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-6 col-md-12 order-2 order-lg-1\">\r\n              <div className=\"contact-form-content pt-sm-55 pt-xs-55\">\r\n                <h3 className=\"contact-page-title\">\r\n                  Hãy cho chúng tôi biết phản hồi của bạn\r\n                </h3>\r\n                <div className=\"contact-form\">\r\n                  <form onSubmit={(event) => this.handleSubmit(event)}>\r\n                    <div className=\"form-group\">\r\n                      <label>\r\n                        Tên của bạn <span className=\"required\">*</span>\r\n                      </label>\r\n                      <input\r\n                        onChange={this.handleChange}\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={name}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>\r\n                        Email của bạn <span className=\"required\">*</span>\r\n                      </label>\r\n                      <input\r\n                        onChange={this.handleChange}\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        value={email}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Tiêu đề</label>\r\n                      <input\r\n                        onChange={this.handleChange}\r\n                        type=\"text\"\r\n                        name=\"subject\"\r\n                        value={subject}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group mb-30\">\r\n                      <label>Nội dung</label>\r\n                      <textarea\r\n                        onChange={this.handleChange}\r\n                        name=\"message\"\r\n                        value={message}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        value=\"submit\"\r\n                        className=\"li-btn-3\"\r\n                        name=\"submit\"\r\n                      >\r\n                        Gửi\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                <p className=\"form-messege\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nimport Contact from '../components/Contact/Contact'\r\n\r\nexport default class ContactPage extends Component {\r\n  render() {\r\n  //  const url = this.props.match.match.url;\r\n    return (\r\n     <div>\r\n       <LinkHere url={\"Liên hệ\"}></LinkHere>\r\n       <Contact></Contact>\r\n     </div>\r\n    )\r\n  }\r\n}\r\n","import * as Types from '../../constants/ActionType';\r\nimport callApi from '../../utils/apiCaller';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const actLoginRequest = (user) => {\r\n    return async dispatch => {\r\n        const res = await callApi('auth/login', 'POST', user);\r\n        if (res && res.data.token) {\r\n            const token = res.data.token\r\n            localStorage.setItem('_auth', token);\r\n            dispatch(actLogin(token));\r\n        }\r\n    };\r\n}\r\n\r\nexport const actLogin = (token) => {\r\n    return {\r\n        type: Types.LOGIN,\r\n        token\r\n    }\r\n}\r\n\r\nexport const actRegisterRequest = (user) => {\r\n    return async () => {\r\n        const res = await callApi('auth/register', 'POST', user);\r\n        if (res && res.status === 200) {\r\n            toast.success('Đăng ký thành công')\r\n        }\r\n    };\r\n}\r\n\r\nexport const actTokenRequest = (token) => {\r\n    return async dispatch => {\r\n        dispatch(actToken(token));\r\n    };\r\n}\r\n\r\nexport const actToken = (token) => {\r\n    return {\r\n        type: Types.TOKEN_REDUX,\r\n        token\r\n    }\r\n}\r\n\r\nexport const actForgotPasswordRequest = (email) => {\r\n    return async () => {\r\n        const res = await callApi('auth/forgotPassword', 'POST', email);\r\n        if (res && res.status === 200) {\r\n            toast.success('Đặt lại mật khẩu thành công, vui lòng kiểm tra email của bạn!')\r\n        }\r\n    };\r\n}\r\n\r\nexport const actUpdateMeRequset = (data, token) => {\r\n    return async dispatch => {\r\n        if (token){\r\n            const res = await callApi('users/me', 'PUT', data, token);\r\n            if (res && res.status === 200) {\r\n                toast.success('Cập nhật người dùng thành công')\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nexport const actChangePasswordMeRequset = (data, token) => {\r\n    return async dispatch => {\r\n        const res = await callApi('users/me/changePassword', 'PUT', data, token);\r\n        if (res && res.status === 200) {\r\n            toast.success('Đổi mật khẩu thành công')\r\n        }\r\n    };\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './style.css'\r\nimport { actForgotPasswordRequest } from '../../redux/actions/auth';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass ForgotPassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: ''\r\n    }\r\n  }\r\n\r\n  handleChange = event => {\r\n    const name = event.target.name;\r\n    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n\r\n  sendEmailResetPassword = async (event) => {\r\n    event.preventDefault();\r\n    const { email } = this.state;\r\n    if (email === '') {\r\n      return toast.error('Email là bắt buộc');\r\n    }\r\n    if (!email.match(/.+@.+/)) {\r\n      return toast.error('Email không hợp lệ');\r\n    }\r\n    const dataEmail = {\r\n      email\r\n    }\r\n    this.props.resetMyPassword(dataEmail)\r\n    this.setState({\r\n      email: ''\r\n    })\r\n    \r\n  }\r\n\r\n  render() {\r\n    const { email } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-6\" style={{ padding: 55, margin: 'auto' }}>\r\n            {/* Login Form s*/}\r\n            <form onSubmit={(event) => this.handleSubmit(event)}>\r\n              <div className=\"login-form fix-border-rspw\">\r\n                <h4 className=\"login-title\">Cập nhật mật khẩu</h4>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12 col-12 mb-20\">\r\n                    <label>Email*</label>\r\n                    <input onChange={this.handleChange} value={email} className=\"mb-0\" type=\"email\"\r\n                      placeholder=\"Email Address\" name='email' />\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <button onClick={this.sendEmailResetPassword} className=\"register-button mb-3 fix-button-resetpw\">Cập nhật mật khẩu của bạn</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    resetMyPassword: (email) => {\r\n      dispatch(actForgotPasswordRequest(email))\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(ForgotPassword)","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nimport ForgotPassword from '../components/LoginRegister/ForgotPassword'\r\n\r\nexport default class ForgotPasswordPage extends Component {\r\n  render() {\r\n    const url = this.props.match.match.url;\r\n    return (\r\n      <div>\r\n         <LinkHere url={url}></LinkHere>\r\n        <ForgotPassword></ForgotPassword>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\n\r\nexport default class SliderLeft extends Component {\r\n  render() {\r\n    const sliders = [\r\n      {\r\n        id: \"1\",\r\n        image: \"https://vietwave.com.vn/mediqueens/upload/files/chung/banner-1.jpg\",\r\n        link: \"/\",\r\n      },\r\n      {\r\n        id: \"2\",\r\n        image: \"https://vietwave.com.vn/mediqueens/upload/files/chung/banner-2.jpg\",\r\n        link: \"/\",\r\n      },\r\n      {\r\n        id: \"3\",\r\n        image: \"https://theme.hstatic.net/1000342714/1000664932/14/slider_1.png?v=26\",\r\n        link: \"/\",\r\n      },\r\n    ];\r\n    return (\r\n      <div className=\"slider-container\">\r\n        <Carousel\r\n          autoPlay={true}\r\n          interval={2000}\r\n          infiniteLoop={true}\r\n          showThumbs={false}\r\n          showStatus={false}\r\n          onClickItem={(index, obj) => {\r\n            try {\r\n              if (obj?.props?.href) {\r\n                window.open(obj.props.href, \"_blank\");\r\n              }\r\n            } catch (ex) {}\r\n          }}\r\n          className=\"sliderSectionCarousel\"\r\n        >\r\n          {sliders.map((item) => (\r\n            <a\r\n              key={item.id}\r\n              href={item.link}\r\n              id={item.id}\r\n              target=\"_blank\"\r\n              style={{ cursor: \"pointer\" }}\r\n            >\r\n              <img src={item.image} alt=\"image\" />\r\n            </a>\r\n          ))}\r\n        </Carousel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class BannerRight extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"col-lg-4 col-md-4 text-center pt-xs-30\">\r\n        <div className=\"li-banner\">\r\n          <img src=\"https://i.ibb.co/FHr1bng/1-1.jpg\" alt=\"not found\" />\r\n        </div>\r\n        <div className=\"li-banner mt-15 mt-sm-30 mt-xs-30\">\r\n          <img src=\"https://i.ibb.co/27bsVKQ/1-2.jpg\" alt=\"not found\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as Types from '../../constants/ActionType';\r\nimport callApi from '../../utils/apiCaller';\r\n\r\nexport const actFetchCategoriesRequest = () => {\r\n    return async dispatch => {\r\n        const res = await callApi('categories', 'GET', null);\r\n        if ( res && res.status === 200 ) {\r\n            dispatch(actFetchCategories(res.data.results));\r\n        }      \r\n    };\r\n}\r\n\r\nexport const actFetchCategories = (categories) => {\r\n    return {\r\n        type : Types.FETCH_CATEGORIES,\r\n        categories\r\n    }\r\n}\r\n\r\nexport const actFetchCategoryTreeRequest = () => {\r\n    return async dispatch => {\r\n        const res = await callApi('categories/tree', 'GET', null);\r\n        if ( res && res.status === 200 ) {\r\n           \r\n            dispatch(actFetchCategoryTree(res.data.results));\r\n        }      \r\n    };\r\n}\r\n\r\nexport const actFetchCategoryTree = (categories) => {\r\n    return {\r\n        type : Types.FETCH_CATEGORY_TREE,\r\n        categories\r\n    }\r\n}","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom\";\nimport { actFetchCategoryTreeRequest } from \"../../../redux/actions/category\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction Category() {\n  const history = useHistory();\n  const categories = useSelector((state) => state.categories || []);\n  const mapCategories = useCallback((categories) => {\n    return categories.map((category) => {\n      const children = category.children\n        ? mapCategories(category.children)\n        : [];\n      const hasChildren = !!children.length;\n      const newCategory = {\n        key: category.id,\n        label: category.nameCategory,\n        ...(hasChildren && { children, type: \"Submenu\" }),\n      };\n      return newCategory;\n    });\n  }, []);\n  const mapDataCategories = mapCategories(categories);\n  const dispatch = useDispatch();\n\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [showSubCategory, setShowSubCategory] = useState(false);\n  const timeOutMouseEnter = useRef(null);\n\n  const clearTimeOutShowOffSubCategory = () => {\n    if (timeOutMouseEnter.current) {\n      clearTimeout(timeOutMouseEnter.current);\n    }\n  };\n\n  const onMouseOutCategory = () => {\n    clearTimeOutShowOffSubCategory();\n    timeOutMouseEnter.current = setTimeout(() => {\n      setSelectedCategory(\"\");\n      setShowSubCategory(false);\n    }, 300);\n  };\n\n  const onMouseInCategory = (item) => {\n    clearTimeOutShowOffSubCategory();\n    setShowSubCategory(true);\n    item && setSelectedCategory(item);\n  };\n\n  const subCategories = useMemo(() => {\n    return selectedCategory?.children || [];\n  }, [selectedCategory]);\n\n  useEffect(() => {\n    dispatch(actFetchCategoryTreeRequest());\n  }, [dispatch]);\n\n  return (\n    <div\n      className=\"list-category\"\n      onMouseLeave={() => {\n        onMouseOutCategory();\n      }}\n    >\n      <div className=\"list-parent-category\">\n        {mapDataCategories.map((item) => (\n          <div\n            key={item.key}\n            className=\"each-category\"\n            onMouseEnter={() => {\n              onMouseInCategory(item);\n            }}\n            onClick={() => history.push(`/categories/${item.key}`)}\n          >\n            {item.label}\n          </div>\n        ))}\n      </div>\n      {showSubCategory && (\n        <div\n          className=\"list-subCategory\"\n          onMouseEnter={() => onMouseInCategory()}\n        >\n          {subCategories.map((item) => (\n            <SubCategory key={item.key} item={item} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst SubCategory = ({ item }) => {\n  const history = useHistory();\n  return (\n    <div className=\"subCategory-container\">\n      <p\n        className=\"subCategory-label\"\n        onClick={() => history.push(`/categories/${item.key}`)}\n      >\n        {item.label}\n      </p>\n      {!!item.children?.length && (\n        <div className=\"subCategory-listChild\">\n          {item.children.slice(0, 5).map((child) => (\n            <div\n              key={child.key}\n              className=\"subCategory-child-label\"\n              onClick={() => history.push(`/categories/${child.key}`)}\n            >\n              {child.label}\n            </div>\n          ))}\n          {item.children.length > 5 && (\n            <div\n              className=\"subCategory-child-viewAll\"\n              onClick={() => history.push(`/categories/${item.key}`)}\n            >{`Xem tất cả >`}</div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Category;\n","import React, { Component } from 'react'\r\nimport SliderLeft from './SliderLeft'\r\nimport BannerRight from './BannerRight'\r\nimport Category from './Category'\r\nimport './style.css'\r\n\r\nexport default class Slider extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"slider-with-banner\">\r\n        <div className=\"container\">\r\n          <div className=\"row-container\">\r\n            {/* Begin Slider Area */}\r\n            <div className='category-container'>\r\n              <Category />\r\n            </div>\r\n            <SliderLeft></SliderLeft>\r\n            {/* Slider Area End Here */}\r\n\r\n            {/* Begin Li Banner Area */}\r\n            {/* <BannerRight></BannerRight> */}\r\n            {/* Li Banner Area End Here */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nexport default class BannerMiddle extends Component {\r\n  render() {\r\n    const banners = [\r\n      { key: \"banner-1\", link: \"#\", image: \"https://bizweb.dktcdn.net/100/454/277/themes/861257/assets/slider_2.jpg?1710323085655\" },\r\n      { key: \"banner-2\", link: \"#\", image: \"https://bizweb.dktcdn.net/thumb/grande/100/297/201/themes/927444/assets/slider_1.jpg?1700218386175\" },\r\n      { key: \"banner-3\", link: \"#\", image: \"https://bizweb.dktcdn.net/thumb/grande/100/297/201/themes/927444/assets/slider_2.jpg?1700218386175\" },\r\n    ];\r\n    return (\r\n      <div className=\"li-static-banner\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            {banners.map((banner) => (\r\n              <div key={banner.key} className=\"col-lg-4 col-md-4 text-center\">\r\n                <div className=\"single-banner\">\r\n                  <Link to={banner.link}>\r\n                    <img src={banner.image} alt=\"Li's Static Banner\" />\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction BannerTop() {\n  return (\n    <div className=\"container\" style={{marginTop: 40}}>\n      <Link to={'#'}>\n        <img src={'https://bizweb.dktcdn.net/100/370/289/themes/750565/assets/slider_2.jpg?1699514276127'} alt=\"Banner\" style={{width: '100%'}} />\n      </Link>\n    </div>\n  );\n}\n\nexport default BannerTop;\n","import * as Types from \"../../constants/ActionType\";\r\nimport callApi from \"../../utils/apiCaller\";\r\nimport { actShowLoading, actHiddenLoading } from \"./loading\";\r\n\r\nexport const actFetchProductsRequest = (value, offset) => {\r\n  const newOffset = offset === null || offset === undefined ? 0 : offset;\r\n  const newValue =\r\n    value === undefined || value === \"\" || value === null\r\n      ? \"-createdAt\"\r\n      : value;\r\n  const limit = 12;\r\n  return (dispatch) => {\r\n    dispatch(actShowLoading());\r\n    return new Promise((resolve, reject) => {\r\n      callApi(\r\n        `products?limit=${limit}&offset=${newOffset}&orderBy=${newValue}`,\r\n        \"GET\",\r\n        null\r\n      )\r\n        .then((res) => {\r\n          if (res && res.status === 200) {\r\n            dispatch(actFetchProducts(res.data.results));\r\n            resolve(res.data);\r\n            setTimeout(function () {\r\n              dispatch(actHiddenLoading());\r\n            }, 200);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n          setTimeout(function () {\r\n            dispatch(actHiddenLoading());\r\n          }, 200);\r\n        });\r\n    });\r\n  };\r\n};\r\n\r\nexport const actFetchProductsPriceRequest = (price, id) => {\r\n  let minPrice;\r\n  let maxPrice;\r\n  if (price === 1.5) {\r\n    minPrice = 10;\r\n    maxPrice = 50;\r\n  }\r\n  if (price === 5.2) {\r\n    minPrice = 50;\r\n    maxPrice = 200;\r\n  }\r\n  if (price === 2.1) {\r\n    minPrice = 200;\r\n    maxPrice = 1000;\r\n  }\r\n  if (price === 1) {\r\n    minPrice = 1000;\r\n    maxPrice = 99999999999;\r\n  }\r\n  const limit = 12;\r\n  return (dispatch) => {\r\n    dispatch(actShowLoading());\r\n    return new Promise((resolve, reject) => {\r\n      callApi(\r\n        `categories/${id}/products?limit=${limit}&orderBy=-createdAt&minPrice=${minPrice}&maxPrice=${maxPrice}`,\r\n        \"GET\",\r\n        null\r\n      )\r\n        .then((res) => {\r\n          if (res && res.status === 200) {\r\n            dispatch(actGetProductOfCategory(res.data.results));\r\n            resolve(res.data);\r\n            setTimeout(function () {\r\n              dispatch(actHiddenLoading());\r\n            }, 200);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n          setTimeout(function () {\r\n            dispatch(actHiddenLoading());\r\n          }, 200);\r\n        });\r\n    });\r\n  };\r\n};\r\n\r\nexport const actFetchProducts = (products) => {\r\n  return {\r\n    type: Types.FETCH_PRODUCTS,\r\n    products,\r\n  };\r\n};\r\n\r\nexport const actGetProductRequest = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(actShowLoading());\r\n    const res = await callApi(`products/${id}`, \"GET\", null);\r\n    if (res && res.status === 200) {\r\n      dispatch(actGetProduct(res.data));\r\n    }\r\n    setTimeout(function () {\r\n      dispatch(actHiddenLoading());\r\n    }, 200);\r\n  };\r\n};\r\n\r\nexport const actGetProduct = (product) => {\r\n  return {\r\n    type: Types.FETCH_PRODUCT,\r\n    product,\r\n  };\r\n};\r\n\r\nexport function createParamsString(params) {\r\n  const baseURL = \"http://stoneshop.online/\";\r\n  const url = new URL(baseURL);\r\n  Object.keys(params).forEach((key) => {\r\n    url.searchParams.append(key, params[key]);\r\n  });\r\n  return url.toString().replace(baseURL, \"\");\r\n}\r\nexport const actGetProductV2 = (params, type) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(actShowLoading());\r\n\r\n      // Gọi API\r\n      const res = await callApi(\r\n        `products/client${createParamsString(params)}`,\r\n        \"GET\",\r\n        null\r\n      );\r\n\r\n      if (res && res.status === 200) {\r\n        const data = {\r\n          products: res.data.products,\r\n          pagination: res.data.pagination,\r\n        };\r\n\r\n        // Dùng switch để đơn giản hóa các case xử lý\r\n        switch (type) {\r\n          case \"searchProductByCategory\":\r\n            dispatch(actSetProductsByCategory(data));\r\n            break;\r\n          case \"searchProductByKeyword\":\r\n            dispatch(actSetProductsByKeyword(data));\r\n            break;\r\n          case \"getProductsHot\":\r\n            dispatch(actSetProductHot(data));\r\n            break;\r\n          case \"getProductsBestSelling\":\r\n            dispatch(actSetProductBestSelling(data));\r\n            break;\r\n          case \"getProductsFeature\":\r\n            dispatch(actSetProductFeature(data));\r\n            break;\r\n          case \"getProductsSameCategory\":\r\n            dispatch(actSetProductSameCategory(data));\r\n            break;\r\n          case \"allProduct\":\r\n            dispatch(actSetAllProduct(data));\r\n            break;\r\n          default:\r\n            console.warn(`Unknown type: ${type}`);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching products:\", error);\r\n    } finally {\r\n      dispatch(actHiddenLoading());\r\n    }\r\n  };\r\n};\r\n\r\n\r\n// export const actGetProductV2 = (params, type) => {\r\n//   return async (dispatch) => {\r\n//     dispatch(actShowLoading());\r\n//     const res = await callApi(\r\n//       `products/client${createParamsString(params)}`,\r\n//       \"GET\",\r\n//       null\r\n//     );\r\n//     if (res && res.status === 200) {\r\n//       const data = {\r\n//         products: res.data.products,\r\n//         pagination: res.data.pagination,\r\n//       };\r\n//       if (type === \"searchProductByCategory\") {\r\n//         dispatch(actSetProductsByCategory(data));\r\n//       } else if (type === \"searchProductByKeyword\") {\r\n//         dispatch(actSetProductsByKeyword(data));\r\n//       } else if (type === \"getProductsHot\") {\r\n//         dispatch(actSetProductHot(data));\r\n//       } else if (type === \"getProductsBestSelling\") {\r\n//         dispatch(actSetProductBestSelling(data));\r\n//       } else if (type === \"getProductsFeature\") {\r\n//         dispatch(actSetProductFeature(data));\r\n//       } else if (type === \"getProductsSameCategory\") {\r\n//         dispatch(actSetProductSameCategory(data));\r\n//       } else if (type === \"allProduct\") {\r\n//         dispatch(actSetAllProduct(data));\r\n//       }\r\n//     }\r\n//     setTimeout(function () {\r\n//       dispatch(actHiddenLoading());\r\n//     }, 200);\r\n//   };\r\n// };\r\n\r\nexport const actSetProductsByCategory = (productByCategory) => {\r\n  return {\r\n    type: Types.SEARCH_PRODUCT_BY_CATEGORY,\r\n    productByCategory,\r\n  };\r\n};\r\nexport const actSetProductsByKeyword = (productByKeyword) => {\r\n  return {\r\n    type: Types.SEARCH_PRODUCT_BY_KEYWORD,\r\n    productByKeyword,\r\n  };\r\n};\r\nexport const actSetProductHot = (productHot) => {\r\n  return {\r\n    type: Types.SEARCH_PRODUCT_HOT,\r\n    productHot,\r\n  };\r\n};\r\nexport const actSetProductBestSelling = (productBestSelling) => {\r\n  return {\r\n    type: Types.SEARCH_PRODUCT_BEST_SELLING,\r\n    productBestSelling,\r\n  };\r\n};\r\nexport const actSetProductFeature = (productFeature) => {\r\n  return {\r\n    type: Types.SEARCH_PRODUCT_FEATURE,\r\n    productFeature,\r\n  };\r\n};\r\nexport const actSetProductSameCategory = (productSameCategory) => {\r\n  return {\r\n    type: Types.SEARCH_PRODUCT_SAME_CATEGORY,\r\n    productSameCategory,\r\n  };\r\n};\r\nexport const actSetAllProduct = (allProduct) => {\r\n  return {\r\n    type: Types.ALL_PRODUCT,\r\n    allProduct,\r\n  };\r\n};\r\n\r\nexport const actGetProductOfCategoryRequest = (id, value, offset) => {\r\n  const newOffset = offset === null || offset === undefined ? 0 : offset;\r\n  const newValue =\r\n    value === undefined || value === \"\" || value === null\r\n      ? \"-createdAt\"\r\n      : value;\r\n  const limit = 9;\r\n  return (dispatch) => {\r\n    dispatch(actShowLoading());\r\n    return new Promise((resolve, reject) => {\r\n      callApi(\r\n        `categories/${id}/products?limit=${limit}&offset=${newOffset}&orderBy=${newValue}`,\r\n        \"GET\",\r\n        null\r\n      )\r\n        .then((res) => {\r\n          if (res && res.status === 200) {\r\n            dispatch(actGetProductOfCategory(res.data.results));\r\n            resolve(res.data);\r\n            setTimeout(function () {\r\n              dispatch(actHiddenLoading());\r\n            }, 200);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n          setTimeout(function () {\r\n            dispatch(actHiddenLoading());\r\n          }, 200);\r\n        });\r\n    });\r\n  };\r\n};\r\n\r\nexport const actGetProductOfCategory = (products) => {\r\n  return {\r\n    type: Types.FETCH_CATEGORIES_PRODUCT,\r\n    products,\r\n  };\r\n};\r\n\r\n//Search products\r\nexport const actSearchProductsRequest = (q) => {\r\n  return async (dispatch) => {\r\n    dispatch(actShowLoading());\r\n    const res = await callApi(`products?q=${q}`, \"GET\", null);\r\n    if (res && res.status === 200) {\r\n      dispatch(actSearchProducts(res.data.results));\r\n    }\r\n    setTimeout(function () {\r\n      dispatch(actHiddenLoading());\r\n    }, 200);\r\n  };\r\n};\r\n\r\nexport const actSearchProducts = (products) => {\r\n  return {\r\n    type: Types.SEARCH_PRODUCTS,\r\n    products,\r\n  };\r\n};\r\n\r\n//Fetch products new\r\nexport const actFetchProductsNewRequest = (q) => {\r\n  const offset = q ? q : 0;\r\n  const limit = 10;\r\n  return async (dispatch) => {\r\n    dispatch(actShowLoading());\r\n    const res = await callApi(\r\n      `products?limit=${limit}&offset=${offset}&orderBy=-createdAt`,\r\n      \"GET\",\r\n      null\r\n    );\r\n    if (res && res.status === 200) {\r\n      dispatch(actFetchProductsNew(res.data.results));\r\n    }\r\n    setTimeout(function () {\r\n      dispatch(actHiddenLoading());\r\n    }, 200);\r\n  };\r\n};\r\n\r\nexport const actFetchProductsNew = (products) => {\r\n  return {\r\n    type: Types.FETCH_PRODUCTS_NEW,\r\n    products,\r\n  };\r\n};\r\n\r\n//Fetch products category laptop\r\nexport const actFetchProductsLaptopRequest = (q, laptopId) => {\r\n  const offset = q ? q : 0;\r\n  const limit = 8;\r\n  return async (dispatch) => {\r\n    const res = await callApi(\r\n      `categories/${laptopId}/products?limit=${limit}&offset=${offset}&orderBy=-createdAt`,\r\n      \"GET\",\r\n      null\r\n    );\r\n    if (res && res.status === 200) {\r\n      dispatch(actFetchProductsLaptop(res.data.results));\r\n    }\r\n  };\r\n};\r\n\r\nexport const actFetchProductsLaptop = (products) => {\r\n  return {\r\n    type: Types.FETCH_PRODUCTS_LAPTOP,\r\n    products,\r\n  };\r\n};\r\n\r\n//Fetch products category office\r\nexport const actFetchProductsOfficeRequest = (q, officeId) => {\r\n  const offset = q ? q : 0;\r\n  const limit = 10;\r\n  return async (dispatch) => {\r\n    const res = await callApi(\r\n      `categories/${officeId}/products?limit=${limit}&offset=${offset}&orderBy=-createdAt`,\r\n      \"GET\",\r\n      null\r\n    );\r\n    if (res && res.status === 200) {\r\n      dispatch(actFetchProductsOffice(res.data.results));\r\n    }\r\n  };\r\n};\r\n\r\nexport const actFetchProductsOffice = (products) => {\r\n  return {\r\n    type: Types.FETCH_PRODUCTS_OFFICE,\r\n    products,\r\n  };\r\n};\r\n//Fetch products other\r\nexport const actFetchProductsOtherRequest = (q, categoryId) => {\r\n  const category = categoryId;\r\n  const offset = q ? q : 0;\r\n  const limit = 10;\r\n  return async (dispatch) => {\r\n    const res = await callApi(\r\n      `categories/${category}/products?limit=${limit}&offset=${offset}&orderBy=-createdAt`,\r\n      \"GET\",\r\n      null\r\n    );\r\n    if (res && res.status === 200) {\r\n      dispatch(actFetchProductsOther(res.data.results));\r\n    }\r\n  };\r\n};\r\n\r\nexport const actFetchProductsOther = (products) => {\r\n  return {\r\n    type: Types.FETCH_PRODUCTS_OHTER,\r\n    products,\r\n  };\r\n};\r\n\r\nexport const actFetchProductsOfProducerRequest = (id) => {\r\n  const limit = 9;\r\n  return (dispatch) => {\r\n    dispatch(actShowLoading());\r\n    return new Promise((resolve, reject) => {\r\n      callApi(\r\n        `producer/${id}/products?limit=${limit}&orderBy=-createdAt`,\r\n        \"GET\",\r\n        null,\r\n        null\r\n      )\r\n        .then((res) => {\r\n          if (res && res.status === 200) {\r\n            dispatch(actFetchProductOfProducer(res.data.results));\r\n            resolve(res.data);\r\n            setTimeout(function () {\r\n              dispatch(actHiddenLoading());\r\n            }, 200);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n          setTimeout(function () {\r\n            dispatch(actHiddenLoading());\r\n          }, 200);\r\n        });\r\n    });\r\n  };\r\n};\r\n\r\nexport const actFetchProductOfProducer = (products) => {\r\n  return {\r\n    type: Types.FETCH_PRODUCTS,\r\n    products,\r\n  };\r\n};\r\n\r\nexport const actFetchProductsOfRatingPointRequest = (categoryId, point) => {\r\n  const limit = 9;\r\n  return (dispatch) => {\r\n    dispatch(actShowLoading());\r\n    return new Promise((resolve, reject) => {\r\n      callApi(\r\n        `products/category/${categoryId}/point/${point}?limit=${limit}&orderBy=-createdAt`,\r\n        \"GET\",\r\n        null,\r\n        null\r\n      )\r\n        .then((res) => {\r\n          if (res && res.status === 200) {\r\n            dispatch(actFetchProductOfRatingPoint(res.data.results));\r\n            resolve(res.data);\r\n            setTimeout(function () {\r\n              dispatch(actHiddenLoading());\r\n            }, 200);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n          setTimeout(function () {\r\n            dispatch(actHiddenLoading());\r\n          }, 200);\r\n        });\r\n    });\r\n  };\r\n};\r\n\r\nexport const actFetchProductOfRatingPoint = (products) => {\r\n  return {\r\n    type: Types.FETCH_PRODUCTS,\r\n    products,\r\n  };\r\n};\r\n","import * as Types from '../../constants/ActionType';\r\n\r\n\r\nexport const actShowLoading = () => {\r\n  const status = true\r\n  return {\r\n    type: Types.SHOWLOADING,\r\n    status\r\n  }\r\n}\r\nexport const actHiddenLoading = () => {\r\n  const status = false\r\n  return {\r\n    type: Types.HIDDENLOADING,\r\n    status\r\n  }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { formatNumber } from \"../../../../config/TYPE\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport BeautyStars from \"beauty-stars\";\r\nimport {\r\n  actFetchRatingsRequest,\r\n  actAddFavoriteRequest,\r\n} from \"../../../../redux/actions/rating\";\r\nimport {\r\n  actGetProductRequest,\r\n  actFetchProductsOtherRequest,\r\n} from \"../../../../redux/actions/products\";\r\nimport { actAddCartRequest } from \"../../../../redux/actions/cart\";\r\nimport { startLoading, doneLoading } from \"../../../../utils/loading\";\r\n\r\ntoast.configure();\r\nlet token;\r\n\r\nclass ProductItems extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      offset: 0,\r\n      quantity: 1,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    token = localStorage.getItem(\"_auth\");\r\n  }\r\n\r\n  upItem = (quantity) => {\r\n    // if (quantity >= 5) {\r\n    //   toast.error(\"Bạn chỉ có thể mua tối đa 5 sản phẩm\");\r\n    //   return;\r\n    // }\r\n    this.setState({\r\n      quantity: quantity + 1,\r\n    });\r\n  };\r\n  downItem = (quantity) => {\r\n    if (quantity <= 1) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      quantity: quantity - 1,\r\n    });\r\n  };\r\n  handleChange = (event) => {\r\n    const name = event.target.name;\r\n    const value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  getInfoProduct = (id) => {\r\n    this.props.getProductDetail(id);\r\n  };\r\n\r\n  getToProductDetail = (id, cateogryId) => {\r\n    const { offset } = this.state;\r\n    startLoading();\r\n    this.props.getProductDetail(id);\r\n    this.props.fetch_products_other(offset, cateogryId);\r\n    this.props.fetch_product_ratings(id);\r\n    doneLoading();\r\n  };\r\n\r\n  addItemToFavorite = (id) => {\r\n    startLoading();\r\n    if (!token) {\r\n      return toast.error(\"Vui lòng đăng nhập trước khi thêm sản phẩm vào danh sách yêu thích\");\r\n    }\r\n    this.props.addFavorite(id, token);\r\n    doneLoading();\r\n  };\r\n\r\n  addItemToCart2 = (event, product) => {\r\n    event.preventDefault();\r\n    const { quantity } = this.state;\r\n    startLoading();\r\n    this.props.addCart(product, quantity);\r\n    doneLoading();\r\n  };\r\n\r\n  addItemToCart = async (product) => {\r\n    startLoading();\r\n    await this.props.addCart(product);\r\n    doneLoading();\r\n  };\r\n\r\n  render() {\r\n    const { product } = this.props;\r\n    let sumRating = 0;\r\n    let count = 0;\r\n    if (product.rating && product.rating.length > 0) {\r\n      let totalRating = 0;\r\n      product.rating.map((item) => {\r\n        return count++, (totalRating = totalRating + item.point);\r\n      });\r\n      sumRating = Math.round(totalRating / count);\r\n    }\r\n    return (\r\n      <div className=\"col-12 item-product-wrap\">\r\n        <div>\r\n          <div className=\"single-product-wrap\">\r\n            <div className=\"fix-img-div-new product-image\">\r\n              <Link\r\n                to={`/products/${product.id}`}\r\n                className=\"product-image-wrap\"\r\n              >\r\n                <img\r\n                  className=\"fix-img-new\"\r\n                  src={product.image ? product.image : null}\r\n                  alt=\"Li's Product\"\r\n                />\r\n              </Link>\r\n            </div>\r\n            <div className=\"product_desc\">\r\n              <div className=\"product_desc_info\">\r\n                <div className=\"product-review\">\r\n                  <h5 className=\"manufacturer\">\r\n                    <Link to={`/categories/${product.categoryId}`}>\r\n                      {product.categories && product.categories.nameCategory\r\n                        ? product.categories.nameCategory\r\n                        : null}\r\n                    </Link>\r\n                  </h5>\r\n                  <div className=\"rating-box\">\r\n                    <ul className=\"rating\">\r\n                      <BeautyStars\r\n                        size={10}\r\n                        activeColor={\"#ed8a19\"}\r\n                        inactiveColor={\"#c1c1c1\"}\r\n                        value={sumRating}\r\n                        editable={false}\r\n                      />\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <h4>\r\n                  <Link\r\n                    className=\"product_name text-truncate\"\r\n                    to={`/products/${product.id}`}\r\n                  >\r\n                    {product.nameProduct}\r\n                  </Link>\r\n                </h4>\r\n                <div className=\"price-box\">\r\n                  <span className=\"new-price new-price-2\">\r\n                    {formatNumber.format(product.price)}\r\n                  </span>\r\n                  {!!product.originalPrice && (\r\n                    <span className=\"new-price new-price-2 origin-price\">\r\n                      {formatNumber.format(product.originalPrice)}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {\r\n            !!product.percentDiscount && <div className=\"flash-sale-container\">\r\n            <img alt=\"ic-fs\" src='/images/icon-flash-sale.png' style={{height: 30}} />\r\n            <span>{`-${product.percentDiscount}%`}</span>\r\n          </div>\r\n          }\r\n          \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getProductDetail: (id) => {\r\n      dispatch(actGetProductRequest(id));\r\n    },\r\n    addCart: (item, quantity) => {\r\n      dispatch(actAddCartRequest(item, quantity));\r\n    },\r\n    fetch_products_other: (q, categoryId) => {\r\n      dispatch(actFetchProductsOtherRequest(q, categoryId));\r\n    },\r\n    fetch_product_ratings: (id) => {\r\n      dispatch(actFetchRatingsRequest(id));\r\n    },\r\n    addFavorite: (id, token) => {\r\n      dispatch(actAddFavoriteRequest(id, token));\r\n    },\r\n  };\r\n};\r\nexport default connect(null, mapDispatchToProps)(ProductItems);\r\n","import * as Types from '../../constants/ActionType';\r\nimport callApi from '../../utils/apiCaller';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const actFetchRatingsRequest = (productId) => {\r\n  return async dispatch => {\r\n    const res = await callApi(`product/${productId}/ratings?orderBy=-createdAt`, 'GET', null);\r\n    if (res && res.status === 200) {\r\n      dispatch(actFetchRatings(res.data));\r\n    }\r\n  };\r\n}\r\n\r\nexport const actFetchRatings = (ratings) => {\r\n  return {\r\n    type: Types.FETCH_RATINGS,\r\n    ratings\r\n  }\r\n}\r\nexport const actAddRatingRequest = (productId, rating, token) => {\r\n  return async dispatch => {\r\n    try {\r\n      const res = await callApi(`product/${productId}/ratings`, 'POST', rating, token);\r\n      console.log(\"============res=====================: \", res)\r\n      // Handle success case\r\n      if (res && res.status === 200) {\r\n        dispatch(actAddRatings(res.data));\r\n        toast.success('Thêm đánh giá thành công');\r\n      } \r\n    } catch (error) {\r\n      toast.error(error?.response?.data?.message || 'Không thể kết nối với máy chủ. Vui lòng thử lại sau.');\r\n    }\r\n  };\r\n};\r\n\r\n// export const actAddRatingRequest = (productId, rating, token) => {\r\n//   return async dispatch => {\r\n//     const res = await callApi(`product/${productId}/ratings`, 'POST', rating, token);\r\n//     if (res && res.status === 200) {\r\n//       dispatch(actAddRatings(res.data));\r\n//       toast.success('Thêm đánh giá là thành công')\r\n//     }\r\n//     else {\r\n//       toast.error(res?.message)\r\n//     }\r\n//   };\r\n// }\r\n\r\nexport const actAddRatings = (rating) => {\r\n  return {\r\n    type: Types.ADD_RATING,\r\n    rating\r\n  }\r\n}\r\n\r\n\r\n//Favorite\r\nexport const actFetchFavoritesRequest = (token) => {\r\n  return async dispatch => {\r\n    const res = await callApi('favorites', 'GET', null, token);\r\n    if (res && res.status === 200) {\r\n      dispatch(actFetchFavorites(res.data.results));\r\n    }\r\n  };\r\n}\r\n\r\nexport const actFetchFavorites = (favorites) => {\r\n  return {\r\n    type: Types.FETCH_FAVORITES,\r\n    favorites\r\n  }\r\n}\r\n\r\nexport const actAddFavoriteRequest = (productId, token) => {\r\n  return async dispatch => {\r\n    const res = await callApi(`favorites/product/${productId}`, 'POST', null, token);\r\n    if (res && res.status === 200) {\r\n      toast.success('Thêm yêu thích là thành công')\r\n      dispatch(actAddFavorite(res.data));\r\n    }\r\n  };\r\n}\r\n\r\nexport const actAddFavorite = (favorite) => {\r\n  return {\r\n    type: Types.ADD_FAVORITE,\r\n    favorite\r\n  }\r\n}\r\n\r\nexport const actDeleteFavoriteRequest = (id, token) => {\r\n  return async dispatch => {\r\n    dispatch(actDeleteFavorite(id));\r\n    callApi(`favorites/${id}`, 'DELETE', null, token);\r\n    \r\n  };\r\n}\r\n\r\nexport const actDeleteFavorite = (id) => {\r\n  return {\r\n    type: Types.REMOVE_FAVORITE,\r\n    id\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport ProductItems from \"./ProductItems\";\r\nimport \"./style.css\";\r\n\r\nclass ProductContent extends Component {\r\n  render() {\r\n    const { products = {} } = this.props;\r\n    let productShows = products;\r\n    if (productShows.length && productShows.length < 5) {\r\n      const addCount = 5 - productShows.length;\r\n      for (let i = 0; i < addCount; i++) {\r\n        productShows.push(i < products.length ? productShows[i] : productShows[0])\r\n      }\r\n    }\r\n    const settings = {\r\n      dots: false,\r\n      infinite: true,\r\n      speed: 500,\r\n      slidesToShow: 4,\r\n      slidesToScroll: 4,\r\n      cssEase: \"linear\",\r\n    };\r\n    return (\r\n      <div className=\"tab-content mt-2\">\r\n        <div id=\"li-new-product\">\r\n          {/* <div className=\"row\"> */}\r\n          <Slider {...settings}>\r\n            {productShows && productShows.length\r\n              ? productShows.map((product, index) => {\r\n                  return (\r\n                    <ProductItems\r\n                      key={`product-item-${index}`}\r\n                      product={product}\r\n                    />\r\n                  );\r\n                })\r\n              : null}\r\n          </Slider>\r\n          {/* </div> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductContent;\r\n","import React, { Component } from \"react\";\r\nimport ProductContent from \"./ProductContent\";\r\n\r\nexport default class ProductSlider extends Component {\r\n  // eslint-disable-next-line no-useless-constructor\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"product-area\">\r\n        <div className=\"container topSell-container\">\r\n          <div className=\"topSell-container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12\">\r\n                <p className=\"topSell-label\">{this.props.title || 'SẢN PHẨM HOT'}</p>\r\n              </div>\r\n            </div>\r\n            <ProductContent products={this.props.products} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\nimport ProductItems from \"../ProductSlider/ProductItems\";\r\n\r\nclass ProductGridContent extends Component {\r\n\r\n  render() {\r\n    const { products } = this.props;\r\n    return (\r\n      <div className=\"tab-content mt-2\">\r\n        <div id=\"li-new-product\">\r\n          <div className=\"product-total-list\">\r\n            {products && products.length ? products.map((product, index) => {\r\n              return (\r\n               <ProductItems key={`product-item-${index}`} product={product} />\r\n              )\r\n            }) : null\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductGridContent\r\n","import React, { Component } from \"react\";\r\nimport ProductGridContent from \"./ProductGridContent\";\r\n\r\nexport default class ProductGrid extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"product-area\">\r\n        <div className=\"container topSell-container\">\r\n          <div className=\"topSell-container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12\">\r\n                <p className=\"topSell-label\">{this.props.title || ''}</p>\r\n              </div>\r\n            </div>\r\n            <ProductGridContent products={this.props.products} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Slider from \"../components/HomePage/Slider/Slider\";\r\nimport BannerMiddle from \"../components/HomePage/Content/BannerMiddle/BannerMiddle\";\r\nimport BannerTop from \"../components/HomePage/Content/BannerTop\";\r\nimport { actGetProductV2 } from \"../redux/actions/products\";\r\nimport { connect } from \"react-redux\";\r\nimport ProductSlider from \"../components/HomePage/Content/ProductSlider/ProductSlider\";\r\nimport ProductGrid from \"../components/HomePage/Content/ProductGrid/ProductGrid\";\r\n\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.actGetProductV2({\r\n      isHot: true,\r\n      page: 1,\r\n      pageSize: 20\r\n    }, 'getProductsHot');\r\n    this.props.actGetProductV2({\r\n      isFeature: true,\r\n      page: 1,\r\n      pageSize: 20\r\n    }, 'getProductsFeature');\r\n    this.props.actGetProductV2({\r\n      isBestSelling: true,\r\n      page: 1,\r\n      pageSize: 20\r\n    }, 'getProductsBestSelling');\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    // console.log(this.props.productsV2);\r\n  }\r\n\r\n  render() {\r\n    const { productHot, productFeature, productBestSelling} = this.props.productsV2\r\n    return (\r\n      <div>\r\n        <Slider></Slider>\r\n        <BannerTop />\r\n        <ProductSlider title='SẢN PHẨM HOT' products={productHot.products} />\r\n        <BannerMiddle></BannerMiddle>\r\n        <ProductSlider title='SẢN PHẨM BÁN CHẠY' products={productBestSelling.products} />\r\n        <ProductGrid title='SẢN PHẨM KHÁC' products={productFeature.products} />\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    productsV2: state.productsV2,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    actGetProductV2: (params, type) => {\r\n      return dispatch(actGetProductV2(params, type));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\n","// src/components/GoogleLoginButton.js\n\nimport React, { Component } from 'react';\nimport { GoogleLogin } from '@react-oauth/google';\nimport jwt_decode from 'jwt-decode'; \nimport callApi from \"../../utils/apiCaller\";\nimport { toast } from 'react-toastify';\nimport { withRouter } from 'react-router-dom';\n\nclass GoogleLoginButton extends Component {\n  handleSuccess = async (response) => {\n    const decoded = jwt_decode(response.credential);\n\n    // Send the token to your server for further authentication\n    const loginGoogle = await callApi(\"auth/login-google\", \"POST\", {token: response.credential}, null);\n    if (loginGoogle?.data?.token){\n     await localStorage.setItem('_auth', loginGoogle.data.token);\n        // toast.success('Login successful');\n        // this.props.loginRequest(decoded);\n        this.props.history.push('/');\n        window.location.reload();\n    }\n    else {\n      toast.error('Đăng nhập google thất bại');\n    }\n  };\n\n  handleError = (error) => {\n    console.error('Error:', error);\n  };\n\n  render() {\n    return (\n      <div className='google-button'>\n        <GoogleLogin\n          onSuccess={this.handleSuccess}\n          onError={this.handleError}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(GoogleLoginButton);\n","import React, { Component } from 'react'\r\nimport { actLoginRequest } from '../../redux/actions/auth';\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { startLoading, doneLoading } from '../../utils/loading'\r\nimport { Link } from 'react-router-dom'\r\nimport GoogleLoginButton from './LoginGoogle';\r\ntoast.configure()\r\n\r\nclass Login extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    }\r\n  }\r\n\r\n  handleChange = event => {\r\n    const name = event.target.name;\r\n    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  recaptchaLoaded(){\r\n    //reload captcha\r\n  }\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    if (password.length < 6 || password.length > 32) {\r\n      return toast.error('Mật khẩu phải có từ 6-32 ký tự');\r\n    }\r\n    const user = {\r\n      email,\r\n      password\r\n    }\r\n    startLoading();\r\n    await this.props.loginRequest(user);\r\n    doneLoading();\r\n  }\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n    const { user } = this.props;\r\n    if (user !== null ) {\r\n      return <Redirect to=\"/\"></Redirect>\r\n    }\r\n    return (\r\n      <div className=\"col-sm-12 col-md-12 col-xs-12 col-lg-6 mb-30\">\r\n        {/* Login Form s*/}\r\n        <form onSubmit={(event) => this.handleSubmit(event)}>\r\n          <div className=\"login-form\">\r\n            <h4 className=\"login-title\">Đăng nhập</h4>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12 col-12 mb-20\">\r\n                <label>Email *</label>\r\n                <input onChange={this.handleChange} value={email} className=\"mb-0\" type=\"email\" placeholder=\"Nhập email của bạn\" name='email' />\r\n              </div>\r\n              <div className=\"col-12 mb-20\">\r\n                <label>Mật khẩu</label>\r\n                <input onChange={this.handleChange} value={password} className=\"mb-0\" type=\"password\" placeholder=\"Nhập mật khẩu của bạn\" name='password' />\r\n              </div>\r\n              <div className=\"col-md-8\">\r\n                <div className=\"check-box d-inline-block ml-0 ml-md-2 mt-10\">\r\n                  <input type=\"checkbox\" id=\"remember_me\" />\r\n                  <label htmlFor=\"remember_me\">Ghi nhớ đăng nhập</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4 mt-10 mb-20 text-left text-md-right\">\r\n                <Link to=\"/forgot-password\"> Bạn quên mật khẩu?</Link>\r\n              </div>\r\n              <div className=\"col-md-12 row justify-content-center\">\r\n                <button className=\"register-button mt-0 mb-3\">Đăng nhập</button>\r\n              </div>\r\n              <div className='col-md-12 row justify-content-center'>\r\n                <p>Bạn chưa có tài khoản? <Link to=\"/register\">Đăng ký</Link></p>\r\n              </div>\r\n              <div className='col-md-12 row justify-content-center'>\r\n                <p>Hoặc đăng nhập với</p>\r\n              </div>\r\n              <GoogleLoginButton />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.auth\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    loginRequest: (user) => {\r\n      dispatch(actLoginRequest(user))\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\r\n","import React, { Component } from \"react\";\r\nimport { formatNumber } from \"../../config/TYPE\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { actAddCartRequest } from \"../../redux/actions/cart\";\r\nimport {\r\n  actAddRatingRequest,\r\n  actFetchRatingsRequest,\r\n} from \"../../redux/actions/rating\";\r\nimport BeautyStars from \"beauty-stars\";\r\nimport Modal from \"react-modal\";\r\nimport callApi from \"../../utils/apiCaller\";\r\nimport {\r\n  actGetProductRequest,\r\n  actFetchProductsOtherRequest,\r\n} from \"../../redux/actions/products\";\r\nimport Slider from \"react-slick\";\r\nimport \"./style.css\";\r\nimport { EditFilled } from \"@ant-design/icons\";\r\ntoast.configure();\r\n\r\nlet token;\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    width: \"500px\",\r\n  },\r\n};\r\nclass ProductViewDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      quantity: 1,\r\n      ratingPoint: 0,\r\n      modalIsOpen: false,\r\n      textRating: \"\",\r\n    };\r\n    this.openModal = this.openModal.bind(this);\r\n    this.afterOpenModal = this.afterOpenModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    token = localStorage.getItem(\"_auth\");\r\n  }\r\n\r\n  openModal() {\r\n    this.setState({ modalIsOpen: true });\r\n  }\r\n\r\n  afterOpenModal() {\r\n    this.subtitle.style.color = \"#2d3136\";\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({ modalIsOpen: false });\r\n  }\r\n\r\n  handleChangeRating = (value) => {\r\n    this.setState({\r\n      ratingPoint: value,\r\n    });\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    let name = event.target.name;\r\n    let value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmitRating = async (event, productId) => {\r\n    event.preventDefault();\r\n    const { ratingPoint, textRating } = this.state;\r\n    if (!ratingPoint) {\r\n      return toast.error(\"Vui lòng đánh giá điểm trước khi gửi\");\r\n    }\r\n    const newTextRating = textRating ? textRating : null;\r\n    const data = {\r\n      point: ratingPoint,\r\n      content: newTextRating,\r\n    };\r\n    if (!token) {\r\n      return toast.error(\"Vui lòng đăng nhập trước khi viết đánh giá\");\r\n    }\r\n    this.props.add_rating(productId, data, token);\r\n    this.setState({\r\n      modalIsOpen: false,\r\n      ratingPoint: 0,\r\n    });\r\n  };\r\n\r\n  upItem = () => {\r\n    let quantity = this.state.quantity;\r\n    // if (quantity >= 5) {\r\n    //   return toast.error(\"Bạn chỉ có thể mua tối đa 5 sản phẩm\");\r\n    // }\r\n    this.setState({\r\n      quantity: ++quantity,\r\n    });\r\n  };\r\n\r\n  downItem = () => {\r\n    let quantity = this.state.quantity;\r\n    if (quantity <= 1) {\r\n      return toast.error(\"Bạn chỉ có thể giảm xuống còn 1 sản phẩm\");\r\n    }\r\n    this.setState({\r\n      quantity: --quantity,\r\n    });\r\n  };\r\n\r\n  addItemToCart = (product) => {\r\n    const { quantity } = this.state;\r\n    this.props.addCart(product, quantity);\r\n  };\r\n  render() {\r\n    const settings = {\r\n      customPaging: function (i) {\r\n        return (\r\n          <Link to=\"#\">\r\n            <img\r\n              style={{ height: 50, width: \"auto\" }}\r\n              src={product.gallery[i]}\r\n              alt=\"not found\"\r\n            />\r\n          </Link>\r\n        );\r\n      },\r\n      dots: true,\r\n      dotsClass: \"slick-dots slick-thumb\",\r\n      infinite: true,\r\n      speed: 500,\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1,\r\n    };\r\n    const { quantity, ratingPoint } = this.state;\r\n    const { product, productRatings } = this.props;\r\n    let sumRating = 0;\r\n    let count = productRatings.length ? productRatings.length : 0;\r\n    if (productRatings && productRatings.length > 0) {\r\n      let totalRating = 0;\r\n      productRatings.forEach((item) => {\r\n        totalRating = totalRating + item.point;\r\n      });\r\n      sumRating = Math.round(totalRating / count);\r\n    }\r\n    return (\r\n      <div className=\"content-wraper\">\r\n        <div className=\"container product-detail\">\r\n          <div className=\"row single-product-area\">\r\n            <div className=\"col-lg-5 col-md-6 single-product-left\">\r\n              <Modal\r\n                isOpen={this.state.modalIsOpen}\r\n                onAfterOpen={this.afterOpenModal}\r\n                onRequestClose={this.closeModal}\r\n                style={customStyles}\r\n                contentLabel=\"Example Modal\"\r\n              >\r\n                <h4 ref={(subtitle) => (this.subtitle = subtitle)}>Review</h4>\r\n                <div\r\n                  className=\"modal-content\"\r\n                  style={{ width: \"auto\", border: 0 }}\r\n                >\r\n                  <div className=\"modal-body\">\r\n                    <h3 className=\"review-page-title\">Viết đánh giá của bạn</h3>\r\n                    <div className=\"modal-inner-area row\">\r\n                      <div className=\"col-lg-12\">\r\n                        <div className=\"li-review-content\">\r\n                          {/* Begin Feedback Area */}\r\n                          <div className=\"feedback-area\">\r\n                            <div className=\"feedback\">\r\n                              <h3 className=\"feedback-title\">\r\n                                Đánh giá về chúng tôi\r\n                              </h3>\r\n                              <form action=\"/\">\r\n                                <p className=\"your-opinion\">\r\n                                  <label>Đánh giá của bạn</label>\r\n                                  <div>\r\n                                    <BeautyStars\r\n                                      size={12}\r\n                                      activeColor={\"#ed8a19\"}\r\n                                      inactiveColor={\"#c1c1c1\"}\r\n                                      value={ratingPoint}\r\n                                      onChange={(ratingPoint) =>\r\n                                        this.handleChangeRating(ratingPoint)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </p>\r\n                                <p className=\"feedback-form\">\r\n                                  <label htmlFor=\"feedback\">Your Review</label>\r\n                                  <textarea\r\n                                    onChange={this.handleChange}\r\n                                    id=\"textRating\"\r\n                                    name=\"textRating\"\r\n                                    cols={45}\r\n                                    rows={8}\r\n                                  />\r\n                                </p>\r\n                                <div className=\"feedback-input\">\r\n                                  <div className=\"feedback-btn pb-15\">\r\n                                    <button\r\n                                      onClick={(event) =>\r\n                                        this.handleSubmitRating(\r\n                                          event,\r\n                                          product.id\r\n                                        )\r\n                                      }\r\n                                      className=\"btn mr-1\"\r\n                                      style={{\r\n                                        background: \"#e80f0f\",\r\n                                        color: \"white\",\r\n                                      }}\r\n                                    >\r\n                                      Gửi\r\n                                    </button>\r\n                                    <button\r\n                                      onClick={this.closeModal}\r\n                                      className=\"btn mr-1\"\r\n                                      style={{\r\n                                        background: \"#fed700\",\r\n                                        color: \"white\",\r\n                                      }}\r\n                                    >\r\n                                      Đóng\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </form>\r\n                            </div>\r\n                          </div>\r\n                          {/* Feedback Area End Here */}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Modal>\r\n              <div className=\"product-details-left\">\r\n                <div className=\"product-details-images slider-navigation-1\">\r\n                  {/* <div className=\"lg-image\"> */}\r\n                  <div className=\"fix-width-slick\">\r\n                    <Slider {...settings}>\r\n                      {product.gallery && product.gallery.length\r\n                        ? product.gallery.map((item, index) => {\r\n                            return (\r\n                              <div key={index} className=\"fix-img-div-slick\">\r\n                                <img\r\n                                  className=\"fix-img-slick\"\r\n                                  src={item}\r\n                                  alt=\"not found\"\r\n                                />\r\n                              </div>\r\n                            );\r\n                          })\r\n                        : null}\r\n                    </Slider>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-7 col-md-6\">\r\n              <div className=\"product-details-view-content sp-normal-content pt-60\">\r\n                <div className=\"product-info\">\r\n                  <h2>{product.nameProduct}</h2>\r\n                  <span className=\"product-details-ref\">\r\n                    {product.categories && product.categories.nameCategory\r\n                      ? product.categories.nameCategory\r\n                      : null}\r\n                  </span>\r\n                  <div className=\"rating-box pt-20\">\r\n                    <ul className=\"rating rating-with-review-item\">\r\n                      <div\r\n                        className=\"rating-box\"\r\n                        style={{ display: \"inline-block\", marginRight: 30 }}\r\n                      >\r\n                        <BeautyStars\r\n                          size={10}\r\n                          activeColor={\"#ed8a19\"}\r\n                          inactiveColor={\"#c1c1c1\"}\r\n                          value={sumRating}\r\n                          editable={false}\r\n                        />\r\n                      </div>\r\n                      <button\r\n                        className=\"fix-btn-review btn\"\r\n                        onClick={this.openModal}\r\n                      >\r\n                        <span className=\"review-item\">\r\n                          <EditFilled />\r\n                          <span style={{ marginLeft: 5 }}>Đánh giá</span>\r\n                        </span>\r\n                      </button>\r\n                    </ul>\r\n                    <li>\r\n                      <Link to=\"#\">{count} đánh giá</Link>\r\n                    </li>\r\n                  </div>\r\n                  <div className=\"price-box pt-20\">\r\n                    <div\r\n                      style={{\r\n                        marginBottom: 10,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <span className=\"new-price new-price-2\">\r\n                        {formatNumber.format(product.price)}\r\n                      </span>\r\n                      {!!product.percentDiscount && (\r\n                        <div className=\"flash-sale-container-2\">\r\n                          <img\r\n                            alt=\"ic-fs\"\r\n                            src=\"/images/icon-flash-sale.png\"\r\n                            style={{ height: 30 }}\r\n                          />\r\n                          <span>{`-${product.percentDiscount}%`}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    {!!product.originalPrice && (\r\n                      <span\r\n                        className=\"new-price new-price-2 origin-price\"\r\n                        style={{ fontSize: 20 }}\r\n                      >\r\n                        {formatNumber.format(product.originalPrice)}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  {/* <div className=\"product-desc\">\r\n                    <p>\r\n                      <span\r\n                        dangerouslySetInnerHTML={{\r\n                          __html: product.description,\r\n                        }}\r\n                      ></span>\r\n                    </p>\r\n                  </div> */}\r\n                  <div className=\"single-add-to-cart\">\r\n                    <form className=\"cart-quantity\">\r\n                      <div className=\"quantity\">\r\n                        <label>Số lượng</label>\r\n                        <div className=\"cart-plus-minus\">\r\n                          <input\r\n                            onChange={(event) => {\r\n                              this.setState({ quantity: event.target.value });\r\n                            }}\r\n                            className=\"cart-plus-minus-box\"\r\n                            value={quantity ? quantity : 1}\r\n                            type=\"number\"\r\n                          />\r\n                          <div\r\n                            onClick={() => this.downItem()}\r\n                            className=\"dec qtybutton\"\r\n                          >\r\n                            <i className=\"fa fa-angle-down\" />\r\n                          </div>\r\n                          <div\r\n                            onClick={() => this.upItem()}\r\n                            className=\"inc qtybutton\"\r\n                          >\r\n                            <i className=\"fa fa-angle-up\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div style={{ paddingTop: 13 }}>\r\n                        <Link\r\n                          onClick={() => this.addItemToCart(product)}\r\n                          to=\"#\"\r\n                          className=\"add-to-cart\"\r\n                        >\r\n                          Thêm vào giỏ hàng\r\n                        </Link>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                  <span style={{ marginTop: 10 }}>\r\n                    (Chúng tôi có{\" \"}\r\n                    {product.numberAvailable ? product.numberAvailable : 0} sản\r\n                    phẩm có sẵn)\r\n                  </span>\r\n                  {/* <div className=\"product-additional-info\">\r\n                    <div className=\"product-social-sharing\">\r\n                      <ul>\r\n                        <li className=\"facebook\">\r\n                          <a href=\"/\">\r\n                            <i className=\"fa fa-facebook\" />\r\n                            Facebook\r\n                          </a>\r\n                        </li>\r\n                        <li className=\"twitter\">\r\n                          <a href=\"/\">\r\n                            <i className=\"fa fa-twitter\" />\r\n                            Twitter\r\n                          </a>\r\n                        </li>\r\n                        <li className=\"google-plus\">\r\n                          <a href=\"/\">\r\n                            <i className=\"fa fa-google-plus\" />\r\n                            Google +\r\n                          </a>\r\n                        </li>\r\n                        <li className=\"instagram\">\r\n                          <a href=\"/\">\r\n                            <i className=\"fa fa-instagram\" />\r\n                            Instagram\r\n                          </a>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div> */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {};\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addCart: (item, quantity) => {\r\n      dispatch(actAddCartRequest(item, quantity));\r\n    },\r\n    add_rating: (productId, rating, token) => {\r\n      dispatch(actAddRatingRequest(productId, rating, token));\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductViewDetail);\r\n","import React, { Component } from 'react'\r\nimport Login from './Login'\r\n// import Register from './Register'\r\n\r\nexport default class LoginRegister extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"page-section mb-60\">\r\n        <div className=\"container\">\r\n          <div className=\"row justify-content-center\">\r\n            <Login></Login>\r\n            {/* <Register></Register> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport LoginRegister from '../components/LoginRegister/LoginRegister'\r\n\r\nexport default class LoginRegisterPage extends Component {\r\n  render() {\r\n    // const url = this.props.match.match.url;\r\n    return (\r\n      <div>\r\n        <LoginRegister></LoginRegister>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nexport default class NotFoundPage404 extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"error404-area pt-30 pb-60\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"error-wrapper text-center ptb-50 pt-xs-20\">\r\n                <div className=\"error-text\">\r\n                  <h1 style={{color: \"#74dbef\"}}>404</h1>\r\n                  <h2>Trang hiện tại không khả dụng</h2>\r\n                </div>\r\n                <div className=\"error-button\">\r\n                  <Link to=\"/\" className=\"btn btn-primary border-0\">Quay lại trang chủ</Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nimport NotFoundPage404 from '../components/NotFoundPage404/NotFoundPage404'\r\n\r\nexport default class NotFoundPage extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <LinkHere></LinkHere>\r\n        <NotFoundPage404></NotFoundPage404>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport BeautyStars from \"beauty-stars\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport { actAddRatingRequest } from \"../../redux/actions/rating\";\r\nimport { toast } from \"react-toastify\";\r\nimport Modal from \"react-modal\";\r\ntoast.configure();\r\n\r\nlet token;\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    width: \"500px\",\r\n  },\r\n};\r\n\r\nconst mailUrl = \"https://limupa-shop-client.herokuapp.com/products/\";\r\nclass ProductDescription extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ratingPoint: 0,\r\n      modalIsOpen: false,\r\n      textRating: \"\",\r\n      viewAllRating: false,\r\n    };\r\n    this.openModal = this.openModal.bind(this);\r\n    this.afterOpenModal = this.afterOpenModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    token = localStorage.getItem(\"_auth\");\r\n    window.fbAsyncInit = function () {\r\n      window.FB.init({\r\n        appId: \"661898660956451\",\r\n        autoLogAppEvents: true,\r\n        xfbml: true,\r\n        version: \"v5.0\",\r\n      });\r\n    };\r\n\r\n    // Load the SDK asynchronously\r\n    (function (d, s, id) {\r\n      var js,\r\n        fjs = d.getElementsByTagName(s)[0];\r\n      if (d.getElementById(id)) return;\r\n      js = d.createElement(s);\r\n      js.id = id;\r\n      js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n      fjs.parentNode.insertBefore(js, fjs);\r\n    })(document, \"script\", \"facebook-jssdk\");\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (window.FB) {\r\n      window.FB.XFBML.parse();\r\n    }\r\n  }\r\n\r\n  openModal() {\r\n    this.setState({ modalIsOpen: true });\r\n  }\r\n\r\n  afterOpenModal() {\r\n    this.subtitle.style.color = \"#2d3136\";\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({ modalIsOpen: false });\r\n  }\r\n\r\n  handleChangeRating = (value) => {\r\n    this.setState({\r\n      ratingPoint: value,\r\n    });\r\n  };\r\n\r\n  showCommentFb() {\r\n    return (\r\n      <div\r\n        className=\"fb-comments\"\r\n        data-href={`${mailUrl}/${this.props.id}`}\r\n        data-width=\"100%\"\r\n        data-numposts=\"5\"\r\n      ></div>\r\n    );\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    let name = event.target.name;\r\n    let value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmitViewAllRating = () => {\r\n    const { viewAllRating } = this.state;\r\n    this.setState({\r\n      viewAllRating: !viewAllRating,\r\n    });\r\n  };\r\n\r\n  handleSubmitRating = async (event, productId) => {\r\n    event.preventDefault();\r\n    const { ratingPoint, textRating } = this.state;\r\n    if (!ratingPoint) {\r\n      return toast.error(\"Vui lòng đánh giá điểm trước khi gửi\");\r\n    }\r\n    const newTextRating = textRating ? textRating : null;\r\n    const data = {\r\n      point: ratingPoint,\r\n      content: newTextRating,\r\n    };\r\n    if (!token) {\r\n      return toast.error(\"Vui lòng đăng nhập trước khi viết đánh giá\");\r\n    }\r\n    this.props.add_rating(productId, data, token);\r\n    this.setState({\r\n      modalIsOpen: false,\r\n      ratingPoint: 0,\r\n    });\r\n  };\r\n\r\n  showAllRating(arrRating, arrRatings) {\r\n    if (this.state.viewAllRating) {\r\n      return arrRatings && arrRatings.length ? (\r\n        arrRatings.map((item, index) => {\r\n          return (\r\n            <div key={index} className=\"row\">\r\n              <div className=\"col-sm-3\">\r\n                <div className=\"fix-avatar-div\">\r\n                  <img\r\n                    src={\r\n                      item.user && item.user.avatar\r\n                        ? item.user.avatar\r\n                        : \"https://i.ibb.co/NCdx7FF/avatar-Default.png\"\r\n                    }\r\n                    className=\"fix-avatar rounded\"\r\n                    alt=\"notfound\"\r\n                  />\r\n                </div>\r\n                <div className=\"review-block-name\">\r\n                  <Link to=\"#\">\r\n                    {item && item.user ? item.user.email : null}\r\n                  </Link>\r\n                </div>\r\n                <div className=\"review-block-date\">\r\n                  <Moment format=\"DD-MM-YYYY\">{item.createdAt}</Moment>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-9\">\r\n                <div className=\"review-block-rate\">\r\n                  <div>\r\n                    <BeautyStars\r\n                      size={12}\r\n                      activeColor={\"#ed8a19\"}\r\n                      inactiveColor={\"#c1c1c1\"}\r\n                      value={item.point}\r\n                      onChange={(ratingPoint) =>\r\n                        this.handleChangeRating(ratingPoint)\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"review-block-description\">{item.content}</div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })\r\n      ) : (\r\n        <h4>Sản phẩm này không có đánh giá</h4>\r\n      );\r\n    } else {\r\n      return arrRating && arrRating.length ? (\r\n        arrRating.map((item, index) => {\r\n          return (\r\n            <div key={index} className=\"row\">\r\n              <div className=\"col-sm-3\">\r\n                <div className=\"fix-avatar-div\">\r\n                  <img\r\n                    src={\r\n                      item.user && item.user.avatar\r\n                        ? item.user.avatar\r\n                        : \"https://i.ibb.co/NCdx7FF/avatar-Default.png\"\r\n                    }\r\n                    className=\"fix-avatar rounded\"\r\n                    alt=\"not found\"\r\n                  />\r\n                </div>\r\n                <div className=\"review-block-name\">\r\n                  <Link to=\"#\">\r\n                    {item && item.user ? item.user.email : null}\r\n                  </Link>\r\n                </div>\r\n                <div className=\"review-block-date\">\r\n                  <Moment format=\"DD-MM-YYYY\">{item.createdAt}</Moment>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-9\" style={{ margin: \"auto\" }}>\r\n                <div className=\"review-block-rate\">\r\n                  <div>\r\n                    <BeautyStars\r\n                      size={12}\r\n                      activeColor={\"#ed8a19\"}\r\n                      inactiveColor={\"#c1c1c1\"}\r\n                      value={item.point}\r\n                      onChange={(ratingPoint) =>\r\n                        this.handleChangeRating(ratingPoint)\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"review-block-description\">{item.content}</div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })\r\n      ) : (\r\n        <h4>Sản phẩm này không có đánh giá</h4>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { product, productRatings } = this.props;\r\n    const { ratingPoint } = this.state;\r\n    let count = 0; //co bao nhieu danh gia\r\n    let totalRating = 0; // xem danh gia bang bao nhieu sau do / count tinh trung binh\r\n    let fixRating = 0; //rating fix cung left sider bar\r\n    let showFixRating = 0; // show ***** tren left silde bar\r\n    let oneStart = 0;\r\n    let twoStart = 0;\r\n    let threeStart = 0;\r\n    let fourStart = 0;\r\n    let fiveStart = 0;\r\n    let showOneStart = 0;\r\n    let showTwoStart = 0;\r\n    let showThreeStart = 0;\r\n    let showFourStart = 0;\r\n    let showFiveStart = 0;\r\n    let showProductRating = [];\r\n    if (productRatings && productRatings.length > 0) {\r\n      productRatings.forEach((item) => {\r\n        if (item.point === 1) {\r\n          oneStart++;\r\n        }\r\n        if (item.point === 2) {\r\n          twoStart++;\r\n        }\r\n        if (item.point === 3) {\r\n          threeStart++;\r\n        }\r\n        if (item.point === 4) {\r\n          fourStart++;\r\n        }\r\n        if (item.point === 5) {\r\n          fiveStart++;\r\n        }\r\n        count++;\r\n        totalRating = totalRating + item.point;\r\n      });\r\n      fixRating = (totalRating / count).toFixed(1);\r\n      showFixRating = Math.round(fixRating);\r\n      showOneStart = ((oneStart / count) * 100).toFixed(0);\r\n      showTwoStart = ((twoStart / count) * 100).toFixed(0);\r\n      showThreeStart = ((threeStart / count) * 100).toFixed(0);\r\n      showFourStart = ((fourStart / count) * 100).toFixed(0);\r\n      showFiveStart = ((fiveStart / count) * 100).toFixed(0);\r\n    }\r\n    showProductRating = productRatings.slice(0, 4);\r\n    return (\r\n      <div className=\"product-area\">\r\n        <div className=\"container product-description-container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              <Modal\r\n                isOpen={this.state.modalIsOpen}\r\n                onAfterOpen={this.afterOpenModal}\r\n                onRequestClose={this.closeModal}\r\n                style={customStyles}\r\n                contentLabel=\"Example Modal\"\r\n              >\r\n                <h4 ref={(subtitle) => (this.subtitle = subtitle)}>Đánh giá</h4>\r\n                <div\r\n                  className=\"modal-content\"\r\n                  style={{ width: \"auto\", border: 0 }}\r\n                >\r\n                  <div className=\"modal-body\">\r\n                    {/* <h3 className=\"review-page-title\">Viết đánh giá của bạn</h3> */}\r\n                    <div className=\"modal-inner-area row\">\r\n                      <div className=\"col-lg-12\">\r\n                        <div className=\"li-review-content\">\r\n                          {/* Begin Feedback Area */}\r\n                          <div className=\"feedback-area\">\r\n                            <div className=\"feedback\">\r\n                              {/* <h3 className=\"feedback-title\">\r\n                                Đánh giá của chúng tôi\r\n                              </h3> */}\r\n                              <form action=\"/\">\r\n                                <p className=\"your-opinion\">\r\n                                  <label>Đánh giá của bạn</label>\r\n                                  <div>\r\n                                    <BeautyStars\r\n                                      size={12}\r\n                                      value={ratingPoint}\r\n                                      onChange={(ratingPoint) =>\r\n                                        this.handleChangeRating(ratingPoint)\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                </p>\r\n                                <p className=\"feedback-form\">\r\n                                  <label htmlFor=\"feedback\">\r\n                                    Đánh giá của bạn\r\n                                  </label>\r\n                                  <textarea\r\n                                    onChange={this.handleChange}\r\n                                    id=\"textRating\"\r\n                                    name=\"textRating\"\r\n                                    cols={45}\r\n                                    rows={8}\r\n                                  />\r\n                                </p>\r\n                                <div className=\"feedback-input\">\r\n                                  <div className=\"feedback-btn pb-15\">\r\n                                    <button\r\n                                      onClick={(event) =>\r\n                                        this.handleSubmitRating(\r\n                                          event,\r\n                                          product.id\r\n                                        )\r\n                                      }\r\n                                      className=\"btn mr-1\"\r\n                                      style={{\r\n                                        background: \"#74dbef\",\r\n                                        color: \"white\",\r\n                                      }}\r\n                                    >\r\n                                      Gửi\r\n                                    </button>\r\n                                    <button\r\n                                      onClick={this.closeModal}\r\n                                      className=\"btn mr-1\"\r\n                                      style={{\r\n                                        background: \"#fed700\",\r\n                                        color: \"white\",\r\n                                      }}\r\n                                    >\r\n                                      Đóng\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </form>\r\n                            </div>\r\n                          </div>\r\n                          {/* Feedback Area End Here */}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Modal>\r\n            \r\n              <div className=\"li-product-tab\">\r\n                <ul className=\"nav li-product-menu\">\r\n                  <li>\r\n                    <a className=\"active\" data-toggle=\"tab\" href=\"#description\">\r\n                      <span>MÔ TẢ</span>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              {/* Begin Li's Tab Menu Content Area */}\r\n            </div>\r\n          </div>\r\n          <div className=\"tab-content\">\r\n            <div\r\n              id=\"description\"\r\n              className=\"tab-pane active show\"\r\n              role=\"tabpanel\"\r\n            >\r\n              <div className=\"product-description\">\r\n                <span\r\n                  dangerouslySetInnerHTML={{ __html: product.description }}\r\n                ></span>\r\n                {/* {this.showCommentFb()} */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"container product-description-rating\">\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-6\">\r\n              <div className=\"rating-block\">\r\n                <h5>Có {count} lượt đánh giá</h5>\r\n                <h2 className=\"bold padding-bottom-7\">\r\n                  {fixRating}\r\n                  <small>/ 5</small>\r\n                </h2>\r\n                <div>\r\n                  <BeautyStars\r\n                    size={12}\r\n                    editable={false}\r\n                    activeColor={\"#ed8a19\"}\r\n                    inactiveColor={\"#c1c1c1\"}\r\n                    value={showFixRating}\r\n                    onChange={(ratingPoint) =>\r\n                      this.handleChangeRating(ratingPoint)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-sm-3\">\r\n              <div className=\"pull-left\">\r\n                <div\r\n                  className=\"pull-left\"\r\n                  style={{ width: \"35px\", lineHeight: 1 }}\r\n                >\r\n                  <div style={{ height: \"9px\", margin: \"5px 0\" }}>\r\n                    {\" \"}\r\n                    <img\r\n                      src=\"https://i.ibb.co/2KKnLBh/148839.png\"\r\n                      style={{ height: 15 }}\r\n                      alt=\"not found\"\r\n                    />{\" \"}\r\n                    5 <span className=\"glyphicon glyphicon-star\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-left\" style={{ width: \"180px\" }}>\r\n                  <div\r\n                    className=\"progress\"\r\n                    style={{ height: \"9px\", margin: \"8px 0\" }}\r\n                  >\r\n                    <div\r\n                      className=\"progress-bar progress-bar-success\"\r\n                      role=\"progressbar\"\r\n                      aria-valuenow={5}\r\n                      aria-valuemin={0}\r\n                      aria-valuemax={5}\r\n                      style={{ width: `${showFiveStart}%` }}\r\n                    >\r\n                      <span className=\"sr-only\">80% hoàn thành (danger)</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-right\" style={{ marginLeft: \"10px\" }}>\r\n                  {fiveStart}\r\n                </div>\r\n              </div>\r\n              <div className=\"pull-left\">\r\n                <div\r\n                  className=\"pull-left\"\r\n                  style={{ width: \"35px\", lineHeight: 1 }}\r\n                >\r\n                  <div style={{ height: \"9px\", margin: \"5px 0\" }}>\r\n                    <img\r\n                      src=\"https://i.ibb.co/2KKnLBh/148839.png\"\r\n                      style={{ height: 15 }}\r\n                      alt=\"not found\"\r\n                    />{\" \"}\r\n                    4 <span className=\"glyphicon glyphicon-star\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-left\" style={{ width: \"180px\" }}>\r\n                  <div\r\n                    className=\"progress\"\r\n                    style={{ height: \"9px\", margin: \"8px 0\" }}\r\n                  >\r\n                    <div\r\n                      className=\"progress-bar progress-bar-primary\"\r\n                      role=\"progressbar\"\r\n                      aria-valuenow={4}\r\n                      aria-valuemin={0}\r\n                      aria-valuemax={5}\r\n                      style={{ width: `${showFourStart}%` }}\r\n                    >\r\n                      <span className=\"sr-only\">80% hoàn thành (danger)</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-right\" style={{ marginLeft: \"10px\" }}>\r\n                  {fourStart}\r\n                </div>\r\n              </div>\r\n              <div className=\"pull-left\">\r\n                <div\r\n                  className=\"pull-left\"\r\n                  style={{ width: \"35px\", lineHeight: 1 }}\r\n                >\r\n                  <div style={{ height: \"9px\", margin: \"5px 0\" }}>\r\n                    <img\r\n                      src=\"https://i.ibb.co/2KKnLBh/148839.png\"\r\n                      style={{ height: 15 }}\r\n                      alt=\"not found\"\r\n                    />{\" \"}\r\n                    3 <span className=\"glyphicon glyphicon-star\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-left\" style={{ width: \"180px\" }}>\r\n                  <div\r\n                    className=\"progress\"\r\n                    style={{ height: \"9px\", margin: \"8px 0\" }}\r\n                  >\r\n                    <div\r\n                      className=\"progress-bar progress-bar-info\"\r\n                      role=\"progressbar\"\r\n                      aria-valuenow={3}\r\n                      aria-valuemin={0}\r\n                      aria-valuemax={5}\r\n                      style={{ width: `${showThreeStart}%` }}\r\n                    >\r\n                      <span className=\"sr-only\">80% hoàn thành (danger)</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-right\" style={{ marginLeft: \"10px\" }}>\r\n                  {threeStart}\r\n                </div>\r\n              </div>\r\n              <div className=\"pull-left\">\r\n                <div\r\n                  className=\"pull-left\"\r\n                  style={{ width: \"35px\", lineHeight: 1 }}\r\n                >\r\n                  <div style={{ height: \"9px\", margin: \"5px 0\" }}>\r\n                    <img\r\n                      src=\"https://i.ibb.co/2KKnLBh/148839.png\"\r\n                      style={{ height: 15 }}\r\n                      alt=\"not found\"\r\n                    />{\" \"}\r\n                    2 <span className=\"glyphicon glyphicon-star\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-left\" style={{ width: \"180px\" }}>\r\n                  <div\r\n                    className=\"progress\"\r\n                    style={{ height: \"9px\", margin: \"8px 0\" }}\r\n                  >\r\n                    <div\r\n                      className=\"progress-bar progress-bar-warning\"\r\n                      role=\"progressbar\"\r\n                      aria-valuenow={2}\r\n                      aria-valuemin={0}\r\n                      aria-valuemax={5}\r\n                      style={{ width: `${showTwoStart}%` }}\r\n                    >\r\n                      <span className=\"sr-only\">80% hoàn thành (danger)</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-right\" style={{ marginLeft: \"10px\" }}>\r\n                  {twoStart}\r\n                </div>\r\n              </div>\r\n              <div className=\"pull-left\">\r\n                <div\r\n                  className=\"pull-left\"\r\n                  style={{ width: \"35px\", lineHeight: 1 }}\r\n                >\r\n                  <div style={{ height: \"9px\", margin: \"5px 0\" }}>\r\n                    <img\r\n                      src=\"https://i.ibb.co/2KKnLBh/148839.png\"\r\n                      style={{ height: 15 }}\r\n                      alt=\"not found\"\r\n                    />{\" \"}\r\n                    1 <span className=\"glyphicon glyphicon-star\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-left\" style={{ width: \"180px\" }}>\r\n                  <div\r\n                    className=\"progress\"\r\n                    style={{ height: \"9px\", margin: \"8px 0\" }}\r\n                  >\r\n                    <div\r\n                      className=\"progress-bar progress-bar-danger\"\r\n                      role=\"progressbar\"\r\n                      aria-valuenow={1}\r\n                      aria-valuemin={0}\r\n                      aria-valuemax={5}\r\n                      style={{ width: `${showOneStart}%` }}\r\n                    >\r\n                      <span className=\"sr-only\">80% hoàn thành (danger)</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"pull-right\" style={{ marginLeft: \"10px\" }}>\r\n                  {oneStart}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-12\">\r\n              <div className=\"review-block\">\r\n                {this.showAllRating(showProductRating, productRatings)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Link\r\n            // onClick={this.handleSubmitViewAllRating}\r\n            className=\"fix-view-all\"\r\n          >\r\n            <i>Xem tất cả đánh giá</i>\r\n          </Link>\r\n          <button className=\"fix-btn-review btn\" onClick={this.openModal}>\r\n            Viết đánh giá của bạn!\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    product: state.product,\r\n    productRatings: state.productRatings,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    add_rating: (productId, rating, token) => {\r\n      dispatch(actAddRatingRequest(productId, rating, token));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDescription);\r\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport BeautyStars from \"beauty-stars\";\nimport { Link } from \"react-router-dom\";\nimport Moment from \"react-moment\";\nimport { actAddRatingRequest } from \"../../redux/actions/rating\";\nimport { toast } from \"react-toastify\";\nimport Modal from \"react-modal\";\nimport moment from \"moment\";\ntoast.configure();\n\nlet token;\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"500px\",\n  },\n};\n\nclass ProductProducer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratingPoint: 0,\n      modalIsOpen: false,\n      textRating: \"\",\n      viewAllRating: false,\n    };\n  }\n\n  componentDidMount() {\n    token = localStorage.getItem(\"_auth\");\n  }\n\n  render() {\n    const { product,  } = this.props;\n    const {productionDate, expDate} = product || {}\n    const producer = product.producers;\n\n    return (\n      <div className=\"product-area\">\n        <div className=\"container product-description-container\">\n          <div className=\"row\">\n            <div className=\"col-lg-12\">\n              <div className=\"li-product-tab\">\n                <ul className=\"nav li-product-menu\">\n                  <li>\n                    <a className=\"active\" data-toggle=\"tab\" href=\"#description\">\n                      <span>Hãng sản xuất</span>\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"tab-content\">\n            <div\n              id=\"description\"\n              className=\"tab-pane active show\"\n              role=\"tabpanel\"\n            >\n              <div className=\"product-description\">\n                {producer && (\n                  <div\n                    className=\"producer-info\"\n                    style={{ color: \"black\", fontSize: \"15px\" }}\n                  >\n                    <p\n                      style={{\n                        color: \"black\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                      }}\n                    >\n                      <strong style={{ marginRight: \"10px\" }}>Tên hãng:</strong>\n                      <span style={{ fontSize: \"20px\", fontWeight: \"bold\" }}>\n                        {producer?.name || \"\"}\n                      </span>\n                    </p>\n                    {producer?.image && (\n                      <div\n                        style={{\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          marginBottom: \"15px\",\n                        }}\n                      >\n                        <strong style={{ marginRight: \"10px\" }}>\n                          Hình ảnh:\n                        </strong>\n                        <img\n                          src={producer?.image}\n                          alt={producer?.name}\n                          style={{\n                            width: \"100px\",\n                            height: \"auto\",\n                            borderRadius: \"5px\",\n                          }}\n                        />\n                      </div>\n                    )}\n                    {producer?.description && (\n                      <p style={{ color: \"black\", fontSize: \"15px\" }}>\n                        <strong>Mô tả:</strong> {producer?.description || \"\"}\n                      </p>\n                    )}\n                  </div>\n                )}\n                {productionDate && (\n                  <p style={{ color: \"black\", fontSize: \"15px\" }}>\n                    <strong>Ngày sản xuất:</strong> {moment(productionDate).format(\"DD/MM/YYYY\")}\n                  </p>\n                )}\n                {expDate && (\n                  <p style={{ color: \"black\", fontSize: \"15px\" }}>\n                    <strong>Hạn sử dụng:</strong> {moment(expDate).format(\"DD/MM/YYYY\")}\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  //   render() {\n  //     const { product } = this.props;\n  //     const producer = product.producers\n  //     console.log(\"=============product===========: \", producer)\n  //     return (\n  //       <div className=\"product-area\">\n  //         <div className=\"container product-description-container\">\n  //           <div className=\"row\">\n  //             <div className=\"col-lg-12\">\n\n  //               <div className=\"li-product-tab\">\n  //                 <ul className=\"nav li-product-menu\">\n  //                   <li>\n  //                     <a className=\"active\" data-toggle=\"tab\" href=\"#description\">\n  //                       <span>Hãng sản xuất</span>\n  //                     </a>\n  //                   </li>\n  //                 </ul>\n  //               </div>\n  //             </div>\n  //           </div>\n  //           <div className=\"tab-content\">\n  //             <div\n  //               id=\"description\"\n  //               className=\"tab-pane active show\"\n  //               role=\"tabpanel\"\n  //             >\n  //               <div className=\"product-description\">\n  //                 <span\n  //                   dangerouslySetInnerHTML={{ __html: product.description }}\n  //                 ></span>\n\n  //               </div>\n  //             </div>\n  //           </div>\n  //         </div>\n\n  //       </div>\n  //     );\n  //   }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    product: state.product,\n    productRatings: state.productRatings,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    add_rating: (productId, rating, token) => {\n      dispatch(actAddRatingRequest(productId, rating, token));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductProducer);\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { actAddCartRequest } from '../../redux/actions/cart';\r\nimport { formatNumber } from '../../config/TYPE'\r\nimport { connect } from 'react-redux'\r\nimport { actDeleteFavoriteRequest } from '../../redux/actions/rating';\r\nlet token;\r\nclass ProductFavoriteItem extends Component {\r\n\r\n  componentDidMount() {\r\n    token = localStorage.getItem('_auth');\r\n  }\r\n\r\n\r\n  handleAddCart = (event, product) => {\r\n    event.preventDefault();\r\n    this.props.addCart(product.products);\r\n    this.props.deleteFavorite(product.id, token);\r\n  }\r\n\r\n  handleRemoveItem = (product) => {\r\n    this.props.deleteFavorite(product.id, token);\r\n  }\r\n\r\n  render() {\r\n    const { product } = this.props;\r\n    return (\r\n      <tr>\r\n        <td className=\"li-product-remove\"><Link onClick={() => this.handleRemoveItem(product)} to=\"#\"><i style={{ fontSize: 20 }} className=\"fa fa-trash\" /></Link></td>\r\n        <td className=\"li-product-thumbnail d-flex justify-content-center\"><a href=\"/\">\r\n          <div className=\"fix-cart\"> <img className=\"fix-img\" src={product.products.image} alt=\"Li's Product\" /></div>\r\n        </a></td>\r\n        <td className=\"li-product-name\"><a className=\"text-dark\" href=\"/\">{product.products.nameProduct}</a></td>\r\n        <td className=\"product-subtotal\"><span className=\"amount\">{formatNumber.format(product.products.price)}</span></td>\r\n        <td className=\"quantity\">\r\n          <button onClick={(event, id) => this.handleAddCart(event, product)} className=\"btn\" style={{ background: '#fed700', color: 'white' }} > Mua ngay</button>\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addCart: (product) => {\r\n      dispatch(actAddCartRequest(product))\r\n    },\r\n    deleteFavorite: (product, token) => {\r\n      dispatch(actDeleteFavoriteRequest(product, token))\r\n    },\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(ProductFavoriteItem)\r\n","import React, { Component } from \"react\";\r\nimport { actFetchProductsOtherRequest } from \"../../redux/actions/products\";\r\nimport { connect } from \"react-redux\";\r\nimport { actAddCartRequest } from \"../../redux/actions/cart\";\r\nimport {\r\n  actFetchRatingsRequest,\r\n  actAddFavoriteRequest,\r\n} from \"../../redux/actions/rating\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { formatNumber } from \"../../config/TYPE\";\r\nimport { startLoading, doneLoading } from \"../../utils/loading\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BeautyStars from \"beauty-stars\";\r\nimport \"./style.css\";\r\ntoast.configure();\r\nlet token;\r\nclass ShopCategoryItems extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      offset: 0,\r\n      quantity: 1,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    token = localStorage.getItem(\"_auth\");\r\n  }\r\n\r\n  addItemToFavorite = (id) => {\r\n    startLoading();\r\n    if (!token) {\r\n      return toast.error(\r\n        \"Vui lòng đăng nhập trước khi thêm sản phẩm vào danh sách yêu thích\"\r\n      );\r\n    }\r\n    this.props.addFavorite(id, token);\r\n    doneLoading();\r\n  };\r\n\r\n  upItem = (quantity) => {\r\n    // if (quantity >= 5) {\r\n    //   toast.error('Bạn chỉ có thể mua tối đa 5 sản phẩm')\r\n    //   return\r\n    // }\r\n    this.setState({\r\n      quantity: quantity + 1,\r\n    });\r\n  };\r\n  downItem = (quantity) => {\r\n    if (quantity <= 1) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      quantity: quantity - 1,\r\n    });\r\n  };\r\n  handleChange = (event) => {\r\n    const name = event.target.name;\r\n    const value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  addItemToCart2 = (event, product) => {\r\n    event.preventDefault();\r\n    const { quantity } = this.state;\r\n    startLoading();\r\n    this.props.addCart(product, quantity);\r\n    doneLoading();\r\n  };\r\n\r\n  addItemToCart = (product) => {\r\n    return this.props.addCart(product);\r\n  };\r\n\r\n  render() {\r\n    const { product, getProduct } = this.props;\r\n    const { quantity } = this.state;\r\n    let sumRating = 0;\r\n    let count = 0;\r\n    if (product.rating && product.rating.length > 0) {\r\n      let totalRating = 0;\r\n      product.rating.map((item) => {\r\n        return count++, (totalRating = totalRating + item.point);\r\n      });\r\n      sumRating = Math.round(totalRating / count);\r\n    }\r\n    return (\r\n      <div className=\"col-lg-4 col-md-4 col-sm-6 item-product\">\r\n        <div className=\"single-product-wrap\">\r\n          <div className=\"fix-img-div product-image\">\r\n            <Link to={`/products/${product.id}`}>\r\n              <img\r\n                className=\"fix-img\"\r\n                src={product.image ? product.image : null}\r\n                alt=\"eror\"\r\n              />\r\n            </Link>\r\n          </div>\r\n          <div className=\"product_desc\">\r\n            <div className=\"product_desc_info\">\r\n              <div className=\"product-review\">\r\n                <h5 className=\"manufacturer\">\r\n                  <Link to={`/categories/${product.categoryId}`}>\r\n                    {product.categories && product.categories.nameCategory\r\n                      ? product.categories.nameCategory\r\n                      : null}\r\n                  </Link>\r\n                </h5>\r\n                <div className=\"rating-box\">\r\n                  <ul className=\"rating\">\r\n                    <BeautyStars\r\n                      size={10}\r\n                      activeColor={\"#ed8a19\"}\r\n                      inactiveColor={\"#c1c1c1\"}\r\n                      value={sumRating}\r\n                      editable={false}\r\n                    />\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <h4>\r\n                <Link\r\n                  className=\"product_name text-truncate\"\r\n                  to={`/products/${product.id}`}\r\n                >\r\n                  {product.nameProduct}\r\n                </Link>\r\n              </h4>\r\n              <div className=\"price-box\">\r\n                <span className=\"new-price\">\r\n                  {formatNumber.format(product.price)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/*// QUICK VIEW */}\r\n        <div className=\"modal fade modal-wrapper\" id=\"exampleModalCenter1\">\r\n          <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-body\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">×</span>\r\n                </button>\r\n                <div className=\"modal-inner-area row\">\r\n                  <div className=\"col-lg-5 col-md-6 col-sm-6\">\r\n                    {/* Product Details Left */}\r\n                    <div className=\"product-details-left\">\r\n                      <div className=\"product-details-images slider-navigation-1\">\r\n                        <div className=\"lg-image\">\r\n                          <img src={getProduct.image} alt=\"not found\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {/*// Product Details Left */}\r\n                  </div>\r\n                  <div className=\"col-lg-7 col-md-6 col-sm-6\">\r\n                    <div className=\"product-details-view-content pt-60\">\r\n                      <div className=\"product-info\">\r\n                        <h2>{getProduct.nameProduct}</h2>\r\n                        <div className=\"rating-box\"></div>\r\n                        <div className=\"price-box pt-20\">\r\n                          <span className=\"new-price new-price-2\">\r\n                            {formatNumber.format(getProduct.price)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"product-desc\">\r\n                          <p>\r\n                            <span>{getProduct.description}</span>\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"product-variants\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* single-product-wrap end */}\r\n        {!!product.percentDiscount && (\r\n          <div className=\"flash-sale-container\">\r\n            <img\r\n              alt=\"ic-fs\"\r\n              src=\"/images/icon-flash-sale.png\"\r\n              style={{ height: 30 }}\r\n            />\r\n            <span>{`-${product.percentDiscount}%`}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    getProduct: state.product,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addCart: (item, quantity) => {\r\n      dispatch(actAddCartRequest(item, quantity));\r\n    },\r\n    setProductsOther: (q, idCateogry) => {\r\n      dispatch(actFetchProductsOtherRequest(q, idCateogry));\r\n    },\r\n    fetch_product_ratings: (id) => {\r\n      dispatch(actFetchRatingsRequest(id));\r\n    },\r\n    addFavorite: (id, token) => {\r\n      dispatch(actAddFavoriteRequest(id, token));\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopCategoryItems);\r\n","import React, { Component } from \"react\";\r\nimport ProductViewDetail from \"./ProductViewDetail\";\r\nimport ProductDescription from \"./ProductDescription\";\r\nimport ProductSlider from \"../HomePage/Content/ProductSlider/ProductSlider\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  actGetProductRequest,\r\n  actGetProductV2,\r\n} from \"../../redux/actions/products\";\r\nimport { actFetchRatingsRequest } from \"../../redux/actions/rating\";\r\nimport ProductProducer from \"./ProductProducer\";\r\n\r\nlet token;\r\nclass ProductDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.productId = \"\";\r\n  }\r\n\r\n  async componentDidMount() {\r\n    token = localStorage.getItem(\"_auth\");\r\n    const { id } = this.props;\r\n    this.props.fetch_ratings(id);\r\n    this.props.get_product(id);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.id !== this.productId) {\r\n      this.productId = this.props.id;\r\n      this.props.fetch_ratings(this.props.id);\r\n      this.props.get_product(this.props.id);\r\n    }\r\n    const { id, categoryId } = this.props.product;\r\n    if (id && id !== prevProps.product.id) {\r\n      this.getProductGameCategory(categoryId, id);\r\n    }\r\n  }\r\n\r\n  getProductGameCategory(categoryId, productId) {\r\n    this.props.actGetProductV2(\r\n      {\r\n        categoryId,\r\n        productId,\r\n        page: 1,\r\n        pageSize: 20,\r\n      },\r\n      \"getProductsSameCategory\"\r\n    );\r\n  }\r\n\r\n  render() {\r\n    window.scrollTo(0, 0);\r\n    const { product, productRatings, productSameCategory } = this.props;\r\n    return (\r\n      <div>\r\n        <ProductViewDetail\r\n          id={this.props.id}\r\n          product={product}\r\n          productRatings={productRatings}\r\n        ></ProductViewDetail>\r\n        <ProductProducer id={this.props.id}></ProductProducer>\r\n        <ProductDescription id={this.props.id}></ProductDescription>\r\n        {productSameCategory.products.length && (\r\n          <ProductSlider\r\n            title=\"SẢN PHẨM TƯƠNG TỰ\"\r\n            products={productSameCategory.products}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    productSameCategory: state.productsV2.productSameCategory,\r\n    product: state.product,\r\n    productRatings: state.productRatings,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    actGetProductV2: (params, type) => {\r\n      return dispatch(actGetProductV2(params, type));\r\n    },\r\n    get_product: (productId) => {\r\n      dispatch(actGetProductRequest(productId));\r\n    },\r\n    fetch_ratings: (productId) => {\r\n      dispatch(actFetchRatingsRequest(productId));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);\r\n","import React, { Component } from 'react'\r\nimport ProductDetail from '../components/ProductDetail/ProductDetail'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\n\r\nexport default class ProductDetailPage extends Component {\r\n  render() {\r\n    const url = this.props.match.match.url;\r\n    const {id} = this.props.match.match.params\r\n    return (\r\n      <div>\r\n        <LinkHere url={url}></LinkHere>\r\n        <ProductDetail id={id}></ProductDetail>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport ProductFavoriteItem from './ProductFavoriteItem';\r\nimport './style.css'\r\nclass ProductFavotire extends Component {\r\n  render() {\r\n    const { products } = this.props;\r\n    return (\r\n      <div className=\"Shopping-cart-area pt-30 pb-30\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-12 col-xs-12\">\r\n              <form>\r\n                <div className=\"table-content table-responsive\">\r\n                  <table className=\"table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"li-product-remove\">Hành động</th>\r\n                        <th className=\"li-product-thumbnail\">Ảnh</th>\r\n                        <th className=\"cart-product-name\">Tên sản phẩm</th>\r\n                        <th className=\"li-product-price\">Giá</th>\r\n                        <th className=\"li-product-subtotal\">Mua ngay</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {products && products.length ? products.map((item, index) => {\r\n                        return (\r\n                          <ProductFavoriteItem key={index} value={index} product={item}></ProductFavoriteItem>\r\n                        )\r\n                      }) : null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.favorites\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(ProductFavotire)\r\n","import React, { Component } from 'react'\r\nimport ProductFavotire from '../components/ProductFavorite/ProductFavotire'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nexport default class ProductFavoritePage extends Component {\r\n  render() {\r\n  //  const url = this.props.match.match.url;\r\n    return (\r\n      <div>\r\n        <LinkHere url={\"Sản phẩm yêu thích\"}></LinkHere>\r\n        <ProductFavotire></ProductFavotire>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\nclass LeftOptions extends Component {\r\n\r\n  render() {\r\n    let { rangePrice, onChangeRangePrice } = this.props;\r\n    return (\r\n      <div className=\"col-lg-3 order-2 order-lg-1\">\r\n        <div className=\"sidebar-categores-box\">\r\n          <div className=\"sidebar-title\">\r\n            <h2 className=\"fix-producers\">Lọc theo</h2>\r\n          </div>\r\n          {\r\n            !!rangePrice && <button onClick={() => onChangeRangePrice(rangePrice)} className=\"btn-clear-all\">Xoá tất cả</button>\r\n          }\r\n          <div className=\"filter-sub-area pt-sm-10 pt-xs-10\">\r\n            <h5 className=\"fix-producers filter-sub-titel\">Giá</h5>\r\n            <div className=\"size-checkbox\">\r\n              <form action=\"/\">\r\n                <ul>\r\n                  <li\r\n                    className={rangePrice === 1 ? \"range-price-selected\" : \"\"}\r\n                    onClick={() => onChangeRangePrice(1)}\r\n                    style={{cursor: 'pointer'}}\r\n                  >\r\n                    Từ 0 đến 100.000₫\r\n                  </li>\r\n                  <li\r\n                    className={rangePrice === 2 ? \"range-price-selected\" : \"\"}\r\n                    onClick={() => onChangeRangePrice(2)}\r\n                    style={{cursor: 'pointer'}}\r\n                  >\r\n                    Từ 100.000₫ đến 500.000₫\r\n                  </li>\r\n                  <li\r\n                    className={rangePrice === 3 ? \"range-price-selected\" : \"\"}\r\n                    onClick={() => onChangeRangePrice(3)}\r\n                    style={{cursor: 'pointer'}}\r\n                  >\r\n                    Từ 500.000₫ đến 1.000.000₫\r\n                  </li>\r\n                  <li\r\n                    className={rangePrice === 4 ? \"range-price-selected\" : \"\"}\r\n                    onClick={() => onChangeRangePrice(4)}\r\n                    style={{cursor: 'pointer'}}\r\n                  >\r\n                    Nhiều hơn 1.000.000₫\r\n                  </li>\r\n                </ul>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LeftOptions;\r\n","import React, { Component } from 'react'\r\nimport { formatNumber } from '../../config/TYPE'\r\nimport { Link } from 'react-router-dom'\r\nimport { toast } from 'react-toastify';\r\nimport { actGetProductRequest, actFetchProductsOtherRequest } from '../../redux/actions/products';\r\nimport { actAddCartRequest } from '../../redux/actions/cart';\r\nimport { actFetchRatingsRequest, actAddFavoriteRequest } from '../../redux/actions/rating';\r\nimport { startLoading, doneLoading } from '../../utils/loading'\r\nimport { connect } from 'react-redux'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport BeautyStars from 'beauty-stars';\r\nimport './style.css'\r\ntoast.configure()\r\nlet token;\r\nclass ProductItem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      offset: 0,\r\n      quantity: 1\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    token = localStorage.getItem('_auth');\r\n  }\r\n\r\n  upItem = (quantity) => {\r\n    // if (quantity >= 5) {\r\n    //   toast.error('Bạn chỉ có thể mua tối đa 5 sản phẩm')\r\n    //   return\r\n    // }\r\n    this.setState({\r\n      quantity: quantity + 1\r\n    })\r\n  }\r\n  downItem = (quantity) => {\r\n    if (quantity <= 1) {\r\n      return\r\n    }\r\n    this.setState({\r\n      quantity: quantity - 1\r\n    })\r\n  }\r\n  handleChange = event => {\r\n    const name = event.target.name;\r\n    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  getInfoProduct = (id) => {\r\n    this.props.getInfoProduct(id);\r\n  }\r\n\r\n  addItemToCart = (product) => {\r\n    startLoading()\r\n    this.props.addCart(product);\r\n    doneLoading();\r\n  }\r\n\r\n  addItemToFavorite = (id) => {\r\n    startLoading()\r\n    if (!token) {\r\n      return toast.error('Vui lòng đăng nhập trước khi thêm sản phẩm vào danh sách yêu thích')\r\n    }\r\n    this.props.addFavorite(id, token);\r\n    doneLoading();\r\n  }\r\n\r\n  // vi su dung form nen tach ra co event de ko bi load lai page\r\n  addItemToCart2 = (event, product) => {\r\n    const { quantity } = this.state;\r\n    event.preventDefault();\r\n    startLoading()\r\n    this.props.addCart(product, quantity);\r\n    doneLoading();\r\n  }\r\n\r\n  getToProductDetail = (id, cateogryId) => {\r\n    const { offset } = this.state;\r\n    startLoading()\r\n    this.props.getProductDetail(id);\r\n    this.props.fetch_products_other(offset, cateogryId);\r\n    this.props.fetch_product_ratings(id);\r\n    doneLoading();\r\n  }\r\n  render() {\r\n    const { product, getProduct } = this.props;\r\n    const { quantity } = this.state;\r\n    let sumRating = 0;\r\n    let count = 0;\r\n    if (product.rating && product.rating.length > 0) {\r\n      let totalRating = 0;\r\n      product.rating.map((item) => {\r\n        return (\r\n          count++ ,\r\n          totalRating = totalRating + item.point\r\n        )\r\n      })\r\n      sumRating = Math.round(totalRating / count);\r\n    }\r\n    return (\r\n      <div className=\"col-lg-3 col-md-4 col-sm-6 mt-40\">\r\n        {/* single-product-wrap start */}\r\n        <div className=\"single-product-wrap\">\r\n          <div className=\"fix-img-div product-image\">\r\n            <Link to={`/products/${product.id}`}>\r\n              <img className=\"fix-img\" src={product.image} alt=\"Li's Product \" />\r\n            </Link>\r\n          </div>\r\n          <div className=\"product_desc\">\r\n            <div className=\"product_desc_info\">\r\n              <div className=\"product-review\">\r\n                <h5 className=\"manufacturer\">\r\n                  <Link to={`/categories/${product.categoryId}`}>{product.categories && product.categories.nameCategory ? product.categories.nameCategory : null}</Link>\r\n                </h5>\r\n                <div className=\"rating-box\">\r\n                  <BeautyStars\r\n                    size={10}\r\n                    activeColor={'#ed8a19'}\r\n                    inactiveColor={'#c1c1c1'}\r\n                    value={sumRating}\r\n                    editable={false}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <h4><Link className=\"product_name text-truncate\" to={`/products/${product.id}`}>{product.nameProduct}</Link></h4>\r\n              <div className=\"price-box\">\r\n                <span className=\"new-price\" style={{color: 'red'}}>{formatNumber.format(product.price)}</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"add-actions\">\r\n              <ul className=\"add-actions-link\">\r\n                <li className=\"add-cart active\"><Link to=\"#\" onClick={() => this.addItemToCart(product)} >Add to cart</Link></li>\r\n                <li><Link onClick={(id) => this.getInfoProduct(product.id)} to={`/products/${product.id}`} title=\"quick view\" className=\"quick-view-btn\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\"><i className=\"fa fa-eye\" /></Link></li>\r\n                <li><Link onClick={(id) => this.addItemToFavorite(product.id)} className=\"links-details\" to=\"#\" title=\"favorite\" ><i className=\"fa fa-heart-o\" /></Link></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/*// QUICK VIEW */}\r\n        <div className=\"modal fade modal-wrapper\" id=\"exampleModalCenter\">\r\n          <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-body\">\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">×</span>\r\n                </button>\r\n                <div className=\"modal-inner-area row\">\r\n                  <div className=\"col-lg-5 col-md-6 col-sm-6\">\r\n                    {/* Product Details Left */}\r\n                    <div className=\"product-details-left\">\r\n                      <div className=\"product-details-images slider-navigation-1\">\r\n                        <div className=\"lg-image\">\r\n                          <img src={getProduct.image} alt=\"not found\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {/*// Product Details Left */}\r\n                  </div>\r\n                  <div className=\"col-lg-7 col-md-6 col-sm-6\">\r\n                    <div className=\"product-details-view-content pt-60\">\r\n                      <div className=\"product-info\">\r\n                        <h2>{getProduct.nameProduct}</h2>\r\n                        <div className=\"rating-box\">\r\n                        </div>\r\n                        <div className=\"price-box pt-20\">\r\n                          <span className=\"new-price new-price-2\">{formatNumber.format(getProduct.price)}</span>\r\n                        </div>\r\n                        <div className=\"product-desc\">\r\n                          <p>\r\n                            <span>{getProduct.description}\r\n                            </span>\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"product-variants\">\r\n                        </div>\r\n                        <div className=\"single-add-to-cart\">\r\n                          <form className=\"cart-quantity\" onSubmit={(event) => this.addItemToCart2(event, getProduct)}>\r\n                            <div className=\"quantity\">\r\n                              <label>Số lượng</label>\r\n                              <div className=\"cart-plus-minus\">\r\n                                <input type=\"text\"\r\n                                  className=\"cart-plus-minus-box\"\r\n                                  name={quantity}\r\n                                  value={quantity}\r\n                                  onChange={this.handleChange}\r\n                                />\r\n                                <div onClick={() => this.downItem(quantity)} className=\"dec qtybutton\"><i className=\"fa fa-angle-down\" /></div>\r\n                                <div onClick={() => this.upItem(quantity)} className=\"inc qtybutton\"><i className=\"fa fa-angle-up\" /></div>\r\n                              </div>\r\n                            </div>\r\n                            <button className=\"add-to-cart\" type=\"submit\">Thêm vào giỏ hàng</button>\r\n                          </form>\r\n                        </div>\r\n                        <div className=\"product-additional-info pt-25\">\r\n                        <li><Link onClick={(id) => this.addItemToFavorite(product.id)} className=\"links-details\" to=\"#\"><i className=\"fa fa-heart-o\" />Thêm vào danh sách mong muốn</Link></li>\r\n                          <div className=\"product-social-sharing pt-25\">\r\n                            <ul>\r\n                              <li className=\"facebook\"><a href=\"/\"><i className=\"fa fa-facebook\" />Facebook</a></li>\r\n                              <li className=\"twitter\"><a href=\"/\"><i className=\"fa fa-twitter\" />Twitter</a></li>\r\n                              <li className=\"google-plus\"><a href=\"/\"><i className=\"fa fa-google-plus\" />Google +</a></li>\r\n                              <li className=\"instagram\"><a href=\"/\"><i className=\"fa fa-instagram\" />Instagram</a></li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* single-product-wrap end */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    getProduct: state.product\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getProductDetail: (id) => {\r\n      dispatch(actGetProductRequest(id))\r\n    },\r\n    addCart: (item, quantity) => {\r\n      dispatch(actAddCartRequest(item, quantity))\r\n    },\r\n    fetch_products_other: (q, categoryId) => {\r\n      dispatch(actFetchProductsOtherRequest(q, categoryId))\r\n    },\r\n    getInfoProduct: (id) => {\r\n      dispatch(actGetProductRequest(id))\r\n    },\r\n    fetch_product_ratings: (id) => {\r\n      dispatch(actFetchRatingsRequest(id));\r\n    },\r\n    addFavorite: (id, token) => {\r\n      dispatch(actAddFavoriteRequest(id, token))\r\n    }\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductItem)\r\n","import React, { Component } from \"react\";\r\nimport LeftOptions from \"./LeftOptions\";\r\nimport ShopCategoryItems from \"./ShopCategoryItems\";\r\nimport { connect } from \"react-redux\";\r\nimport { actGetProductV2 } from \"../../redux/actions/products\";\r\nimport { Pagination } from \"antd\";\r\n\r\nconst RangePrices = {\r\n  1: {\r\n    minPrice: 1,\r\n    maxPrice: 100000,\r\n  },\r\n  2: {\r\n    minPrice: 100000,\r\n    maxPrice: 500000,\r\n  },\r\n  3: {\r\n    minPrice: 500000,\r\n    maxPrice: 1000000,\r\n  },\r\n  4: {\r\n    minPrice: 1000000,\r\n    maxPrice: null,\r\n  },\r\n};\r\nclass ShopCategory extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentPage: 1,\r\n      total: 50,\r\n      rangePrice: 0,\r\n      orderBy: \"\",\r\n    };\r\n    this.onChangePage = this.onChangePage.bind(this);\r\n    this.onChangeRangePrice = this.onChangeRangePrice.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n  componentDidUpdate() {\r\n  }\r\n\r\n  getData() {\r\n    const type = this.props.type;\r\n\r\n    const params = {\r\n      page: this.state.currentPage || 1,\r\n      pageSize: 10,\r\n    };\r\n    if (type === \"searchProductByCategory\") {\r\n      params.categoryId = this.props.categoryId;\r\n    } else if (type === \"searchProductByKeyword\") {\r\n      params.searchName = this.props.keywordSearch;\r\n    } else if (type === \"allProduct\") {\r\n    }\r\n    if (this.state.rangePrice) {\r\n      const range = RangePrices[this.state.rangePrice];\r\n      if (range.minPrice) {\r\n        params.minPrice = range.minPrice;\r\n      }\r\n      if (range.maxPrice) {\r\n        params.maxPrice = range.maxPrice;\r\n      }\r\n    }\r\n    if (this.state.orderBy) {\r\n      params.orderBy = this.state.orderBy;\r\n    }\r\n\r\n    this.props.actGetProductV2(params, type);\r\n  }\r\n\r\n  onChangePage(page) {\r\n    this.setState({ ...this.state, currentPage: page }, () => {\r\n      this.getData();\r\n    });\r\n  }\r\n  onChangeRangePrice(rangePrice) {\r\n    this.setState(\r\n      {\r\n        ...this.state,\r\n        rangePrice: rangePrice === this.state.rangePrice ? 0 : rangePrice,\r\n      },\r\n      () => {\r\n        this.getData();\r\n      }\r\n    );\r\n  }\r\n\r\n  handleChangeSelectSort = (event) => {\r\n    const value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n\r\n    this.setState(\r\n      {\r\n        ...this.state,\r\n        orderBy: value,\r\n      },\r\n      () => {\r\n        this.getData();\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { productByCategory, productByKeyword, allProduct, type } = this.props;\r\n    const productsWithPagination = (() => {\r\n      switch (type) {\r\n        case \"searchProductByCategory\":\r\n          return productByCategory;\r\n        case \"searchProductByKeyword\":\r\n          return productByKeyword;\r\n        case \"allProduct\":\r\n          return allProduct;\r\n\r\n        default:\r\n          return { products: [], pagination: {} };\r\n      }\r\n    })();\r\n    const { products, pagination } = productsWithPagination;\r\n\r\n    return (\r\n      <div className=\"content-wraper pt-10 pb-10\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-9 order-1 order-lg-2 product-right\">\r\n              <div className=\"shop-top-bar\">\r\n                <div className=\"shop-bar-inner\">\r\n                  <div className=\"product-view-mode\">\r\n                    <ul className=\"nav shop-item-filter-list\" role=\"tablist\">\r\n                      <li role=\"presentation\">\r\n                        <a\r\n                          data-toggle=\"tab\"\r\n                          role=\"tab\"\r\n                          aria-controls=\"grid-view\"\r\n                          href=\"#grid-view\"\r\n                        >\r\n                          <i className=\"fa fa-th\" />\r\n                        </a>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className=\"product-select-box\">\r\n                  <div className=\"product-short\">\r\n                    <p>Sắp xếp theo:</p>\r\n                    <select\r\n                      className=\"nice-select\"\r\n                      onChange={(event) => this.handleChangeSelectSort(event)}\r\n                    >\r\n                      <option value=\"\">Tất cả</option>\r\n                      <option value=\"nameProduct\">Tên (A - Z)</option>\r\n                      <option value=\"-nameProduct\">Tên (Z - A)</option>\r\n                      <option value=\"price\">Giá (thấp &gt; cao)</option>\r\n                      <option value=\"-price\">Giá (cao &gt; thấp)</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"shop-products-wrapper\">\r\n                {products.length ? (\r\n                  <div className=\"tab-content\">\r\n                    <div id=\"grid-view\">\r\n                      <div className=\"product-area shop-product-area\">\r\n                        <div className=\"row\">\r\n                          {products.map((product, index) => {\r\n                            return (\r\n                              <ShopCategoryItems\r\n                                key={index}\r\n                                product={product}\r\n                              ></ShopCategoryItems>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"paginatoin-area\">\r\n                      <div className=\"row\" style={{ alignItems: \"center\" }}>\r\n                        <div className=\"col-lg-3 col-md-3\">\r\n                          <p>{`Hiển thị từ ${\r\n                            ((pagination.page || 1) - 1) * 10 + 1\r\n                          } đến ${\r\n                            ((pagination.page || 1) - 1) * 10 +\r\n                            (products.length || 0)\r\n                          }`}</p>\r\n                        </div>\r\n                        <div\r\n                          className=\"col-lg-9 col-md-9\"\r\n                          style={{ display: \"flex\", justifyContent: \"center\" }}\r\n                        >\r\n                          <Pagination\r\n                            current={pagination.page || 1}\r\n                            onChange={this.onChangePage}\r\n                            total={(pagination.totalPages || 1) * 10}\r\n                            showSizeChanger={false}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ textAlign: \"center\", marginTop: 60 }}>\r\n                    Không có sản phẩm\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <LeftOptions\r\n              rangePrice={this.state.rangePrice}\r\n              onChangeRangePrice={this.onChangeRangePrice}\r\n            ></LeftOptions>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    productByCategory: state.productsV2.productByCategory,\r\n    productByKeyword: state.productsV2.productByKeyword,\r\n    allProduct: state.productsV2.allProduct,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    actGetProductV2: (params, type) => {\r\n      return dispatch(actGetProductV2(params, type));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopCategory);\r\n","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nimport ShopCategory from '../components/ShopCategory/ShopCategory'\r\nexport default class ProductPage extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <LinkHere crumbs={[`Tất cả sản phẩm`]} />\r\n        <ShopCategory type='allProduct'></ShopCategory>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport ProductItem from './ProductItem'\r\nimport { connect } from 'react-redux'\r\nimport { actFetchProductsRequest } from '../../redux/actions/products';\r\n\r\nclass ProductSearch extends Component {\r\n  render() {\r\n    let { products } = this.props;\r\n    return (\r\n      <div className=\"content-wraper pt-60 pb-60\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              {/* Begin Li's Banner Area */}\r\n              <div className=\"single-banner shop-page-banner\">\r\n                <a href=\"/\">\r\n                  <img src=\"https://i.ibb.co/rfh0sf4/2.jpg\" alt=\"Li's Static Banner\" />\r\n                </a>\r\n              </div>\r\n              \r\n              {/* Li's Banner Area End Here *presentation/}\r\n              {/* shop-top-bar start */}\r\n              <div className=\"shop-top-bar mt-30\">\r\n                <div className=\"shop-bar-inner\">\r\n                  <div className=\"product-view-mode\">\r\n                    {/* shop-item-filter-list start */}\r\n                    <ul className=\"nav shop-item-filter-list\" role=\"tablist\">\r\n                      <li className=\"active\" role=\"presentation\"><a aria-selected=\"true\" className=\"active show\" data-toggle=\"tab\" role=\"tab\" aria-controls=\"grid-view\" href=\"#grid-view\"><i className=\"fa fa-th\" /></a></li>\r\n                    </ul>\r\n                    {/* shop-item-filter-list end */}\r\n                  </div>\r\n                  <div className=\"toolbar-amount\">\r\n                    <span>Hiển thị từ 1 đến 12</span>\r\n                  </div>\r\n                </div>\r\n                {/* product-select-box start */}\r\n                <div className=\"product-select-box\">\r\n                  <div className=\"product-short\">\r\n                    <p>Sắp xếp theo:</p>\r\n                    <select className=\"nice-select\" onChange={this.handleChangeSelectSort} >\r\n                      <option value=\"createdAt\">All</option>\r\n                      <option value=\"nameProduct\">Tên (A - Z)</option>\r\n                      <option value=\"-nameProduct\">Tên (Z - A)</option>\r\n                      <option value=\"price\">Giá (Thấp &gt; Cao)</option>\r\n                      <option value=\"-price\">Giá (Cao &gt; Thấp)</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                {/* product-select-box end */}\r\n              </div>\r\n              {/* shop-top-bar end */}\r\n              {/* shop-products-wrapper start */}\r\n              <div className=\"shop-products-wrapper\">\r\n                <div className=\"tab-content\">\r\n                  <div id=\"grid-view\" className=\"tab-pane fade active show\" role=\"tabpanel\">\r\n                    <div className=\"product-area shop-product-area\">\r\n                      <div className=\"row\">\r\n                        {\r\n                          products && products.length ? products.map((item, index) => {\r\n                            return (\r\n                              <ProductItem key={index} product={item} ></ProductItem>\r\n                            )\r\n                          }) : null\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* shop-products-wrapper end */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.products\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetch_products: (value) => {\r\n      dispatch(actFetchProductsRequest(value));\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductSearch)\r\n","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nimport ProductSearch from '../components/ProductAll/ProductSearch'\r\nimport { useLocation } from 'react-router-dom';\r\nimport ShopCategory from '../components/ShopCategory/ShopCategory';\r\n\r\nconst ProductSearchPage = () => {\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search); \r\n  const keywordSearch = queryParams.get('q')\r\n  return (\r\n    <div>\r\n      <LinkHere crumbs={[`Kết quả tìm kiếm \"${keywordSearch}\"`]} ></LinkHere>\r\n      {/* <ProductSearch></ProductSearch> */}\r\n      <ShopCategory keywordSearch={keywordSearch} type='searchProductByKeyword' />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductSearchPage","import firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport 'firebase/database'; // Import Firestore\r\nimport { config } from '../config'\r\nfirebase.initializeApp(config.firebaseConfig);\r\nconst storage = firebase.storage();\r\nconst db = firebase.database();\r\nexport {\r\n  storage, db, firebase as default\r\n}\r\n","import { storage } from '../firebase';\r\n\r\n\r\nexport async function uploadImage(image) {\r\n  return new Promise((resolve, reject) => {\r\n    const uniqueFileName = `${Date.now()}-${image.name}`\r\n    const uploadTask = storage.ref(`images/${uniqueFileName}`).put(image);\r\n    uploadTask.on('state_changed',\r\n      (snapshot) => {},\r\n      (error) => {\r\n        reject(error)\r\n      },\r\n      () => {\r\n        storage.ref('images').child(uniqueFileName).getDownloadURL().then(url => {\r\n          resolve(url);\r\n        })\r\n      });\r\n  })\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport callApi from \"../../utils/apiCaller\";\r\nimport { uploadImage } from \"../../utils/upload\";\r\nimport \"./style.css\";\r\nimport {\r\n  actUpdateMeRequset,\r\n  actChangePasswordMeRequset,\r\n} from \"../../redux/actions/auth\";\r\nimport { connect } from \"react-redux\";\r\nimport { css } from \"@emotion/core\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { toast } from \"react-toastify\";\r\nimport Moment from \"react-moment\";\r\nimport { startLoading, doneLoading } from \"../../utils/loading\";\r\nimport { formatNumber } from \"../../config/TYPE\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport { Pagination } from \"antd\";\r\nconst MySwal = withReactContent(Swal);\r\n\r\ntoast.configure();\r\nconst pageSize = 10;\r\nlet token;\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n  position: fixed;\r\n  top: 40%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 9999;\r\n`;\r\nclass Profile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      phone: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      avatar: null,\r\n      loading: false,\r\n      img: null,\r\n      oldPassword: \"\",\r\n      password: \"\",\r\n      rePassword: \"\",\r\n      historyBooking: [],\r\n      page: 1,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    token = localStorage.getItem(\"_auth\");\r\n    const res = await callApi(\"users/me\", \"GET\", null, token);\r\n    const res2 = await callApi(\"users/me/historyBooking\", \"GET\", null, token);\r\n    this.setState({\r\n      name: res?.data?.results[0]?.name,\r\n      email: res?.data?.results[0]?.email,\r\n      phone: res?.data?.results[0]?.phone || \"\",\r\n      address: res?.data?.results[0]?.address,\r\n      avatar: res?.data?.results[0]?.avatar,\r\n      cumulativePoints: res?.data?.results[0]?.cumulativePoints,\r\n      historyBooking: res2?.data?.results,\r\n    });\r\n  }\r\n\r\n  handleChangeImage = (event) => {\r\n    if (event.target.files[0]) {\r\n      const img = event.target.files[0];\r\n      this.setState(() => ({ img }));\r\n    }\r\n    const output = document.getElementById(\"output\");\r\n    output.src = URL.createObjectURL(event.target.files[0]);\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\r\n    const name = target.name;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmitChangePassword = (event) => {\r\n    event.preventDefault();\r\n    const { password, oldPassword, rePassword } = this.state;\r\n    if (password.length < 6 || password.length > 32) {\r\n      return toast.error(\"Mật khẩu phải từ 6 đến 32 ký tự\");\r\n    }\r\n    if (password !== rePassword) {\r\n      toast.error(\"Mật khẩu không hợp lệ\");\r\n      return;\r\n    }\r\n    const data = {\r\n      oldPassword,\r\n      newPassword: password,\r\n    };\r\n    startLoading();\r\n    this.props.change_pw_me(data, token);\r\n    doneLoading();\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { name, address, phone } = this.state;\r\n    let { img, avatar } = this.state;\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    //upload image to firebase\r\n    if (img !== null && img !== avatar) {\r\n      avatar = await uploadImage(img);\r\n    }\r\n    const newAvatar = avatar === \"\" ? null : avatar;\r\n    const newAddress = address === \"\" ? null : address;\r\n    const newPhone = phone === \"\" ? null : phone;\r\n    const newName = name === \"\" ? null : name;\r\n\r\n    //edit\r\n    const editUser = {\r\n      name: newName,\r\n      address: newAddress,\r\n      avatar: newAvatar,\r\n      phone: newPhone,\r\n    };\r\n    await this.props.update_me(editUser, token);\r\n    this.setState({\r\n      loading: false,\r\n    });\r\n  };\r\n  cancelOrder = (id) => {\r\n    MySwal.fire({\r\n      title: \"Bạn chắc chắn muốn huỷ?\",\r\n      text: \"Bạn không thể khôi phục\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Đồng ý\",\r\n      cancelButtonText: \"Huỷ\",\r\n    }).then(async (result) => {\r\n      if (result.value) {\r\n        const res = await callApi(\r\n          `users/order/${id}/cancel`,\r\n          \"PUT\",\r\n          null,\r\n          token\r\n        );\r\n        if (res && res.status === 200) {\r\n          const res2 = await callApi(\r\n            \"users/me/historyBooking\",\r\n            \"GET\",\r\n            null,\r\n            token\r\n          );\r\n          this.setState({\r\n            historyBooking: res2.data.results,\r\n          });\r\n          Swal.fire(\r\n            \"Huỷ thành công!\",\r\n            \"Đơn hàng của bạn đã được huỷ\",\r\n            \"success\"\r\n          );\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  showOrder(status) {\r\n    if (status === \"Unconfirm\") {\r\n      return (\r\n        <div className=\"col-md-3\">\r\n          <label className=\"fix-status\" style={{ background: \"#ff9800\" }}>\r\n            {status}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    if (status === \"Confirm\") {\r\n      return (\r\n        <div className=\"col-md-3\">\r\n          <label className=\"fix-status\" style={{ background: \"#337ab7\" }}>\r\n            {status}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    if (status === \"Shipping\") {\r\n      return (\r\n        <div className=\"col-md-3\">\r\n          <label className=\"fix-status\" style={{ background: \"#634a41\" }}>\r\n            {status}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    if (status === \"Complete\") {\r\n      return (\r\n        <div className=\"col-md-3\">\r\n          <label className=\"fix-status\" style={{ background: \"#5cb85c\" }}>\r\n            {status}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n    if (status === \"Canceled\") {\r\n      return (\r\n        <div className=\"col-md-3\">\r\n          <label className=\"fix-status\" style={{ background: \"#d9534f\" }}>\r\n            {status}\r\n          </label>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  onChangePage(page) {\r\n    this.setState({ page });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      email,\r\n      phone,\r\n      address,\r\n      avatar,\r\n      loading,\r\n      oldPassword,\r\n      password,\r\n      rePassword,\r\n      historyBooking,\r\n      cumulativePoints,\r\n      page,\r\n    } = this.state;\r\n    const bookings = historyBooking.slice(\r\n      (page - 1) * pageSize,\r\n      page * pageSize\r\n    );\r\n    return (\r\n      <div className=\"container emp-profile\">\r\n        <div className=\"sweet-loading\">\r\n          <ClipLoader\r\n            css={override}\r\n            sizeUnit={\"px\"}\r\n            size={30}\r\n            color={\"#796aeebd\"}\r\n            loading={loading}\r\n          />\r\n        </div>\r\n        <form method=\"post\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4\">\r\n              <div className=\"fix-img-div profile-img\">\r\n                <img\r\n                  id=\"output\"\r\n                  className=\"fix-img\"\r\n                  src={\r\n                    avatar ||\r\n                    \"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-image-182145777.jpg\"\r\n                  }\r\n                  alt=\"not found\"\r\n                />\r\n              </div>\r\n              <span\r\n                className=\"btn btn-default btn-file\"\r\n                style={{ color: \"#212529\" }}>\r\n                Tải lên ảnh{\" \"}\r\n                <input\r\n                  onChange={this.handleChangeImage}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                />\r\n              </span>\r\n            </div>\r\n            <div className=\"col-md-8\">\r\n              <div className=\"profile-head\" style={{ paddingTop: 70 }}>\r\n                {/* <h5>{name}</h5>\r\n                <h5>Điểm tích lũy: {cumulativePoints}</h5> */}\r\n                <h4>{name}</h4>\r\n                <line/>\r\n                <h5 style={{ color: \"green\" }}>\r\n                  Điểm tích lũy: {cumulativePoints}\r\n                </h5>\r\n\r\n                <p className=\"proile-rating\"></p>\r\n                <ul\r\n                  className=\"nav nav-tabs\"\r\n                  style={{ paddingTop: 40 }}\r\n                  id=\"myTab\"\r\n                  role=\"tablist\">\r\n                  <li className=\"nav-item\">\r\n                    <a\r\n                      className=\"nav-link active\"\r\n                      id=\"home-tab\"\r\n                      data-toggle=\"tab\"\r\n                      href=\"#home\"\r\n                      role=\"tab\"\r\n                      aria-controls=\"home\"\r\n                      aria-selected=\"true\">\r\n                      Thông tin\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <a\r\n                      className=\"nav-link\"\r\n                      id=\"profile-tab\"\r\n                      data-toggle=\"tab\"\r\n                      href=\"#profile\"\r\n                      role=\"tab\"\r\n                      aria-controls=\"profile\"\r\n                      aria-selected=\"false\">\r\n                      Đổi mật khẩu\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <a\r\n                      className=\"nav-link\"\r\n                      id=\"history-tab\"\r\n                      data-toggle=\"tab\"\r\n                      href=\"#history\"\r\n                      role=\"tab\"\r\n                      aria-controls=\"history\"\r\n                      aria-selected=\"false\">\r\n                      Lịch sử đặt hàng\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4\"></div>\r\n            <div className=\"col-md-8\">\r\n              <div className=\"tab-content profile-tab\" id=\"myTabContent\">\r\n                <div\r\n                  className=\"tab-pane fade show active\"\r\n                  id=\"home\"\r\n                  role=\"tabpanel\"\r\n                  aria-labelledby=\"home-tab\">\r\n                  <form onSubmit={(event) => this.handleSubmit(event)}>\r\n                    <div className=\"row mt-1\">\r\n                      <div className=\"col-md-6\">\r\n                        <label>Họ tên</label>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <input\r\n                          name=\"name\"\r\n                          onChange={this.handleChange}\r\n                          value={name}\r\n                          className=\"form-control form-control-sm\"\r\n                          type=\"text\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row mt-1\">\r\n                      <div className=\"col-md-6\">\r\n                        <label>Email</label>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <input\r\n                          disabled\r\n                          value={email}\r\n                          className=\"form-control form-control-sm\"\r\n                          type=\"text\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row mt-1\">\r\n                      <div className=\"col-md-6\">\r\n                        <label>Địa chỉ</label>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <input\r\n                          onChange={this.handleChange}\r\n                          name=\"address\"\r\n                          value={address}\r\n                          className=\"form-control form-control-sm\"\r\n                          type=\"text\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row mt-1\">\r\n                      <div className=\"col-md-6\">\r\n                        <label>Số điện thoại</label>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <input\r\n                          onChange={this.handleChange}\r\n                          name=\"phone\"\r\n                          value={phone}\r\n                          className=\"form-control form-control-sm\"\r\n                          type=\"text\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row mt-2\">\r\n                      <div className=\"col-md-6\"></div>\r\n                      <div className=\"col-md-3\">\r\n                        <button\r\n                          style={{\r\n                            backgroundColor: \"#0b0bed8c\",\r\n                            border: \"#0b0bed8c\",\r\n                          }}\r\n                          type=\"submit\"\r\n                          className=\"btn btn-primary\">\r\n                          Gửi\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                <div\r\n                  className=\"tab-pane fade\"\r\n                  id=\"profile\"\r\n                  role=\"tabpanel\"\r\n                  aria-labelledby=\"profile-tab\">\r\n                  <form\r\n                    onSubmit={(event) =>\r\n                      this.handleSubmitChangePassword(event)\r\n                    }>\r\n                    <div className=\"row mb-1\">\r\n                      <div className=\"col-md-3\">\r\n                        <label>Mật khẩu hiện tại</label>\r\n                      </div>\r\n                      <div className=\"col-md-9\">\r\n                        <input\r\n                          type=\"password\"\r\n                          name=\"oldPassword\"\r\n                          value={oldPassword}\r\n                          onChange={this.handleChange}\r\n                          className=\"form-control form-control-sm\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row mb-1\">\r\n                      <div className=\"col-md-3\">\r\n                        <label>Mật khẩu mới</label>\r\n                      </div>\r\n                      <div className=\"col-md-9\">\r\n                        <input\r\n                          type=\"password\"\r\n                          name=\"password\"\r\n                          value={password}\r\n                          onChange={this.handleChange}\r\n                          className=\"form-control form-control-sm\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-3\">\r\n                        <label>Nhập lại mật khẩu mới</label>\r\n                      </div>\r\n                      <div className=\"col-md-9\">\r\n                        <input\r\n                          type=\"password\"\r\n                          name=\"rePassword\"\r\n                          value={rePassword}\r\n                          onChange={this.handleChange}\r\n                          className=\"form-control form-control-sm\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row mt-2\">\r\n                      <div className=\"col-md-3\"></div>\r\n                      <div className=\"col-md-3\">\r\n                        <button\r\n                          style={{\r\n                            backgroundColor: \"#0b0bed8c\",\r\n                            border: \"#0b0bed8c\",\r\n                          }}\r\n                          type=\"submit\"\r\n                          className=\"btn btn-primary\">\r\n                          Submit\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                <div\r\n                  className=\"tab-pane fade\"\r\n                  id=\"history\"\r\n                  aria-labelledby=\"history-tab\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-1\">\r\n                      <b>Mã đơn hàng</b>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <b>Ngày đặt</b>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <b>Trạng thái</b>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <b>Thành tiền</b>\r\n                    </div>\r\n                    <div className=\"col-md-2\">\r\n                      <b>Hành động</b>\r\n                    </div>\r\n                  </div>\r\n                  {bookings && bookings.length ? (\r\n                    <>\r\n                      {bookings.map((item, index) => {\r\n                        return (\r\n                          <div key={index} className=\"row\">\r\n                            <div className=\"col-md-1\">\r\n                              {\" \"}\r\n                              <Link to={`/orders/history/${item.id}`}>\r\n                                #{item.id}\r\n                              </Link>\r\n                            </div>\r\n                            <div className=\"col-md-3\">\r\n                              <Moment format=\"YYYY-MM-DD\">\r\n                                {item.createdAt}\r\n                              </Moment>\r\n                            </div>\r\n                            {item.status === \"Canceled\"}\r\n                            {this.showOrder(item.status)}\r\n                            <div className=\"col-md-3\">\r\n                              {formatNumber.format(item.totalAmount)}\r\n                            </div>\r\n                            <div className=\"col-md-2\">\r\n                              {item.status === \"Unconfirm\" ? (\r\n                                <Link\r\n                                  to=\"#\"\r\n                                  onClick={(id) => this.cancelOrder(item.id)}\r\n                                  style={{\r\n                                    backgroundColor: \"#ffff\",\r\n                                    border: \"#ffff\",\r\n                                  }}>\r\n                                  <i\r\n                                    className=\"fa fa-window-close\"\r\n                                    style={{ color: \"red\", fontSize: 15 }}></i>\r\n                                </Link>\r\n                              ) : null}\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                      <Pagination\r\n                        current={page}\r\n                        onChange={this.onChangePage}\r\n                        total={historyBooking.length}\r\n                        showSizeChanger={false}\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"center\",\r\n                          marginTop: 10,\r\n                        }}\r\n                      />\r\n                    </>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    update_me: (data, token) => {\r\n      dispatch(actUpdateMeRequset(data, token));\r\n    },\r\n    change_pw_me: (data, token) => {\r\n      dispatch(actChangePasswordMeRequset(data, token));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Profile);\r\n","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nimport Profile from '../components/Profile/Profile'\r\nexport default class ProfilePage extends Component {\r\n  render() {\r\n    const url = this.props.match.match.url;\r\n    return (\r\n      <div>\r\n        <LinkHere url={url}></LinkHere>\r\n        <Profile></Profile>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { actRegisterRequest } from '../../redux/actions/auth';\r\nimport { connect } from 'react-redux'\r\nimport { startLoading, doneLoading } from '../../utils/loading'\r\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\r\ntoast.configure()\r\n\r\nclass Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      repassword: ''\r\n    }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    let name = event.target.name;\r\n    let value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { name, email, password, repassword } = this.state;\r\n    if (password !== repassword){\r\n      toast.error('Mật khẩu không giống nhau')\r\n      return \r\n    }\r\n    if (password.length < 6 || password.length > 32) {\r\n      toast.error('Mật khẩu phải từ 6 đến 32 ký tự');\r\n      return\r\n    }\r\n    const newName = (name !== null)  ? name : ''\r\n    const user = {\r\n      name: newName,\r\n      email,\r\n      password,\r\n    }\r\n    startLoading();\r\n    await this.props.registerRequest(user);\r\n    this.setState({\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      repassword: ''\r\n    })\r\n    \r\n    doneLoading();\r\n  }\r\n\r\n  render() {\r\n    const { name, email } = this.state;\r\n    return (\r\n      <div className=\"col-sm-12 col-md-12 col-lg-6 col-xs-12\">\r\n        <form onSubmit={(event) => this.handleSubmit(event)}>\r\n          <div className=\"login-form\">\r\n            <h4 className=\"login-title\">Đăng ký</h4>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12 mb-20\">\r\n                <label>Họ tên</label>\r\n                <input onChange={this.handleChange} value={name} className=\"mb-0\" type=\"text\" name=\"name\" placeholder=\"Nhập tên của bạn\" />\r\n              </div>\r\n              <div className=\"col-md-12 mb-20\">\r\n                <label>Email*</label>\r\n                <input onChange={this.handleChange} value={email} className=\"mb-0\" type=\"email\" name=\"email\" placeholder=\"Nhập địa chỉ email của bạn\" />\r\n              </div>\r\n              <div className=\"col-md-6 mb-20\">\r\n                <label>Mật khẩu*</label>\r\n                <input onChange={this.handleChange} className=\"mb-0\" type=\"password\" name=\"password\" placeholder=\"Nhập mật khẩu\" />\r\n              </div>\r\n              <div className=\"col-md-6 mb-20\">\r\n                <label>Xác nhận mật khẩu*</label>\r\n                <input onChange={this.handleChange} className=\"mb-0\" type=\"password\" name=\"repassword\" placeholder=\"Nhập lại mật khẩu\" />\r\n              </div>\r\n              <div className=\"col-12 row justify-content-center\">\r\n                <button className=\"register-button mt-0\">Đăng ký</button>\r\n              </div>\r\n              <div className='col-12 row justify-content-center mt-10'>\r\n                <p>Bạn chưa có tài khoản? <Link to=\"/login-register\">Đăng nhập</Link></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    registerRequest: (user) => {\r\n      dispatch(actRegisterRequest(user))\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Register)\r\n\r\n","import React, { Component } from 'react'\nimport Register from '../components/LoginRegister/Register';\n\n\nexport default class RegisterPage extends Component {\n  render() {\n    return (\n      <div className='row justify-content-center pb-40'>\n        <Register></Register>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\nimport ShopCategory from '../components/ShopCategory/ShopCategory'\r\n\r\nexport default class ShopCategoryPage extends Component {\r\n\r\n  render() {\r\n    const url = this.props.match.match.url;\r\n    const {id} = this.props.match.match.params\r\n    return (\r\n      <div>\r\n        <LinkHere />\r\n        <ShopCategory categoryId={id} type='searchProductByCategory'></ShopCategory>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { formatNumber } from \"../../config/TYPE\";\r\nimport {\r\n  actRemoveCartRequest,\r\n  actUpdateCartRequest,\r\n} from \"../../redux/actions/cart\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./style.css\";\r\nimport callApi from \"../../utils/apiCaller\";\r\n\r\ntoast.configure();\r\n\r\nclass ShoppingCartItems extends Component {\r\n  state = {\r\n    isSelected: false,\r\n  };\r\n\r\n  handleCheckboxChange = () => {\r\n    this.setState((prevState) => ({\r\n      isSelected: !prevState.isSelected,\r\n    }));\r\n    this.props.toggleSelectItem(this.props.item, !this.state.isSelected);\r\n  };\r\n\r\n  handleQuantityChange = async (event) => {\r\n    const newQuantity = parseInt(event.target.value, 10);\r\n    const id = this.props.item.id;\r\n    const currentQuantity = this.props.item.quantity; // Lưu lại số lượng hiện tại\r\n\r\n    if (id) {\r\n      const resData = await callApi(`products/${id}`, \"GET\", null);\r\n      const numberAvailable = resData?.data?.numberAvailable;\r\n\r\n      if (numberAvailable) {\r\n        if (newQuantity > numberAvailable) {\r\n          toast.error(\"Vượt quá số lượng tồn kho\");\r\n\r\n          // Cập nhật lại số lượng về giá trị trước đó nếu vượt quá số lượng tồn kho\r\n          let updatedItem = { ...this.props.item, quantity: currentQuantity };\r\n          this.props.changQuantityItem(updatedItem);\r\n          return; // Dừng lại không cập nhật số lượng mới\r\n        }\r\n      }\r\n    }\r\n\r\n    if (newQuantity >= 1) {\r\n      let updatedItem = { ...this.props.item, quantity: newQuantity };\r\n      this.props.changQuantityItem(updatedItem);\r\n    }\r\n  };\r\n\r\n  // handleQuantityChange = async (event) => {\r\n  //   const newQuantity = parseInt(event.target.value, 10);\r\n  //   const id = this.props.item.id;\r\n  //   if (id) {\r\n  //     const resData = await callApi(`products/${id}`, \"GET\", null);\r\n  //     const numberAvailable = resData?.data?.numberAvailable;\r\n  //     if (numberAvailable){\r\n  //       if (newQuantity > numberAvailable) {\r\n  //         toast.error(\"Vượt quá số lượng tồn kho\");\r\n  //       }\r\n  //     }\r\n  //   }\r\n  //   if (newQuantity >= 1) {\r\n  //     let updatedItem = { ...this.props.item, quantity: newQuantity };\r\n  //     this.props.changQuantityItem(updatedItem);\r\n  //   }\r\n  // };\r\n\r\n  removeItem = (item) => {\r\n    this.props.removeItem(item);\r\n    toast.success(\"Xoá sản phẩm thành công\");\r\n  };\r\n\r\n  render() {\r\n    const { item } = this.props;\r\n    const { isSelected } = this.state;\r\n\r\n    return (\r\n      <tr>\r\n        <td className=\"li-product-select\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={isSelected}\r\n            onChange={this.handleCheckboxChange}\r\n            style={{ width: 15 }}\r\n          />\r\n        </td>\r\n\r\n        <td className=\"li-product-thumbnail d-flex justify-content-center\">\r\n          <a href=\"/\">\r\n            <div className=\"fix-cart\">\r\n              <img\r\n                className=\"fix-img\"\r\n                src={item.image ? item.image : null}\r\n                alt=\"Li's Product\"\r\n              />\r\n            </div>\r\n          </a>\r\n        </td>\r\n        <td className=\"li-product-name\">\r\n          <a className=\"text-dark\" href=\"/\">\r\n            {item.nameProduct}\r\n          </a>\r\n        </td>\r\n        <td className=\"product-subtotal\">\r\n          <span className=\"amount\">{formatNumber.format(item.price)}</span>\r\n        </td>\r\n        <td className=\"quantity\">\r\n          <div className=\"cart-plus-minus\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"cart-plus-minus-box\"\r\n              value={item.quantity || 1}\r\n              onChange={this.handleQuantityChange}\r\n              min=\"1\"\r\n            />\r\n          </div>\r\n        </td>\r\n        <td className=\"product-subtotal\">\r\n          <span className=\"amount\">\r\n            {formatNumber.format(item.price * item.quantity)}\r\n          </span>\r\n        </td>\r\n        <td className=\"li-product-remove\">\r\n          <Link to=\"#\">\r\n            <i\r\n              style={{ fontSize: 20 }}\r\n              onClick={() => this.removeItem(item)}\r\n              className=\"fa fa-trash\"\r\n            />\r\n          </Link>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    removeItem: (item) => {\r\n      dispatch(actRemoveCartRequest(item));\r\n    },\r\n    changQuantityItem: (item) => {\r\n      dispatch(actUpdateCartRequest(item));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(ShoppingCartItems);\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { formatNumber } from '../../config/TYPE'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nclass SumTotal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirectYourOrder: false,\r\n      redirectYourLogin: false\r\n    }\r\n  }\r\n\r\n\r\n  checkAuthenticate = () => {\r\n    const { user, cartCalculateItems } = this.props;\r\n    if (!cartCalculateItems.itemAmount) {\r\n      return toast.error('Xin vui lòng chọn sản phẩm trước khi đặt hàng');\r\n    }\r\n    if (user) {\r\n      this.setState({\r\n        redirectYourOrder: true\r\n      })\r\n    } else {\r\n      toast.error('Bạn phải đăng nhập trước khi thanh toán');\r\n      this.setState({\r\n        redirectYourLogin: true\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { redirectYourOrder, redirectYourLogin } = this.state;\r\n    const { cartCalculateItems } = this.props;\r\n    if (redirectYourOrder) {\r\n      return <Redirect to=\"/checkout\"></Redirect>\r\n    }\r\n    if (redirectYourLogin) {\r\n      return <Redirect to=\"/login-register\"></Redirect>\r\n    }\r\n    return (\r\n      <div>\r\n        <div className=\"cart-page-total\">\r\n          <h2>Tổng tiền giỏ hàng</h2>\r\n          <ul>\r\n            <li>Tổng tiền <span>{cartCalculateItems.itemAmount ? formatNumber.format(cartCalculateItems.itemAmount) : 0}</span></li>\r\n            <li>Phí vận chuyển <span>{formatNumber.format(cartCalculateItems.shippingTotal || 0)}</span></li>\r\n            <li>Giảm giá  <span>{formatNumber.format(cartCalculateItems.promoTotal || 0)}</span></li>\r\n            <li style={{ color: 'red' }}>Tổng <span>{cartCalculateItems.totalAmount ? formatNumber.format(cartCalculateItems.totalAmount) : 0}</span></li>\r\n          </ul>\r\n          <button onClick={() => this.checkAuthenticate()} className=\"fix-text-checkout\" style={{cursor: 'pointer'}}>Đặt hàng</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.auth,\r\n    cartCalculateItems: state.cartCalculateItems.data\r\n  }\r\n}\r\nexport default connect(mapStateToProps, null)(SumTotal)\r\n","import React, { Component } from \"react\";\r\nimport ShoppingCartItems from \"./ShoppingCartItems\";\r\nimport {\r\n  actCalculateCartItems,\r\n  actCalculateCartItemsSuccess,\r\n  actFetchCartRequest,\r\n  setSelectedItems,\r\n} from \"../../redux/actions/cart\";\r\nimport { connect } from \"react-redux\";\r\nimport SumTotal from \"./SumTotal\";\r\nimport _ from \"lodash\";\r\nimport callApi from \"../../utils/apiCaller\";\r\nlet token\r\nclass ShoppingCart extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n    };\r\n    this.toggleSelectItem = this.toggleSelectItem.bind(this);\r\n    this.itemsSelected = []\r\n  }\r\n\r\n  componentDidMount() {\r\n    token = localStorage.getItem(\"_auth\") || null;\r\n    this.props.fetch_items();\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const itemIdsSelected = this.props.selectedItems.map((it) => it.id);\r\n    const itemsSelected = this.props.items\r\n      .filter((it) => itemIdsSelected.includes(it.id))\r\n      .map((it) => ({ productId: it.id, quantity: it.quantity }));\r\n    if (!_.isEqual(itemsSelected, this.itemsSelected)) {\r\n      let userId = null;\r\n      this.itemsSelected = itemsSelected;\r\n      if (itemsSelected.length) {\r\n        let resData = null;\r\n        if (token){\r\n          resData = await callApi(\"users/me\", \"GET\", null, token);\r\n          resData?.data?.results?.length ? userId = resData?.data?.results[0]?.id : userId = null;\r\n        }\r\n        this.props.actCalculateCartItems(itemsSelected, userId);\r\n      } else {\r\n        this.props.clearCalculateCartItems();\r\n      }\r\n    }\r\n  }\r\n  \r\n  toggleSelectItem(item, isSelect) {\r\n    if (isSelect) {\r\n      const newSelectedItems = [...this.props.selectedItems, { id: item.id, quantity: item.quantity }]\r\n      this.props.setSelectedItems(newSelectedItems)\r\n    } else {\r\n      const newSelectedItems = this.props.selectedItems.filter(\r\n        (it) => it.id !== item.id\r\n      );\r\n      this.props.setSelectedItems(newSelectedItems)\r\n    }\r\n  }\r\n\r\n  showItem(items) {\r\n    let result = null;\r\n    if (items.length > 0) {\r\n      result = items.map((item, index) => {\r\n        return (\r\n          <ShoppingCartItems\r\n            key={index}\r\n            item={item}\r\n            toggleSelectItem={this.toggleSelectItem}\r\n          ></ShoppingCartItems>\r\n        );\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  render() {\r\n    const { items } = this.props;\r\n    return (\r\n      <div className=\"Shopping-cart-area pt-30 pb-30\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-8 col-xs-12\">\r\n              <form>\r\n                <div className=\"table-content table-responsive\">\r\n                  <table className=\"table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"li-product-select\"></th>\r\n                        <th className=\"li-product-thumbnail\">Ảnh</th>\r\n                        <th className=\"cart-product-name\">Sản phẩm</th>\r\n                        <th className=\"li-product-price\">Giá</th>\r\n                        <th className=\"li-product-quantity\">Số lượng</th>\r\n                        <th className=\"li-product-subtotal\">Thành tiền</th>\r\n                        <th className=\"li-product-remove\"></th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>{this.showItem(items)}</tbody>\r\n                  </table>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"col-sm-4 col-xs-12\">\r\n              <SumTotal></SumTotal>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    items: state.cart,\r\n    cartCalculateItems: state.cartCalculateItems.data,\r\n    selectedItems: state.cartCalculateItems.selectedItems\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetch_items: () => {\r\n      dispatch(actFetchCartRequest());\r\n    },\r\n    actCalculateCartItems: (items, userId) => {\r\n      dispatch(actCalculateCartItems(items, userId));\r\n    },\r\n    clearCalculateCartItems: () => {\r\n      dispatch(\r\n        actCalculateCartItemsSuccess({\r\n          totalAmount: 0,\r\n          itemAmount: 0,\r\n          promoTotal: 0,\r\n          shippingTotal: 0,\r\n        })\r\n      );\r\n    },\r\n    setSelectedItems: (items) => {\r\n      dispatch(setSelectedItems(items))\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCart);\r\n","import React, { Component } from 'react'\r\nimport ShoppingCart from '../components/ShoppingCart/ShoppingCart'\r\nimport LinkHere from '../components/LinkHere/LinkHere'\r\n\r\nexport default class ShoppingCartPage extends Component {\r\n  render() {\r\n    const url = this.props.match.match.url;\r\n    return (\r\n      <div>\r\n        <LinkHere url={url}></LinkHere>\r\n        <ShoppingCart></ShoppingCart>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from \"react\";\nimport callApi from \"../utils/apiCaller\";\nimport { Button, Card, Divider } from \"antd\";\nimport { formatNumber } from \"../config/TYPE\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nconst MySwal = withReactContent(Swal);\n\nconst StatusOrders = {\n  Unconfirm: {\n    text: \"Chưa xác nhận\",\n    color: \"gray\",\n  },\n  Confirm: {\n    text: \"Đã xác nhận\",\n    color: \"blue\",\n  },\n  Shipping: {\n    text: \"Đang giao hàng\",\n    color: \"yellow\",\n  },\n  Complete: {\n    text: \"Hoàn thành\",\n    color: \"green\",\n  },\n  Canceled: {\n    text: \"Hủy bỏ\",\n    color: \"red\",\n  },\n};\n\nconst PaymentMethods = {\n  COD: \"Thanh toán khi nhận hàng\",\n  VNPAY: \"Thanh toán qua VNPay\",\n};\n\nfunction OrderHistoryPage({ match }) {\n  const { id } = match.match.params;\n  console.log(\"object\", id);\n\n  const [data, setData] = useState(null);\n  const [dataOrderDetail, setDataOrderDetail] = useState(null);\n  const dataOrderDetails = dataOrderDetail || data?.orderDetails;\n  const [loading, setLoading] = useState(true);\n  console.log(\"===data\", data);\n\n  const getData = async () => {\n    const token = localStorage.getItem(\"_auth\");\n    if (token) {\n      const res = await callApi(`orders/${id}`, \"GET\", null, token);\n      const res2 = await callApi(\n        `order/${id}/orderDetails`,\n        \"GET\",\n        null,\n        token\n      );\n      setData(res.data);\n      setDataOrderDetail(res2.data?.results);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, [id]);\n\n  const handleCancelOrder = () => {\n    const token = localStorage.getItem(\"_auth\");\n    if (!token) return;\n    \n    MySwal.fire({\n      title: \"Bạn chắc chắn muốn huỷ?\",\n      text: \"Bạn không thể khôi phục\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Đồng ý\",\n      cancelButtonText: \"Huỷ\",\n    }).then(async (result) => {\n      if (result.value) {\n        const res = await callApi(\n          `users/order/${id}/cancel`,\n          \"PUT\",\n          null,\n          token\n        );\n        if (res && res.status === 200) {\n          Swal.fire(\n            \"Huỷ thành công!\",\n            \"Đơn hàng của bạn đã được huỷ\",\n            \"success\"\n          );\n          getData();\n        }\n      }\n    });\n  }\n\n  const getAddress = (data) => {\n    if (!data) return \"\";\n    return `${data.address.house}, ${data.address.state}, ${data.address.province}`;\n  };\n\n  return (\n    <div>\n      <div className=\"container OrderHistoryPage\">\n        <h3>Chi tiết đơn hàng</h3>\n        <Divider />\n        {loading && <div>Đang tải...</div>}\n        {data && (\n          <>\n            <div className=\"line\">\n              <p className=\"order-title-row\">Mã đơn hàng: </p>\n              <p className=\"order-line-value\">{data?.id}</p>\n            </div>\n            <div className=\"line\">\n              <p className=\"order-title-row\">Tên người nhận: </p>\n              <p className=\"order-line-value\">{data?.fullName}</p>\n            </div>\n            <div className=\"line\">\n              <p className=\"order-title-row\">Địa chỉ: </p>\n              <p className=\"order-line-value\">{getAddress(data)}</p>\n            </div>\n            {data.note && (\n              <div className=\"line\">\n                <p className=\"order-title-row\">Ghi chú: </p>\n                <p className=\"order-line-value\">{data.note}</p>\n              </div>\n            )}\n\n            <div className=\"line\">\n              <p className=\"order-title-row\">Sản phẩm: </p>\n              <div style={{ marginLeft: 40, flex: 1 }}>\n                <table className=\"table table-hover\">\n                  <thead>\n                    <tr>\n                      <th>STT</th>\n                      <th>Tên sản phẩm</th>\n                      <th>Ảnh</th>\n                      <th>Số lượng</th>\n                      <th>Giá</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {dataOrderDetails && dataOrderDetails.length\n                      ? dataOrderDetails.map((item, index) => {\n                          return (\n                            <tr key={index}>\n                              <th scope=\"row\">{index + 1}</th>\n                              <td>{item.nameProduct}</td>\n                              <td>\n                                <div\n                                  style={{\n                                    width: 60,\n                                    overflow: \"hidden\",\n                                  }}\n                                >\n                                  <img\n                                    src={\n                                      item.product\n                                        ? item.product?.image\n                                        : item.imageProduct\n                                    }\n                                    alt=\"not found\"\n                                    style={{\n                                      height: \"100%\",\n                                      width: \"100%\",\n                                      objectFit: \"contain\",\n                                    }}\n                                  />\n                                </div>\n                              </td>\n                              <td>{item.quantity || 0}</td>\n\n                              <td>\n                                {formatNumber.format(\n                                  item.quantity * item.price\n                                )}\n                              </td>\n                            </tr>\n                          );\n                        })\n                      : null}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n            <div className=\"line\">\n              <div className=\"line\">\n                <p className=\"order-title-row\">Tổng tiền sản phẩm: </p>\n                <p className=\"order-line-value\">\n                  {formatNumber.format(data?.itemAmount || 0)}\n                </p>\n              </div>\n              <div className=\"line\" style={{ marginLeft: 40 }}>\n                <p className=\"order-title-row\">Phí vận chuyển: </p>\n                <p className=\"order-line-value\">\n                  {formatNumber.format(data?.shippingTotal || 0)}\n                </p>\n              </div>\n            </div>\n            <div className=\"line\">\n              <div className=\"line\">\n                <p className=\"order-title-row\">Tổng giảm giá: </p>\n                <p className=\"order-line-value\">\n                  {formatNumber.format(data?.promoTotal || 0)}\n                </p>\n              </div>\n              <div className=\"line\" style={{ marginLeft: 40 }}>\n                <p className=\"order-title-row\">Tổng tiền: </p>\n                <p className=\"order-line-value\">\n                  {formatNumber.format(data?.totalAmount || 0)}\n                </p>\n              </div>\n            </div>\n            <div className=\"line\">\n              <p className=\"order-title-row\">Trạng thái: </p>\n              <p\n                className=\"order-line-value\"\n                style={{\n                  color: data?.status ? StatusOrders[data.status].color : \"\",\n                  backgroundColor: \"#74dbef\",\n                  padding: \"0px 5px\",\n                }}\n              >\n                {data?.status ? StatusOrders[data.status].text : \"\"}\n              </p>\n            </div>\n            <div className=\"line\">\n              <p className=\"order-title-row\">Phương thức thanh toán: </p>\n              <p className=\"order-line-value\">\n                {data?.paymentMethod ? PaymentMethods[data.paymentMethod] : \"\"}\n              </p>\n            </div>\n            <div className=\"line\">\n              <img\n                src={`/images/${data?.isPaid ? \"ic-paid\" : \"ic-unpaid\"}.png`}\n                alt=\"ic-paid\"\n                style={{ width: 150 }}\n              />\n            </div>\n            <div className=\"line\" style={{ justifyContent: \"center\" }}>\n              <Button\n                type=\"primary\"\n                danger\n                disabled={data.status !== \"Unconfirm\"}\n                onClick={handleCancelOrder}\n              >\n                Hủy đơn hàng\n              </Button>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default OrderHistoryPage;\n","import React from \"react\";\r\nimport PaymentFailure from \"./components/PaymentStatus/PaymentFailure\";\r\nimport PaymentStatus from \"./components/PaymentStatus/PaymentStatus\";\r\nimport PaymentSuccess from \"./components/PaymentStatus/PaymentSuccess\";\r\nimport AboutPage from \"./pages/AboutPage\";\r\nimport AfterCheckoutPage from \"./pages/AfterCheckoutPage\";\r\nimport CheckOutPage from \"./pages/CheckOutPage\";\r\nimport ContactPage from \"./pages/ContactPage\";\r\nimport ForgotPassword from \"./pages/ForgotPasswordPage\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport LoginRegisterPage from \"./pages/LoginRegisterPage\";\r\nimport NotFoundPage from \"./pages/NotFoundPage\";\r\nimport ProductDetailPage from \"./pages/ProductDetailPage\";\r\nimport ProductFavoritePage from \"./pages/ProductFavoritePage\";\r\nimport ProductPage from \"./pages/ProductPage\";\r\nimport ProductSearchPage from \"./pages/ProductSerachPage\";\r\nimport ProfilePage from \"./pages/ProfilePage\";\r\nimport RegisterPage from \"./pages/RegisterPage\";\r\nimport ShopCategoryPage from \"./pages/ShopCategoryPage\";\r\nimport ShoppingCartPage from \"./pages/ShoppingCartPage\";\r\nimport OrderHistoryPage from \"./pages/OrderHistoryPage\";\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    exact: true,\r\n    main: (match) => <HomePage match={match} />,\r\n  },\r\n  {\r\n    path: \"/payment-status\",\r\n    exact: true,\r\n    main: (match) => <PaymentStatus match={match} />,\r\n  },\r\n  {\r\n    path: \"/payment-success\",\r\n    exact: true,\r\n    main: (match) => <PaymentSuccess match={match} />,\r\n  },\r\n  {\r\n    path: \"/payment-failure\",\r\n    exact: true,\r\n    main: (match) => <PaymentFailure match={match} />,\r\n  },\r\n  {\r\n    path: \"/products\",\r\n    exact: true,\r\n    main: (match) => <ProductPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/products/search\",\r\n    exact: true,\r\n    main: (match) => <ProductSearchPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/products/:id\",\r\n    exact: true,\r\n    main: (match) => <ProductDetailPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/orders/history/:id\",\r\n    exact: true,\r\n    main: (match) => <OrderHistoryPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/login-register\",\r\n    exact: false,\r\n    main: (match) => <LoginRegisterPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/register\",\r\n    exact: false,\r\n    main: (match) => <RegisterPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/forgot-password\",\r\n    exact: false,\r\n    main: (match) => <ForgotPassword match={match} />,\r\n  },\r\n  {\r\n    path: \"/cart\",\r\n    exact: false,\r\n    main: (match) => <ShoppingCartPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/checkout\",\r\n    exact: false,\r\n    main: (match) => <CheckOutPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/after-checkout\",\r\n    exact: false,\r\n    main: (match) => <AfterCheckoutPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/categories/:id\",\r\n    exact: false,\r\n    main: (match) => <ShopCategoryPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/contact\",\r\n    exact: false,\r\n    main: (match) => <ContactPage match={match} />,\r\n  },\r\n  {\r\n    path: \"/about\",\r\n    exact: false,\r\n    main: (match) => <AboutPage match={match} />,\r\n  },\r\n  // {\r\n  //   path: \"/blogs\",\r\n  //   exact: false,\r\n  //   main: (match) => <BlogPage match={match} />,\r\n  // },\r\n  // {\r\n  //   path: \"/sales\",\r\n  //   exact: false,\r\n  //   main: (match) => <SalePage match={match} />,\r\n  // },\r\n  {\r\n    path: \"/profile\",\r\n    exact: false,\r\n    main: (match) => <ProfilePage match={match} />,\r\n  },\r\n  {\r\n    path: \"/product-favorites\",\r\n    exact: false,\r\n    main: (match) => <ProductFavoritePage match={match} />,\r\n  },\r\n  {\r\n    path: \"\",\r\n    exact: true,\r\n    main: (match) => <NotFoundPage match={match} />,\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import React, { useCallback, useEffect, useRef } from \"react\";\nimport { Menu as MenuAntd } from \"antd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actFetchCategoryTreeRequest } from \"../../redux/actions/category\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom\";\nimport { doneLoading, startLoading } from \"../../utils/loading\";\nimport { actGetProductOfCategoryRequest } from \"../../redux/actions/products\";\nimport { actFetchProducersRequest } from \"../../redux/actions/producer\";\n\nfunction Menu({ hiddenMenu }) {\n  const history = useHistory();\n  const categories = useSelector((state) => state.categories || []);\n  const dispatch = useDispatch();\n  const mapCategories = useCallback((categories) => {\n    return categories.map((category) => {\n      const children = category.children\n        ? mapCategories(category.children)\n        : [];\n      const hasChildren = !!children.length;\n      const newCategory = {\n        key: category.id,\n        label: category.nameCategory,\n        ...(hasChildren && { children, type: \"Submenu\" }),\n      };\n      return newCategory;\n    });\n  }, []);\n\n  const mapDateCategories = mapCategories(categories);\n  const menuRef = useRef();\n\n  const onClick = (e) => {\n    history.push(`/categories/${e.key}`);\n    getIdCategory(e.key);\n    hiddenMenu && hiddenMenu();\n  };\n\n  const getIdCategory = async (id) => {\n    startLoading();\n    await Promise.all([\n      dispatch(actGetProductOfCategoryRequest(id)),\n      dispatch(actFetchProducersRequest(id)),\n    ]);\n\n    doneLoading();\n  };\n\n  useEffect(() => {\n    dispatch(actFetchCategoryTreeRequest());\n  }, [dispatch]);\n\n  const watchClick = useCallback((e) => {\n    if (!menuRef.current?.contains(e.target)) {\n      hiddenMenu && hiddenMenu();\n    }\n  }, [hiddenMenu])\n\n  useEffect(() => {\n    document.addEventListener(\"click\", watchClick);\n\n    return () => document.removeEventListener(\"click\", watchClick)\n  }, [hiddenMenu, watchClick]);\n\n  return (\n    <div className=\"menu-container\" ref={menuRef}Í>\n      <MenuAntd\n        onClick={onClick}\n        style={{ width: 256 }}\n        mode=\"vertical\"\n        items={mapDateCategories}\n        sub\n        \n      />\n    </div>\n  );\n}\n\nexport default Menu;\n","import React, { useState, useEffect, useRef, useMemo } from \"react\";\nimport { db } from \"../../firebase\";\nimport \"./index.css\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport callApi from \"../../utils/apiCaller\";\n\nexport const CHAT_CLIENT_ID_KEY = \"CHAT_CLIENT_ID_KEY\";\n\nfunction ChatPopup() {\n  const [messages, setMessages] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const chatContainerRef = useRef(null);\n  const [clientId, setClientId] = useState(\"\");\n  const [unread, setUnread] = useState(false);\n\n  useEffect(() => {\n    const clId = localStorage.getItem(CHAT_CLIENT_ID_KEY);\n    const getKey = async () => {\n      const token = localStorage.getItem(\"_auth\");\n      let userId = \"\";\n      if (token) {\n        const resData = await callApi(\"users/me\", \"GET\", null, token);\n        userId = resData?.data?.results?.[0]?.id || \"\";\n      }\n      if (userId) {\n        if (clId && clId.startsWith(\"userId-\")) {\n          const oldUserId = clId.replace(\"userId-\", \"\");\n          if (oldUserId === userId.toString()) {\n            setClientId(clId);\n            return;\n          }\n        }\n        const newClId = `userId-${userId}`;\n        localStorage.setItem(CHAT_CLIENT_ID_KEY, newClId);\n        setClientId(newClId);\n      } else {\n        if (clId && clId.startsWith(\"client-\")) {\n          setClientId(clId);\n          return;\n        }\n        const newClId = `client-${Date.now()}`;\n        localStorage.setItem(CHAT_CLIENT_ID_KEY, newClId);\n        setClientId(newClId);\n      }\n    };\n\n    getKey();\n  }, []);\n\n  const messagesRef = useMemo(() => {\n    const conversationId = `${clientId}`;\n    return db.ref(`conversations/${conversationId}`);\n  }, [clientId]);\n\n  // Lấy tin nhắn từ Firebase\n  useEffect(() => {\n    messagesRef.on(\"value\", (snapshot) => {\n      const dataConv = snapshot.val();\n      const data = dataConv?.messages;\n      let messageArray = data ? Object.values(data) : [];\n      const lastMessage = messageArray.slice(-1)[0];\n      let newUnread = false;\n      if (lastMessage?.sender === \"admin\") {\n        const lastMessageId = Object.keys(data).slice(-1)[0];\n        const lastMessageIdClientRead = dataConv.lastMessageIdClientRead\n        if (lastMessageId !== lastMessageIdClientRead) {\n          if (!isOpen) newUnread = true\n          messagesRef.update({lastMessageIdClientRead: lastMessageId})\n        }\n      }\n\n      messageArray = messageArray.sort((a, b) => {\n        const lastMessageA = a.timestamp\n        const lastMessageB = b.timestamp\n        return lastMessageB - lastMessageA;\n      });\n\n      setMessages(messageArray);\n      setUnread(newUnread)\n    });\n\n    return () => messagesRef.off();\n  }, [isOpen, messagesRef]);\n\n  // Gửi tin nhắn\n  const sendMessage = (msg) => {\n    if (msg.trim()) {\n      db.ref(`conversations/${clientId}/messages`).push({\n        sender: clientId,\n        text: msg,\n        timestamp: Date.now(),\n      });\n    }\n  };\n\n  if (!isOpen) {\n    return (\n      <div className=\"ic-mess-fit\" onClick={() => setIsOpen(!isOpen)}>\n        <img src=\"/images/ic-mess.png\" alt=\"ic-mess\" style={{ width: 50 }} />\n        {unread && (\n          <span\n            style={{\n              backgroundColor: \"red\",\n              width: 10,\n              height: 10,\n              borderRadius: 10,\n              position: \"fixed\",\n              right: 15,\n            }}\n          ></span>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"chat-popup\">\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          marginBottom: 4,\n        }}\n      >\n        <span></span>\n        <span style={{ fontSize: 16, fontWeight: 500 }}>Trò chuyện</span>\n        <CloseOutlined\n          style={{ cursor: \"pointer\" }}\n          onClick={() => setIsOpen(!isOpen)}\n        />\n      </div>\n      <div\n        // className=\"chat-messages\"\n        ref={chatContainerRef}\n        style={{\n          height: \"300px\", // Chiều cao khung chat\n          overflowY: \"scroll\",\n          display: \"flex\",\n          flexDirection: \"column-reverse\", // Để hiển thị tin nhắn mới nhất lên đầu\n          padding: \"0px 5px\",\n        }}\n      >\n        {messages.map((msg, index) => (\n          <div\n            key={index}\n            style={\n              msg.sender === clientId\n                ? { display: \"flex\", justifyContent: \"flex-end\" }\n                : {}\n            }\n          >\n            <strong>{msg.sender === clientId ? \"Bạn\" : msg.sender}:&nbsp;</strong>\n            {msg.text}\n          </div>\n        ))}\n      </div>\n\n      <NewMessage onSendMessage={sendMessage} />\n    </div>\n  );\n}\n\nconst NewMessage = ({ onSendMessage }) => {\n  const [newMessage, setNewMessage] = useState(\"\");\n  const handleKeyDown = (event) => {\n    if (event.key === \"Enter\") {\n      if (newMessage.trim() !== \"\") {\n        onSendMessage && onSendMessage(newMessage);\n        setNewMessage(\"\");\n      }\n    }\n  };\n  return (\n    <div style={{ marginTop: 10 }}>\n      <input\n        type=\"text\"\n        value={newMessage}\n        onChange={(e) => setNewMessage(e.target.value)}\n        style={{ flex: 1, borderRadius: 5, width: \"calc(100% - 60px)\" }}\n        onKeyDown={handleKeyDown}\n        placeholder=\"Nhập tin nhắn\"\n      />\n      <button\n        onClick={() => {\n          if (newMessage) {\n            onSendMessage && onSendMessage(newMessage);\n            setNewMessage(\"\");\n          }\n        }}\n        className=\"btn-send-message\"\n      >\n        Gửi\n      </button>\n    </div>\n  );\n};\n\nexport default ChatPopup;\n","import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { startLoading, doneLoading } from \"../../utils/loading\";\r\nimport { actSearchProductsRequest } from \"../../redux/actions/products\";\r\nimport { toast } from \"react-toastify\";\r\nimport { actFetchFavoritesRequest } from \"../../redux/actions/rating\";\r\nimport { Avatar, Dropdown, Menu as AntdMenu, notification } from \"antd\";\r\nimport { MenuOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport { actTokenRequest } from \"../../redux/actions/auth\";\r\nimport Menu from \"./Menu\";\r\nimport callApi from \"../../utils/apiCaller\";\r\nimport { CHAT_CLIENT_ID_KEY } from \"../ChatPopup/ChatPopup\";\r\nlet token;\r\nclass HeaderMiddle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      textSearch: \"\",\r\n      showMenu: false,\r\n      notifications: [],\r\n      countNotification: 0,\r\n      avatar: \"\",\r\n    };\r\n    this.prevKeywordSearch = \"\";\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getNotiData();\r\n  }\r\n\r\n  async getNotiData() {\r\n    try {\r\n      token = localStorage.getItem(\"_auth\");\r\n      if (token) {\r\n        const resData = await callApi(\"users/me\", \"GET\", null, token);\r\n        const userId = resData?.data?.results?.[0]?.id;\r\n        const avatar = resData?.data?.results?.[0]?.avatar || \"\";\r\n        this.setState({\r\n          avatar,\r\n        });\r\n        if (userId) {\r\n          const notiData = await callApi(\r\n            `notifications?userId=${userId}`,\r\n            \"GET\",\r\n            null,\r\n            token\r\n          );\r\n          const notiCountData = await callApi(\r\n            `notifications/count?userId=${userId}`,\r\n            \"GET\",\r\n            null,\r\n            token\r\n          );\r\n          this.setState({\r\n            notifications: notiData.data?.notifications || [],\r\n            countNotification: notiCountData.data?.quantity?.count || 0,\r\n          });\r\n        }\r\n        this.handleChangeUserId(userId || \"\");\r\n      } else {\r\n        this.handleChangeUserId(\"\");\r\n      }\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n  }\r\n\r\n  handleChangeUserId(userId) {\r\n    \r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    const keywordSearch = queryParams.get(\"q\");\r\n    if (this.prevKeywordSearch !== keywordSearch) {\r\n      this.prevKeywordSearch = keywordSearch;\r\n      this.setState({ textSearch: keywordSearch || \"\" });\r\n    }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const name = event.target.name;\r\n    const value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleClickMenu = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      showMenu: !this.state.showMenu,\r\n    });\r\n  };\r\n\r\n  handleClick = () => {\r\n    const { textSearch } = this.state;\r\n    if (textSearch === \"\" || textSearch === null) {\r\n      return toast.error(\"Vui lòng nhập ký tự tìm kiếm ...\");\r\n    }\r\n    startLoading();\r\n    // this.props.searchProduct(textSearch);\r\n    this.setState({\r\n      textSearch: null,\r\n    });\r\n    doneLoading();\r\n  };\r\n\r\n  loadingPage = () => {\r\n    startLoading();\r\n    doneLoading();\r\n  };\r\n\r\n  handleFetchFavorites = () => {\r\n    if (!token) {\r\n      return toast.error(\r\n        \"Vui lòng đăng nhập trước khi xem danh sách yêu thích\"\r\n      );\r\n    } else {\r\n      this.props.fetch_productFavorites(token);\r\n    }\r\n  };\r\n\r\n  logOut = async () => {\r\n    localStorage.removeItem(\"_auth\");\r\n    const token = null;\r\n    startLoading();\r\n    await this.props.setTokenRedux(token);\r\n    doneLoading();\r\n    window.location.href = '/'\r\n  };\r\n\r\n  async onClickItemNotification(item) {\r\n    if (item.viewed) {\r\n      return;\r\n    }\r\n    try {\r\n      token = localStorage.getItem(\"_auth\");\r\n      const resData = await callApi(\"users/me\", \"GET\", null, token);\r\n      const userId = resData?.data?.results?.[0]?.id;\r\n      if (userId) {\r\n        const notiData = await callApi(\r\n          `notifications`,\r\n          \"PUT\",\r\n          {\r\n            userId: `${userId}`,\r\n            notificationIds: [`${item.id}`],\r\n          },\r\n          token\r\n        );\r\n        if (notiData.status === 200) {\r\n          this.getNotiData();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { textSearch, avatar } = this.state;\r\n    const { countCart, user } = this.props;\r\n    const count = countCart?.length > 0 ? countCart?.length : 0;\r\n\r\n    const items = !user\r\n      ? [\r\n          {\r\n            key: \"1\",\r\n            label: <Link to=\"/login-register\">Đăng nhập</Link>,\r\n          },\r\n        ]\r\n      : [\r\n          {\r\n            key: \"2\",\r\n            label: <Link to=\"/profile\">Thông tin cá nhân</Link>,\r\n          },\r\n          {\r\n            key: \"3\",\r\n            label: (\r\n              <Link onClick={this.logOut} to=\"#\">\r\n                Đăng xuất\r\n              </Link>\r\n            ),\r\n          },\r\n        ];\r\n\r\n    const { notifications, countNotification } = this.state;\r\n\r\n    const customMenuItemStyle = {\r\n      padding: \"0px 0px\",\r\n      marginTop: 10,\r\n    };\r\n\r\n    const menu = (\r\n      <AntdMenu>\r\n        {notifications.length ? (\r\n          <>\r\n            {notifications.map((item, index) => (\r\n              <AntdMenu.Item\r\n                key={`noti-key-${index}`}\r\n                style={customMenuItemStyle}\r\n                onClick={() => this.onClickItemNotification(item)}\r\n              >\r\n                <div\r\n                  style={{\r\n                    width: 300,\r\n                    border: \"1px solid #ccc\",\r\n                    padding: \"0px 10px\",\r\n                    borderRadius: 5,\r\n                    ...(!item.viewed && {\r\n                      backgroundColor: \"#f0f0f0\",\r\n                      borderColor: \"#f0f0f0\",\r\n                    }),\r\n                  }}\r\n                >\r\n                  <p>{item.title}</p>\r\n                  <p>{item.description}</p>\r\n                </div>\r\n              </AntdMenu.Item>\r\n            ))}\r\n          </>\r\n        ) : (\r\n          <AntdMenu.Item key=\"1\" style={customMenuItemStyle}>\r\n            <div style={{ padding: \"0px 10px\" }}>\r\n              <p>{\"Không có thông báo\"}</p>\r\n            </div>\r\n          </AntdMenu.Item>\r\n        )}\r\n      </AntdMenu>\r\n    );\r\n\r\n    return (\r\n      <div className=\"header-middle pl-sm-0 pr-sm-0 pl-xs-0 pr-xs-0\">\r\n        <div className=\"container\">\r\n          <div className=\"row row-header\">\r\n            <div className=\"col-lg-3 row-header-left\">\r\n              <div className=\"logo pb-sm-30 pb-xs-30\">\r\n                <Link onClick={() => this.loadingPage()} to=\"/\">\r\n                  <img\r\n                    src=\"/images/logo.png\"\r\n                    alt=\"\"\r\n                    style={{ width: \"80px\", height: \"80px\" }} // Updated width and height\r\n                  />\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-lg-9 pl-0 ml-sm-15 ml-xs-15\">\r\n              <form className=\"hm-searchbox\">\r\n                <input\r\n                  name=\"textSearch\"\r\n                  value={textSearch}\r\n                  type=\"text\"\r\n                  onChange={this.handleChange}\r\n                  placeholder=\"Nhập từ khoá ...\"\r\n                />\r\n                <Link\r\n                  onClick={this.handleClick}\r\n                  to={`/products/search?q=${this.state.textSearch}`}\r\n                >\r\n                  <button className=\"li-btn\" type=\"submit\">\r\n                    <i className=\"fa fa-search\" />\r\n                  </button>\r\n                </Link>\r\n              </form>\r\n              <div className=\"header-middle-right\">\r\n                <ul className=\"hm-menu\">\r\n                  <li className=\"hm-wishlist\">\r\n                    <Dropdown\r\n                      // menu={itemsNotification}\r\n                      trigger={[\"click\"]}\r\n                      placement=\"bottomRight\"\r\n                      overlay={menu}\r\n                    >\r\n                      <a>\r\n                        <span className=\"cart-item-count wishlist-item-count\">\r\n                          {countNotification}\r\n                        </span>\r\n                        <i className=\"fa fa-bell-o ic-bell\" />\r\n                      </a>\r\n                    </Dropdown>\r\n                  </li>\r\n                  <li className=\"hm-minicart\">\r\n                    <Link to=\"/cart\">\r\n                      <div className=\"hm-minicart-trigger\">\r\n                        <span className=\"item-icon\" />\r\n                        <span className=\"item-text\">\r\n                          <span className=\"cart-item-count\">\r\n                            {count ? count : 0}\r\n                          </span>\r\n                        </span>\r\n                      </div>\r\n                    </Link>\r\n                    <span />\r\n                  </li>\r\n                  <li className=\"profile-button\">\r\n                    <Dropdown menu={{ items }} trigger={[\"click\"]}>\r\n                      <Avatar size={45} src={avatar} icon={<UserOutlined />} />\r\n                    </Dropdown>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    countCart: state.cart,\r\n    user: state.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    searchProduct: (q) => {\r\n      dispatch(actSearchProductsRequest(q));\r\n    },\r\n    fetch_productFavorites: (token) => {\r\n      dispatch(actFetchFavoritesRequest(token));\r\n    },\r\n    setTokenRedux: (token) => {\r\n      dispatch(actTokenRequest(token));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderMiddle);\r\n","import React, { Component } from 'react'\r\n\r\nexport default class HeaderMobile extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"mobile-menu-area d-lg-none d-xl-none col-12\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"mobile-menu\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport HeaderMiddle from './HeaderMiddle'\r\nimport HeaderMobile from './HeaderMobile'\r\nimport './style.css'\r\n\r\nexport default class Header extends Component {\r\n  render() {\r\n    return (\r\n      <header>\r\n        {/* Begin Header Top Area */}\r\n        {/* <HeaderTop></HeaderTop> */}\r\n        {/* End Header Top Area */}\r\n\r\n        {/* Begin Header Middle Area */}\r\n        <HeaderMiddle></HeaderMiddle>\r\n        {/* End Header Middle Area */}\r\n\r\n        {/* Begin Header Bottom Menu Area */}\r\n        {/* <HeaderBottom></HeaderBottom> */}\r\n        {/* End Header Bottom Menu Area */}\r\n\r\n        {/* Begin Header Mobile Menu Area */}\r\n        <HeaderMobile></HeaderMobile>\r\n        {/* End Header Mobile Menu Area */}\r\n\r\n      </header>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom\";\r\n\r\nexport default class FooterMiddle extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"footer-static-middle\">\r\n        <div className=\"container\">\r\n          <div className=\"footer-logo-wrap pt-50 pb-35\">\r\n            <div className=\"row\">\r\n              {/* Begin Footer Logo Area */}\r\n              <div className=\"col-lg-4 col-md-6\">\r\n                <div className=\"footer-logo\">\r\n                  <img\r\n                    src=\"/images/logo.png\"\r\n                    alt=\"Footer Logo\"\r\n                    style={{ width: 150, height: 150 }}\r\n                  />\r\n                  <p className=\"info\">\r\n                    Stone Shop là hệ thống phân phối mỹ phẩm chính hãng uy tín\r\n                    và dịch vụ chăm sóc khách hàng tận tâm. Đến với Stone Shop\r\n                    bạn có thể hoàn toàn yên tâm khi lựa chọn cho mình những bộ\r\n                    sản phẩm phù hợp và ưng ý từ các nhãn hàng nổi tiếng trên\r\n                    toàn thế giới.\r\n                  </p>\r\n                </div>\r\n                <ul className=\"des\">\r\n                  <li>\r\n                    <span>Địa chỉ: </span>Số 80 Phố Chùa Bộc, Phường Quang Trung,\r\n                    Quận Đống Đa, Thành phố Hà Nội, Việt Nam\r\n                  </li>\r\n                  <li>\r\n                    <span>Phone: </span>\r\n                    <a href=\"/\">(+84) 868 299 812</a>\r\n                  </li>\r\n                  <li>\r\n                    <span>Email: </span>\r\n                    <a href=\"stoneshop@gmail.com\">stoneshop@gmail.com</a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              {/* Footer Logo Area End Here */}\r\n              {/* Begin Footer Block Area */}\r\n              <div className=\"col-lg-2 col-md-3 col-sm-6\">\r\n                <div className=\"footer-block\">\r\n                  <h3 className=\"footer-block-title\">Sản phẩm</h3>\r\n                  <ul>\r\n                    <li>\r\n                      <Link to=\"/products\">Sản phẩm mới ra mắt</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"/products\">Sản phẩm mới</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"/products\">Bán chạy nhất</Link>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              {/* Footer Block Area End Here */}\r\n              {/* Begin Footer Block Area */}\r\n              <div className=\"col-lg-2 col-md-3 col-sm-6\">\r\n                <div className=\"footer-block\">\r\n                  <h3 className=\"footer-block-title\">Cửa hàng của chúng tôi</h3>\r\n                  <ul>\r\n                    <li>\r\n                      <Link to=\"/\">Vận chuyển</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"/\">Thông báo pháp lý</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"/about\">Về chúng tôi</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"/contact\">Liên hệ với chúng tôi</Link>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              {/* Footer Block Area End Here */}\r\n              {/* Begin Footer Block Area */}\r\n              <div className=\"col-lg-4\">\r\n                <div className=\"footer-block\">\r\n                  <h3 className=\"footer-block-title\">Theo dõi chúng tôi tại</h3>\r\n                  <ul className=\"social-link\">\r\n                    <li className=\"twitter\">\r\n                      <a\r\n                        href=\"https://twitter.com/\"\r\n                        data-toggle=\"tooltip\"\r\n                        title=\"Twitter\"\r\n                      >\r\n                        <i className=\"fa fa-twitter\" />\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"rss\">\r\n                      <a\r\n                        href=\"https://rss.com/\"\r\n                        data-toggle=\"tooltip\"\r\n                        title=\"RSS\"\r\n                      >\r\n                        <i className=\"fa fa-rss\" />\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"google-plus\">\r\n                      <a\r\n                        href=\"https://www.plus.google.com/discover\"\r\n                        data-toggle=\"tooltip\"\r\n                        title=\"Google Plus\"\r\n                      >\r\n                        <i className=\"fa fa-google-plus\" />\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"facebook\">\r\n                      <a\r\n                        href=\"https://www.facebook.com/\"\r\n                        data-toggle=\"tooltip\"\r\n                        title=\"Facebook\"\r\n                      >\r\n                        <i className=\"fa fa-facebook\" />\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"youtube\">\r\n                      <a\r\n                        href=\"https://www.youtube.com/\"\r\n                        data-toggle=\"tooltip\"\r\n                        title=\"Youtube\"\r\n                      >\r\n                        <i className=\"fa fa-youtube\" />\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"instagram\">\r\n                      <a\r\n                        href=\"https://www.instagram.com/\"\r\n                        data-toggle=\"tooltip\"\r\n                        title=\"Instagram\"\r\n                      >\r\n                        <i className=\"fa fa-instagram\" />\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                {/* Begin Footer Newsletter Area */}\r\n                {/**\r\n                 *  <div className=\"footer-newsletter\">\r\n                  <h4>Sign up to newsletter</h4>\r\n                  <form action=\"/\" method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\" className=\"footer-subscribe-form validate\" noValidate>\r\n                    <div id=\"mc_embed_signup_scroll\">\r\n                      <div id=\"mc-form\" className=\"mc-form subscribe-form form-group\">\r\n                        <input id=\"mc-email\" type=\"email\" autoComplete=\"off\" placeholder=\"Enter your email\" />\r\n                        <button className=\"btn\" id=\"mc-submit\">Subscribe</button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n                 */}\r\n\r\n                {/* Footer Newsletter Area End Here */}\r\n              </div>\r\n              {/* Footer Block Area End Here */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n// import FooterTop from './FooterTop'\r\nimport FooterMiddle from './FooterMiddle'\r\n\r\nexport default class Footer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"footer\">\r\n        {/* Begin Footer Static Top Area */}\r\n        {/**   <FooterTop></FooterTop> */}\r\n      \r\n        {/* Footer Static Top Area End Here */}\r\n\r\n        {/* Begin Footer Static Middle Area */}\r\n        <FooterMiddle></FooterMiddle>\r\n        {/* Footer Static Middle Area End Here */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport routes from \"./routes\";\r\nimport { Switch, Route, BrowserRouter as Router } from \"react-router-dom\";\r\nimport Header from \"./components/Header/Header\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport { actFetchCartRequest } from \"./redux/actions/cart\";\r\nimport { connect } from \"react-redux\";\r\nimport { actTokenRequest } from \"./redux/actions/auth\";\r\nimport Social from \"./components/Social/Social\";\r\nimport { actFetchFavoritesRequest } from \"./redux/actions/rating\";\r\nimport { css } from \"@emotion/core\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport { actShowLoading } from \"./redux/actions/loading\";\r\nimport \"./style.css\";\r\nimport ChatPopup from \"./components/ChatPopup/ChatPopup\";\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n  position: fixed;\r\n  top: 40%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 9999;\r\n`;\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    const token = localStorage.getItem(\"_auth\");\r\n    this.props.add_token_redux(token);\r\n    let isCart = false;\r\n    this.props.fetch_cart();\r\n    if (token) {\r\n      this.props.fetch_favorite(token);\r\n    }\r\n\r\n    if (localStorage.length === 0) {\r\n      localStorage.setItem(\"_cart\", JSON.stringify([]));\r\n    }\r\n    for (let i = 0; i < localStorage.length; i++) {\r\n      if (localStorage.key(i) === \"_cart\") {\r\n        isCart = true;\r\n      }\r\n    }\r\n    if (!isCart) {\r\n      localStorage.setItem(\"_cart\", JSON.stringify([]));\r\n    }\r\n  }\r\n  render() {\r\n    const { loading } = this.props;\r\n    return (\r\n      <Router>\r\n        {!loading ? (\r\n          <div>\r\n            <div className=\"sweet-loading\">\r\n              <ClipLoader\r\n                css={override}\r\n                sizeUnit={\"px\"}\r\n                size={35}\r\n                color={\"#796aeebd\"}\r\n                loading={loading}\r\n              />\r\n            </div>\r\n            {/* <Social></Social> */}\r\n            <Header></Header>\r\n            <div className=\"page-container\">\r\n              {this.showContentMenus(routes)}\r\n            </div>\r\n            <ChatPopup />\r\n            <Footer></Footer>\r\n          </div>\r\n        ) : (\r\n          <div className=\"hidden-loading\">\r\n            <div className=\"sweet-loading\">\r\n              <ClipLoader\r\n                css={override}\r\n                sizeUnit={\"px\"}\r\n                size={35}\r\n                color={\"#796aeebd\"}\r\n                loading={loading}\r\n              />\r\n            </div>\r\n            {/* <Social></Social> */}\r\n            <Header></Header>\r\n            <div className=\"page-container\">\r\n              {this.showContentMenus(routes)}\r\n            </div>\r\n            <Footer></Footer>\r\n          </div>\r\n        )}\r\n      </Router>\r\n    );\r\n  }\r\n  showContentMenus = (routes) => {\r\n    let result = null;\r\n    if (routes.length > 0) {\r\n      result = routes.map((route, index) => {\r\n        return (\r\n          // <div className=\"page-container\" key={index}>\r\n          <Route\r\n            key={index}\r\n            path={route.path}\r\n            exact={route.exact}\r\n            component={route.main}\r\n          />\r\n          // </div>\r\n        );\r\n      });\r\n    }\r\n    return <Switch>{result}</Switch>;\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.loading,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetch_cart: () => {\r\n      dispatch(actFetchCartRequest());\r\n    },\r\n    fetch_favorite: (token) => {\r\n      dispatch(actFetchFavoritesRequest(token));\r\n    },\r\n    add_token_redux: (token) => {\r\n      dispatch(actTokenRequest(token));\r\n    },\r\n    statusLoading: () => {\r\n      dispatch(actShowLoading());\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './style.css'\r\n\r\nexport default class Social extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"fix-div-social\">\r\n        <ul className=\"fix-social social-link\"> \r\n        <li className=\"twitter\">\r\n          <Link to=\"https://twitter.com/\" data-toggle=\"tooltip\" title=\"Twitter\">\r\n            <i className=\"fa fa-twitter\" />\r\n          </Link>\r\n        </li>\r\n        <li className=\"google-plus\">\r\n          <Link to=\"https://www.plus.google.com/discover\" data-toggle=\"tooltip\" title=\"Google Plus\">\r\n            <i className=\"fa fa-google-plus\" />\r\n          </Link>\r\n        </li>\r\n        <li className=\"facebook\">\r\n          <Link to=\"https://www.facebook.com/\" data-toggle=\"tooltip\" title=\"Facebook\">\r\n            <i className=\"fa fa-facebook\" />\r\n          </Link>\r\n        </li>\r\n        <li className=\"youtube\">\r\n          <Link to=\"https://www.youtube.com/\" data-toggle=\"tooltip\" title=\"Youtube\">\r\n            <i className=\"fa fa-youtube\" />\r\n          </Link>\r\n        </li>\r\n        <li className=\"instagram\">\r\n          <Link to=\"https://www.instagram.com/\" data-toggle=\"tooltip\" title=\"Instagram\">\r\n            <i className=\"fa fa-instagram\" />\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n      </div>\r\n      \r\n    )\r\n  }\r\n}\r\n","import * as Types from './../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst products = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.FETCH_PRODUCTS:\r\n            state = action.products;\r\n            return [...state];\r\n        case Types.SEARCH_PRODUCTS:\r\n            state = action.products;\r\n            return [...state];\r\n        case Types.FETCH_CATEGORIES_PRODUCT:\r\n            state = action.products;\r\n            return [...state];\r\n        default: return [...state];\r\n    }\r\n};\r\n\r\nexport default products;","import * as Types from \"./../../constants/ActionType\";\r\nlet initialState = [];\r\n\r\nconst categories = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Types.FETCH_CATEGORIES:\r\n      state = action.categories;\r\n      return [...state];\r\n    case Types.FETCH_CATEGORY_TREE:\r\n      state = action.categories;\r\n      return [...state];\r\n    default:\r\n      return [...state];\r\n  }\r\n};\r\n\r\nexport default categories;\r\n","import * as Types from './../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst product = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.FETCH_PRODUCT:\r\n            state = action.product;\r\n            return  {...state};\r\n        default: return {...state};\r\n    }\r\n};\r\n\r\nexport default product;","import * as Types from './../../constants/ActionType';\r\nlet initialState = [];\r\nlet index = -1;\r\n\r\nconst findIndexs = (id, state) => {\r\n    index = state.findIndex(e => e.id === id)\r\n    return index;\r\n}\r\nconst products = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.FETCH_CART:\r\n            state = action.items;\r\n            return [...state];\r\n        case Types.ADD_CART:\r\n            state.push(action.item);\r\n            return [...state];\r\n        case Types.UPDATE_CART:\r\n            index = findIndexs(action.item.id, state);\r\n            state[index] = { ...action.item };\r\n            return [...state];\r\n        case Types.REMOVE_CART:\r\n            index = findIndexs(action.item.id, state);\r\n            state.splice(index, 1);\r\n            return [...state];\r\n        case Types.CLEAR_CART:\r\n            state = [];\r\n            return [...state];\r\n        case Types.UPDATE_NEW_CART: \r\n            return [...action.items]\r\n        default: return [...state];\r\n    }\r\n};\r\n\r\nexport default products;","import * as Types from './../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst user = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.LOGIN:\r\n            state = action.token;\r\n            return state;\r\n        case Types.TOKEN_REDUX:\r\n            state = action.token;\r\n            return state;\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport default user;","import * as Types from '../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst productsNew = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.FETCH_PRODUCTS_NEW:\r\n            state = action.products;\r\n            return [...state];\r\n        default: return [...state];\r\n    }\r\n};\r\n\r\nexport default productsNew;","import * as Types from '../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst productsLaptop = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.FETCH_PRODUCTS_LAPTOP:\r\n            state = action.products;\r\n            return [...state];\r\n        default: return [...state];\r\n    }\r\n};\r\n\r\nexport default productsLaptop;","import * as Types from '../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst productOther = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.FETCH_PRODUCTS_OFFICE:\r\n            state = action.products;\r\n            return [...state];\r\n        default: return [...state];\r\n    }\r\n};\r\n\r\nexport default productOther;","import * as Types from '../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst productOther = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.FETCH_PRODUCTS_OHTER:\r\n            state = action.products;\r\n            return [...state];\r\n        default: return [...state];\r\n    }\r\n};\r\n\r\nexport default productOther;","import * as Types from './../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst productRatings = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Types.FETCH_RATINGS:\r\n      state = action.ratings;\r\n      return [...state];\r\n    case Types.ADD_RATING:\r\n      // state.push(action.rating);\r\n      state.splice(0, 0, action.rating);\r\n      return [...state];\r\n    default: return [...state];\r\n  }\r\n};\r\n\r\nexport default productRatings;","import * as Types from './../../constants/ActionType';\r\nlet initialState = [];\r\nlet index = -1;\r\n\r\nconst findIndexs = (id, state) => {\r\n    index = state.findIndex(e => e.id === id)\r\n    return index;\r\n}\r\nconst favorites = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Types.FETCH_FAVORITES:\r\n      state = action.favorites;\r\n      return [...state];\r\n    case Types.ADD_FAVORITE:\r\n      state.push(action.favorite);\r\n      return [...state];\r\n    case Types.REMOVE_FAVORITE:\r\n      index = findIndexs(action.id, state);\r\n      state.splice(index, 1);\r\n      return [...state];\r\n    default: return [...state];\r\n  }\r\n};\r\n\r\nexport default favorites;","import * as Types from './../../constants/ActionType';\r\nlet initialState = [];\r\n\r\nconst producers = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.FETCH_PRODUCERS:\r\n            state = action.producers;\r\n            return [...state];\r\n        default: return [...state];\r\n    }\r\n};\r\n\r\nexport default producers;","import * as Types from './../../constants/ActionType';\r\nlet initialState = false;\r\n\r\nconst loading = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Types.SHOWLOADING:\r\n      state = action.status;\r\n      return state;\r\n    case Types.HIDDENLOADING:\r\n      state = action.status;\r\n      return state;\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default loading;","\n\nimport * as Types from './../../constants/ActionType';\nlet initialState = {\n    data: {},\n    selectedItems: []\n};\n\nconst cartCalculateItems = (state = initialState, action) => {\n    switch (action.type) {\n        case Types.CALCULATE_CART_ITEMS: \n            return {...state, data: action.data}\n        case Types.SET_SELECTED_ITEMS:\n            return {...state, selectedItems: action.items}\n        case Types.CLEAR_ITEMS_SELECTED:\n            return {data: {}, selectedItems: []}\n        default: return {...state};\n        \n    }\n};\n\nexport default cartCalculateItems;","import * as Types from './../../constants/ActionType';\r\nlet initialState = {\r\n    productByCategory: {\r\n        products: [],\r\n        pagination: {},\r\n    },\r\n    productByKeyword: {\r\n        products: [],\r\n        pagination: {},\r\n    },\r\n    productHot: {\r\n        products: [],\r\n        pagination: {},\r\n    },\r\n    productBestSelling: {\r\n        products: [],\r\n        pagination: {},\r\n    },\r\n    productFeature: {\r\n        products: [],\r\n        pagination: {},\r\n    },\r\n    productSameCategory: {\r\n        products: [],\r\n        pagination: {},\r\n    },\r\n    allProduct: {\r\n        products: [],\r\n        pagination: {},\r\n    },\r\n};\r\n\r\nconst productsV2 = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case Types.SEARCH_PRODUCT_BY_CATEGORY:\r\n            return {...state, productByCategory: action.productByCategory};\r\n        case Types.SEARCH_PRODUCT_BY_KEYWORD:\r\n            return {...state, productByKeyword: action.productByKeyword};\r\n        case Types.SEARCH_PRODUCT_HOT:\r\n            return {...state, productHot: action.productHot};\r\n        case Types.SEARCH_PRODUCT_BEST_SELLING:\r\n            return {...state, productBestSelling: action.productBestSelling};\r\n        case Types.SEARCH_PRODUCT_FEATURE:\r\n            return {...state, productFeature: action.productFeature};\r\n        case Types.SEARCH_PRODUCT_SAME_CATEGORY:\r\n            return {...state, productSameCategory: action.productSameCategory};\r\n        case Types.ALL_PRODUCT:\r\n            return {...state, allProduct: action.allProduct};\r\n        default: return {...state};\r\n    }\r\n};\r\n\r\nexport default productsV2;","import { combineReducers } from 'redux';\r\nimport products from './products';\r\nimport categories from './categories';\r\nimport product from './product';\r\nimport cart from './cart';\r\nimport auth from './auth';\r\nimport productsNew from './productsNew';\r\nimport productsLaptop from './productsLaptop';\r\nimport productsOffice from './productsOffice';\r\nimport productsOther from './productsOther';\r\nimport productRatings from './productRatings';\r\nimport favorites from './favorites';\r\nimport producers from './producers';\r\nimport loading from './loading';\r\nimport cartCalculateItems from './cartCalculateItems';\r\nimport productsV2 from './productsV2';\r\n\r\nconst appReducers = combineReducers({\r\n    products,\r\n    categories,\r\n    product,\r\n    cart,\r\n    auth,\r\n    productsNew,\r\n    productsLaptop,\r\n    productsOffice,\r\n    productsOther,\r\n    productRatings,\r\n    favorites,\r\n    producers,\r\n    loading,\r\n    cartCalculateItems,\r\n    productsV2,\r\n});\r\n\r\nexport default appReducers;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport appReducers from './redux/reducers/index';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'nprogress/nprogress.css'\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { GoogleOAuthProvider } from '@react-oauth/google';\r\n\r\nconst store = createStore(appReducers, composeWithDevTools(\r\n  applyMiddleware(thunk)\r\n));\r\nconst CLIENT_ID = '532996168508-gpclb9gma2oc0eseuv3vfqil8pkcrucl.apps.googleusercontent.com';\r\nReactDOM.render(\r\n  <GoogleOAuthProvider clientId={CLIENT_ID}>\r\n   <Provider store={store}>\r\n    <App />\r\n    <ToastContainer\r\n      position=\"top-right\"\r\n      autoClose={1700}\r\n      pauseOnHover={false}\r\n      pauseOnVisibilityChange={false}\r\n    />\r\n  </Provider>,\r\n</GoogleOAuthProvider>,\r\n \r\n  document.getElementById('root'));\r\n"],"sourceRoot":""}