(this["webpackJsonpecommerce-admin"]=this["webpackJsonpecommerce-admin"]||[]).push([[0],{344:function(e,t,a){e.exports=a(558)},460:function(e,t,a){},463:function(e,t,a){},464:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},550:function(e,t,a){},551:function(e,t,a){},552:function(e,t,a){},553:function(e,t,a){},554:function(e,t,a){},555:function(e,t,a){},556:function(e,t,a){},558:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(51),l=a.n(c),o=a(7),s=a.n(o),i=a(14),u=a(18),m=a(19),d=a(22),h=a(21),f=a(114),p=a(27),E=a(6),v=a(204),g=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),b=a(259),N=a.n(b),y={apiKey:"AIzaSyCoJyG8BUmfeiv51iy4zcT2uyvBkoSGCvY",authDomain:"stoneshop-c41a0.firebaseapp.com",projectId:"stoneshop-c41a0",storageBucket:"stoneshop-c41a0.appspot.com",messagingSenderId:"877620842778",appId:"1:877620842778:web:63574e7f216ebc4a68dca3",measurementId:"G-9WPLGVB14G",databaseURL:"https://stoneshop-c41a0-default-rtdb.asia-southeast1.firebasedatabase.app/"},x={url:"https://api.stoneshop.online/api/v1"}.url,O=a(44),k=a(54),C=a.n(k),T=a(73),D=a.n(T),S=D()(C.a);function w(e){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(s.a.mark((function e(t){var a,n,r,c,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2?l[2]:void 0,r=l.length>3?l[3]:void 0,e.prev=3,void 0===r&&null===r&&""===r){e.next=11;break}return e.next=7,N()({method:a,url:"".concat(x,"/").concat(t),headers:{Authorization:"Bearer ".concat(r)},data:n});case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.next=13,N()({method:a,url:"".concat(x,"/").concat(t),data:n});case 13:return c=e.sent,e.abrupt("return",c);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),e.t0.response&&e.t0.response.data?S.fire({icon:"error",title:"Oops...",text:"".concat(e.t0.response.data.message)}):S.fire({icon:"error",title:"Oops...",text:"Can not connect to server!"});case 20:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}O.b.configure();var I=function(e){return{type:"FETCH_DASHBOARD",data:e}},A=function(e){return{type:"FETCH_DASHBOARD_TOP_SELLING",data:e}},_=function(e){return{type:"FETCH_DASHBOARD_TOP_NOT_SELLING",data:e}},R=a(42);a(370),a(460),a(94);O.b.configure();var G,P=function(e){return{type:"LOGIN",token:e}},H=function(e){return{type:"GET_NAMEROLE",role:e}},L=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(F(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return{type:"TOKEN_REDUX",token:e}},M=a(574),U=a(575),B=a(573),q=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),z=a(80),Y=a.n(z),W=M.a.RangePicker,V=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0,January1:0,February1:0,March1:0,April1:0,May1:0,June1:0,July1:0,August1:0,September1:0,October1:0,November1:0,December1:0,labelsPie:[],dataShowPie:[],timeSelectedTopSelling:"thisYear",timeSelectedTopNotSelling:"thisYear",dates:[Y()().subtract(1,"month"),Y()()]},n.onChangeRangePicker=n.onChangeRangePicker.bind(Object(v.a)(n)),n}return Object(m.a)(a,[{key:"callFetchDashboard",value:function(e){var t,a,n=null===(t=this.state.dates)||void 0===t?void 0:t[0].format("YYYY-MM-DD"),r=null===(a=this.state.dates)||void 0===a?void 0:a[1].format("YYYY-MM-DD");n&&r&&this.props.fetch_dashboard(e,n,r)}},{key:"callFetchDashboardTopSellingRequest",value:function(){(G=localStorage.getItem("_auth"))&&this.props.fetchDashboardTopSellingRequest(G,this.state.timeSelectedTopSelling)}},{key:"callFetchDashboardTopNotSellingRequest",value:function(){(G=localStorage.getItem("_auth"))&&this.props.fetchDashboardTopNotSellingRequest(G,this.state.timeSelectedTopNotSelling)}},{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r,c,l,o,i,u=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G=localStorage.getItem("_auth"),this.callFetchDashboardTopSellingRequest(),this.callFetchDashboardTopNotSellingRequest(),!G){e.next=20;break}return this.callFetchDashboard(G),t=w("reports/products","GET",null,G),a=w("reports/income","GET",null,G),n=w("reports/contacts","GET",null,G),e.next=10,Promise.all([t,a,n]);case 10:r=e.sent,c=Object(E.a)(r,3),l=c[0],o=c[1],i=c[2],o&&o.data.forEach((function(e){"01"===e.month&&u.setState({January:e.total}),"02"===e.month&&u.setState({February:e.total}),"03"===e.month&&u.setState({March:e.total}),"04"===e.month&&u.setState({April:e.total}),"05"===e.month&&u.setState({May:e.total}),"06"===e.month&&u.setState({June:e.total}),"07"===e.month&&u.setState({July:e.total}),"08"===e.month&&u.setState({August:e.total}),"09"===e.month&&u.setState({September:e.total}),"10"===e.month&&u.setState({October:e.total}),"11"===e.month&&u.setState({November:e.total}),"12"===e.month&&u.setState({December:e.total})})),i&&i.data.forEach((function(e){"01"===e.month&&u.setState({January1:e.count}),"02"===e.month&&u.setState({February1:e.count}),"03"===e.month&&u.setState({March1:e.count}),"04"===e.month&&u.setState({April1:e.count}),"05"===e.month&&u.setState({May1:e.count}),"06"===e.month&&u.setState({June1:e.count}),"07"===e.month&&u.setState({July1:e.count}),"08"===e.month&&u.setState({August1:e.count}),"09"===e.month&&u.setState({September1:e.count}),"10"===e.month&&u.setState({October1:e.count}),"11"===e.month&&u.setState({November1:e.count}),"12"===e.month&&u.setState({December1:e.count})})),l&&this.setState({labelsPie:l.data.map((function(e){return e.nameCategory})),dataShowPie:l.data.map((function(e){return e.count}))}),e.next=21;break;case 20:this.props.add_token_redux(null);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeRangePicker",value:function(e,t){var a=this;this.setState({dates:e},(function(){(G=localStorage.getItem("_auth"))&&a.callFetchDashboard(G)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.January,t.February,t.March,t.April,t.May,t.June,t.July,t.August,t.September,t.October,t.November,t.December,t.January1,t.February1,t.March1,t.April1,t.May1,t.June1,t.July1,t.August1,t.September1,t.October1,t.November1,t.December1,t.labelsPie,t.dataShowPie),n=function(e,t){var a=parseInt(e.slice(1),16),n=Math.round(2.55*t),r=(a>>16)+n,c=(a>>8&255)+n,l=(255&a)+n;return"#"+(16777216+65536*(r<255?r<1?0:r:255)+256*(c<255?c<1?0:c:255)+(l<255?l<1?0:l:255)).toString(16).slice(1)},c=function(){var e=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}();return n(e,40)},l=function(e,t){for(var a=Object(p.a)(e.map((function(e){return n(e,40)})));a.length<t;){var r=c();a.includes(r)||a.push(r)}return a.slice(0,t)},o=["#FF6384","#36A2EB","#FFCE56","#b42b2b","#6aea5a"],s=(l(o,a.length),l(o,a.length),[{title:"M\xe3 s\u1ea3n ph\u1ea9m",dataIndex:"productId",key:"productId"},{title:"T\xean s\u1ea3n ph\u1ea9m",dataIndex:"nameProduct",key:"nameProduct"},{title:"H\xecnh \u1ea3nh",dataIndex:"image",key:"image",render:function(e){return r.a.createElement("img",{src:e||null,className:"fix-img",alt:"not found",style:{maxWidth:200}})}},{title:"\u0110\xe3 b\xe1n",dataIndex:"totalSold",key:"totalSold"}]),i=[{title:"M\xe3 s\u1ea3n ph\u1ea9m",dataIndex:"productId",key:"productId"},{title:"T\xean s\u1ea3n ph\u1ea9m",dataIndex:"nameProduct",key:"nameProduct"},{title:"H\xecnh \u1ea3nh",dataIndex:"image",key:"image",render:function(e){return r.a.createElement("img",{src:e||null,className:"fix-img",alt:"not found",style:{maxWidth:200}})}},{title:"T\u1ed3n kho",dataIndex:"numberAvailable",key:"numberAvailable"}],u=[{title:"Tu\u1ea7n n\xe0y",value:"thisWeek"},{title:"Tu\u1ea7n tr\u01b0\u1edbc",value:"lasWeek"},{title:"Th\xe1ng n\xe0y",value:"thisMonth"},{title:"Th\xe1ng tr\u01b0\u1edbc",value:"lastMonth"},{title:"Qu\xfd 1",value:"q1"},{title:"Qu\xfd 2",value:"q2"},{title:"Qu\xfd 3",value:"q3"},{title:"Qu\xfd 4",value:"q4"},{title:"N\u0103m tr\u01b0\u1edbc",value:"lastYear"},{title:"N\u0103m nay",value:"thisYear"}],m=this.props.dashboard;console.log("===dashboard",m);var d=m.topSelling.products,h=m.topNotSelling.products;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Th\u1ed1ng k\xea"))),r.a.createElement("section",{className:"dashboard-counts no-padding-bottom"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(W,{format:"YYYY-MM-DD",value:this.state.dates,onChange:this.onChangeRangePicker,allowClear:!1}),r.a.createElement("div",{className:"row bg-white has-shadow",style:{marginTop:10}},r.a.createElement("div",{className:"col-xl-6 col-sm-6"},r.a.createElement("div",{className:"item d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"icon bg-red"},r.a.createElement("i",{className:"icon-padnote"})),r.a.createElement("div",{style:{margin:20}},r.a.createElement("div",{className:"title",style:{flex:"none"}},r.a.createElement("span",null,"T\u1ed5ng \u0111\u01a1n h\xe0ng"),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{role:"progressbar",style:{width:"100%",height:"4px"},className:"progress-bar bg-red fix-processbar"}))),r.a.createElement("div",{className:"number"},r.a.createElement("strong",null,m.revenues.totalOrder||0))))),r.a.createElement("div",{className:"col-xl-6 col-sm-6"},r.a.createElement("div",{className:"item d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"icon bg-orange"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{style:{margin:20}},r.a.createElement("div",{className:"title",style:{flex:"none"}},r.a.createElement("span",null,"T\u1ed5ng doanh thu"),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{role:"progressbar",style:{width:"100%",height:"4px"},className:"progress-bar bg-orange fix-processbar"}))),r.a.createElement("div",{className:"number"},r.a.createElement("strong",null,q.format(m.revenues.revenue||0))))))),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement(U.a,{title:"S\u1ea3n ph\u1ea9m b\xe1n ch\u1ea1y",extra:r.a.createElement("select",{value:this.state.timeSelectedTopSelling,onChange:function(t){return e.setState({timeSelectedTopSelling:t.target.value},(function(){return e.callFetchDashboardTopSellingRequest()}))}},u.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.title)}))),style:{flex:1}},r.a.createElement(B.a,{columns:s,dataSource:d,pagination:!1})),r.a.createElement(U.a,{title:"S\u1ea3n ph\u1ea9m kh\xf4ng b\xe1n ch\u1ea1y",extra:r.a.createElement("select",{value:this.state.timeSelectedTopNotSelling,onChange:function(t){return e.setState({timeSelectedTopNotSelling:t.target.value},(function(){return e.callFetchDashboardTopNotSellingRequest()}))}},u.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.title)}))),style:{flex:1,marginLeft:5}},r.a.createElement(B.a,{columns:i,dataSource:h,pagination:!1}))),r.a.createElement("br",null))),r.a.createElement(g,null))}}]),a}(n.Component),X=Object(R.b)((function(e){return{dashboard:e.dashboard}}),(function(e){return{fetch_dashboard:function(t,a,n){e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"SHOWLOADING",status:!0}),n.next=3,w("dashboards/revenues?startDate=".concat(t,"&endDate=").concat(a),"GET",null,e);case 3:(c=n.sent)&&200===c.status&&r(I(c.data)),setTimeout((function(){r({type:"HIDDENLOADING",status:!1})}),200);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},fetchDashboardTopSellingRequest:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"SHOWLOADING",status:!0}),a.next=3,w("dashboards/products?time=".concat(t,"&type=topSelling"),"GET",null,e);case 3:(r=a.sent)&&200===r.status&&n(A(r.data)),setTimeout((function(){n({type:"HIDDENLOADING",status:!1})}),200);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},fetchDashboardTopNotSellingRequest:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"SHOWLOADING",status:!0}),a.next=3,w("dashboards/products?time=".concat(t,"&type=topNotSelling"),"GET",null,e);case 3:(r=a.sent)&&200===r.status&&n(_(r.data)),setTimeout((function(){n({type:"HIDDENLOADING",status:!1})}),200);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},add_token_redux:function(t){e(L(t))}}}))(V),J=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(X,null)}}]),a}(n.Component),Q=a(1),K=a(71),Z=a(263),$=a.n(Z);function ee(){return $.a.start()}function te(){return $.a.done()}O.b.configure();var ae,ne,re,ce,le,oe,se,ie,ue=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;n.setState(Object(Q.a)({},t,a))},n.handleSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,r=a.email,!((c=a.password).length<6||c.length>32)){e.next=4;break}return e.abrupt("return",O.b.error("M\u1eadt kh\u1ea9u ph\u1ea3i t\u1eeb 6 - 32 k\xfd t\u1ef1"));case 4:return l={email:r,password:c},ee(),e.next=8,n.props.loginRequest(l);case 8:te();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",password:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password;return null!==this.props.auth?r.a.createElement(K.a,{to:"/"}):r.a.createElement("div",{className:"page login-page"},r.a.createElement("div",{className:"container d-flex align-items-center"},r.a.createElement("div",{className:"form-holder has-shadow"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"info d-flex align-items-center"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,"Stone Shop"))))),r.a.createElement("div",{className:"col-lg-6 bg-white"},r.a.createElement("div",{className:"form d-flex align-items-center"},r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email",value:a,className:"input-material",placeholder:"Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",value:n,className:"input-material",placeholder:"Password"})),r.a.createElement("button",{className:"btn btn-primary"},"Login")))))))),r.a.createElement("div",{className:"copyrights text-center"}))}}]),a}(n.Component),me=Object(R.b)((function(e){return{auth:e.auth}}),(function(e){return{loginRequest:function(t){e(function(e){return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(a,n){w("auth/loginAdmin","POST",e).then((function(e){if(e&&200===e.status){var n=e.data.token,r=e.data.scope;localStorage.setItem("_auth",n),t(P(n)),t(H(r)),a(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}})).catch((function(e){console.log(e),n(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t))}}}))(ue),de=a(26),he=(a(463),function(e){return{type:"FETCH_ROLES",roles:e}}),fe=function(e){return{type:"FIND_ROLES",roles:e}},pe=function(e){return{type:"REMOVE_ROLE",id:e}},Ee=function(e){return{type:"ADD_ROLE",data:e}},ve=function(e){return{type:"EDIT_ROLE",data:e}},ge=function(e){var t=new XMLHttpRequest;t.open("GET","".concat(x,"/").concat(e,"/exportExcel?")),t.setRequestHeader("Authorization",localStorage.getItem("_auth")),t.responseType="arraybuffer",t.onload=function(){if(200===t.status){var a=t.getResponseHeader("Content-Disposition"),n=a.substring(a.indexOf("filename=")+9,a.length),r=null!=n&&""!==n?n:e.xlsx,c=new Blob([t.response],{type:t.getResponseHeader("content-type")}),l=document.createElement("a");l.href=window.URL.createObjectURL(c),l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l)}},t.send()},be=a(81),Ne=a.n(be),ye=D()(C.a),xe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){ye.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=4;break}return t.next=3,n.props.delete_role(e,ae);case 3:C.a.fire("Deleted!","Your file has been deleted.","success");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state.searchText;n.props.find_roles(ae,t).then((function(e){n.setState({total:e.total})}))},n.downloadExcel=function(){ge("roles")},n.state={searchText:"",total:0,currentPage:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetch_reload_data()}},{key:"fetch_reload_data",value:function(){var e=this;ae=localStorage.getItem("_auth"),this.props.fetch_roles(ae).then((function(t){e.setState({total:t.total})})).catch((function(e){console.log(e)}))}},{key:"pageChange",value:function(e){var t=10*(e-1);this.props.fetch_roles(ae,t),this.setState({currentPage:e}),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.roles,a=this.state,n=a.searchText,c=a.total;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Roles"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(de.b,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Roles"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"Data Table Roles"),r.a.createElement("button",{onClick:function(){return e.downloadExcel()},style:{border:0,background:"white"}}," ",r.a.createElement("i",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"#1d7044"}}," Excel"))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("button",{style:{border:0,background:"white"}},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})),r.a.createElement("input",{name:"searchText",onChange:this.handleChange,value:n,className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"})),r.a.createElement(de.b,{to:"/roles/add",className:"btn btn-primary"},"Create")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Name Role"),r.a.createElement("th",null,"Description"),r.a.createElement("th",{style:{textAlign:"center"}},"Active"),r.a.createElement("th",{style:{textAlign:"center"}},"Action"))),r.a.createElement("tbody",null,t&&t.length?t.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.nameRole),r.a.createElement("td",null,t.description),r.a.createElement("td",{style:{textAlign:"center"}},t.isActive?r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",checked:!0,onChange:function(){return e.handleChangeCheckBox},className:"checkbox-template"})):r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",checked:!1,onChange:function(){return e.handleChangeCheckBox},className:"checkbox-template"}))),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("span",{title:"Edit",className:"fix-action"},r.a.createElement(de.b,{to:"/roles/edit/".concat(t.id)}," ",r.a.createElement("i",{className:"fa fa-edit"}))),r.a.createElement("span",{title:"Delete",onClick:function(){return e.handleRemove(t.id)},className:"fix-action"},r.a.createElement(de.b,{to:"#"}," ",r.a.createElement("i",{className:"fa fa-trash",style:{color:"#ff00008f"}}))))))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement(Ne.a,{pageSize:10,totalElements:c,onPageChangeCallback:function(t){e.pageChange(t)}}))))))),r.a.createElement(g,null))}}]),a}(n.Component),Oe=Object(R.b)((function(e){return{roles:e.roles}}),(function(e){return{fetch_roles:function(t,a){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){w("roles?limit=".concat(10,"&offset=").concat(a),"GET",null,e).then((function(e){e&&200===e.status&&(t(he(e.data.results)),n(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){r(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))},delete_role:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("roles/".concat(e),"DELETE",null,t);case 2:n(pe(e));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},find_roles:function(t,a){return e(function(e,t){return function(a){return a({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){void 0!==t&&null!==t&&""!==t?w("roles?q=".concat(t),"GET",null,e).then((function(e){e&&200===e.status&&(a(fe(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)})):w("roles","GET",null,e).then((function(e){e&&200===e.status&&(a(fe(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))}}}))(xe),ke=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Oe,null)}}]),a}(n.Component),Ce=a(49),Te=(a(464),function(e){return{type:"FETCH_ORDERS",orders:e}}),De=function(e){return{type:"FIND_ORDERS",orders:e}},Se=function(e){return{type:"REMOVE_ORDER",id:e}},we=function(e){return{type:"ADD_ORDER",data:e}},je=function(e){return{type:"EDIT_ORDER",data:e}},Ie=a(330),Ae=a.n(Ie),_e=D()(C.a),Re=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){_e.fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1?",text:"B\u1ea1n kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c sau khi xo\xe1!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0110\u1ed3ng \xfd"}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=4;break}return t.next=3,n.props.delete_order(e,ne);case 3:C.a.fire("Xo\xe1 \u0111\u01a1n h\xe0ng th\xe0nh c\xf4ng","\u0110\u01a1n h\xe0ng c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c xo\xe1","Th\xe0nh c\xf4ng");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.searchText,r=t.filterStatus;n.props.find_order(ne,a,r).then((function(e){n.setState({total:e.total})}))},n.downloadExcel=function(){ge("orders")},n.handleFilterChange=function(e){var t=e.target.value;n.setState({filterStatus:t},(function(){var e=localStorage.getItem("_auth"),a=n.state,r=a.searchText,c=a.filterStatus;n.props.find_order(e,r,t).then((function(e){n.setState({total:e.total,filterStatus:c})})).catch((function(e){console.log(e)}))}))},n.handleFilterChangeDropdown=function(e){var t=e.target.value;n.setState({filterStatus:t,activeTab:t},(function(){n.fetchOrders()}))},n.handleFilterChangeTab=function(e){n.setState({filterStatus:e,activeTab:e},(function(){n.fetchOrders()}))},n.fetchOrders=function(){var e=localStorage.getItem("_auth"),t=n.state,a=t.searchText,r=t.filterStatus;n.props.find_order(e,a,r).then((function(e){n.setState({total:e.total})})).catch((function(e){console.log(e)}))},n.state={searchText:"",total:0,currentPage:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetch_reload_data()}},{key:"fetch_reload_data",value:function(){var e=this;ne=localStorage.getItem("_auth"),console.log("this.props: ",this.props),this.props.fetch_orders(ne).then((function(t){e.setState({total:t.total,activeTab:""})})).catch((function(e){console.log(e)}))}},{key:"pageChange",value:function(e){var t=this,a=10*(e-1);this.props.fetch_orders(ne,a).then((function(a){t.setState({total:a.total,currentPage:e,activeTab:""})})).catch((function(e){console.log(e)})),this.setState({currentPage:e}),window.scrollTo(0,0)}},{key:"showOrder",value:function(e){return r.a.createElement("div",{className:"col-md-3"},r.a.createElement("label",{className:"fix-status",style:Object(Ce.a)(Object(Ce.a)({},{Unconfirm:{backgroundColor:"#FF9966",color:"#5A5A5A"},Confirm:{backgroundColor:"#33FFFF",color:"#3A3A3A"},Shipping:{backgroundColor:"#CC99FF",color:"#333333"},Complete:{backgroundColor:"#339900",color:"#2F4F4F"},Canceled:{backgroundColor:"#CC3300",color:"#4A4A4A"}}[e]),{},{padding:"6px 12px",borderRadius:"5px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",fontSize:"14px"})},{Unconfirm:"Ch\u01b0a x\xe1c nh\u1eadn",Confirm:"\u0110\xe3 x\xe1c nh\u1eadn",Shipping:"\u0110ang v\u1eadn chuy\u1ec3n",Complete:"Ho\xe0n th\xe0nh",Canceled:"H\u1ee7y b\u1ecf"}[e]))}},{key:"render",value:function(){var e=this,t=this.props.orders,a=this.state,n=a.searchText,c=a.total,l=a.activeTab;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Danh s\xe1ch \u0111\u01a1n h\xe0ng"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(de.b,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Danh s\xe1ch \u0111\u01a1n h\xe0ng"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("button",{onClick:this.downloadExcel,style:{border:0,background:"#74DBEF",borderRadius:3}},r.a.createElement("h3",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"white",padding:"5px 6px"}}," ","Xu\u1ea5t Excel"))),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat(""===l?"active":""),onClick:function(){return e.handleFilterChangeTab("")}},"T\u1ea5t c\u1ea3")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("Unconfirm"===l?"active":""),onClick:function(){return e.handleFilterChangeTab("Unconfirm")}},"Ch\u01b0a x\xe1c nh\u1eadn")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("Confirm"===l?"active":""),onClick:function(){return e.handleFilterChangeTab("Confirm")}},"\u0110\xe3 x\xe1c nh\u1eadn")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("Shipping"===l?"active":""),onClick:function(){return e.handleFilterChangeTab("Shipping")}},"\u0110ang v\u1eadn chuy\u1ec3n")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("Complete"===l?"active":""),onClick:function(){return e.handleFilterChangeTab("Complete")}},"Ho\xe0n th\xe0nh")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("Canceled"===l?"active":""),onClick:function(){return e.handleFilterChangeTab("Canceled")}},"H\u1ee7y b\u1ecf")))),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("input",{name:"searchText",onChange:this.handleChange,value:n,className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{style:{border:1,background:"green",color:"white"}}," ",r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}))),r.a.createElement(de.b,{to:"/orders/add",className:"btn btn-primary"},"Th\xeam \u0111\u01a1n h\xe0ng")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"M\xe3 \u0111\u01a1n h\xe0ng"),r.a.createElement("th",null,"Kh\xe1ch h\xe0ng"),r.a.createElement("th",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"),r.a.createElement("th",null,"T\xecnh tr\u1ea1ng thanh to\xe1n"),r.a.createElement("th",null,"S\u1ed1 l\u01b0\u1ee3ng"),r.a.createElement("th",null,"Ph\xed v\u1eadn chuy\u1ec3n"),r.a.createElement("th",null,"Gi\u1ea3m gi\xe1"),r.a.createElement("th",null,"Th\xe0nh ti\u1ec1n"),r.a.createElement("th",null,"Ghi ch\xfa"),r.a.createElement("th",null,"Th\u1eddi gian \u0111\u1eb7t"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t&&t.length?t.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,null===t||void 0===t?void 0:t.id),r.a.createElement("td",null,null===t||void 0===t?void 0:t.fullName),r.a.createElement("td",null,null===t||void 0===t?void 0:t.phone),r.a.createElement("td",null,e.showOrder(t.status)),r.a.createElement("td",null,(null===t||void 0===t?void 0:t.isPaid)?"\u0110\xe3 thanh to\xe1n":"Ch\u01b0a thanh to\xe1n"),r.a.createElement("td",null,q.format(null===t||void 0===t?void 0:t.itemAmount)),r.a.createElement("td",null,q.format(null===t||void 0===t?void 0:t.shippingTotal)),r.a.createElement("td",null,q.format(null===t||void 0===t?void 0:t.promoTotal)),r.a.createElement("td",null,q.format(null===t||void 0===t?void 0:t.totalAmount)),r.a.createElement("td",null,t.note),r.a.createElement("td",null,r.a.createElement(Ae.a,{format:"YYYY/MM/DD"},t.createdAt)),r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("span",{title:"Edit",className:"fix-action"},r.a.createElement(de.b,{to:"/orders/edit/".concat(t.id)},r.a.createElement("i",{className:"fa fa-edit"}))))))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement(Ne.a,{pageSize:10,totalElements:c,onPageChangeCallback:this.pageChange.bind(this)}))))))),r.a.createElement(g,null))}}]),a}(n.Component),Ge=Object(R.b)((function(e){return{orders:e.orders}}),(function(e){return{fetch_orders:function(t,a){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){w("orders?limit=".concat(10,"&offset=").concat(a,"&orderBy=-createdAt"),"GET",null,e).then((function(e){e&&200===e.status&&(t(Te(e.data.results)),n(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))},delete_order:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("orders/".concat(e),"DELETE",null,t);case 2:n(Se(e));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},find_order:function(t,a,n){return e(function(e,t,a){return function(n){return n({type:"SHOWLOADING",status:!0}),new Promise((function(r,c){var l="orders?";t&&(l+="q=".concat(t,"&")),a&&(l+='filter={"status":"'.concat(a,'"}')),w(l,"GET",null,e).then((function(e){e&&200===e.status&&(n(De(e.data.results)),r(e.data),setTimeout((function(){n({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),c(e),setTimeout((function(){n({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a,n))}}}))(Re),Pe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Ge,null)}}]),a}(n.Component),He=(a(465),function(e){return{type:"FETCH_CATEGORIES",categories:e}}),Le=function(e){return{type:"FETCH_CATEGORIES_TREE",categories:e}},Fe=function(e){return{type:"FIND_CATEGORIES",categories:e}},Me=function(e){return{type:"REMOVE_CATEGORY",id:e}},Ue=function(e){return{type:"ADD_CATEGORY",data:e}},Be=function(e){return{type:"EDIT_CATEGORY",data:e}},qe=D()(C.a),ze=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){qe.fire({title:"B\u1ea1n ch\u1eafn ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c l\u1ea1i danh m\u1ee5c",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"C\xf3"}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=15;break}return t.prev=1,t.next=4,n.props.delete_category(e,re);case 4:if(null===(r=t.sent)||void 0===r?void 0:r.success){t.next=8;break}return O.b.error((null===r||void 0===r?void 0:r.message)||"X\xf3a danh m\u1ee5c kh\xf4ng th\xe0nh c\xf4ng"),t.abrupt("return");case 8:C.a.fire("\u0110\xe3 x\xf3a!","B\u1ea1n \u0111\xe3 x\xf3a danh m\u1ee5c th\xe0nh c\xf4ng","success"),n.fetch_reload_data(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.error("Error deleting category: ",t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}())},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state.searchText;n.props.find_categories(t).then((function(e){n.setState({total:e.total,categories:e.categories})}))},n.downloadExcel=function(){ge("categories")},n.pageChange=function(e){var t=10*(e-1);n.props.fetch_categories(t).then((function(t){n.setState({currentPage:e,categories:t.categories,total:t.total})})),window.scrollTo(0,0)},n.state={searchText:"",total:0,currentPage:1,categories:[],openCategoryIds:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetch_reload_data()}},{key:"fetch_reload_data",value:function(){var e=this;re=localStorage.getItem("_auth"),this.props.fetch_categories_tree().then((function(t){e.setState({categories:t,total:t.length})})).catch((function(e){console.error("Error fetching categories tree: ",e)}))}},{key:"toggleCategory",value:function(e){this.setState((function(t){var a=t.openCategoryIds;return{openCategoryIds:a.includes(e)?a.filter((function(t){return t!==e})):[].concat(Object(p.a)(a),[e])}}))}},{key:"renderCategory",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{style:{cursor:"pointer",display:"flex",alignItems:"center",paddingLeft:"".concat(20*a,"px")},onClick:function(){return t.toggleCategory(e.id)}},e.children&&e.children.length>0&&r.a.createElement("i",{className:"fa ".concat(this.state.openCategoryIds.includes(e.id)?"fa-chevron-up":"fa-chevron-down"),style:{marginRight:10}}),r.a.createElement("span",{style:{fontWeight:e.children&&e.children.length>0?"bold":"normal"}},e.nameCategory))),r.a.createElement("td",null,e.id),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",{className:"fix-cart2"},r.a.createElement("img",{src:e.image,className:"fix-img2",alt:"avatar"}))),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("span",{title:"Edit",className:"fix-action"},r.a.createElement(de.b,{to:"categories/edit/".concat(e.id)},r.a.createElement("i",{className:"fa fa-edit"}))),r.a.createElement("span",{title:"Delete",onClick:function(){return t.handleRemove(e.id)},className:"fix-action"},r.a.createElement(de.b,{to:"#"},r.a.createElement("i",{className:"fa fa-trash",style:{color:"#ff00008f"}})))))),this.state.openCategoryIds.includes(e.id)&&e.children&&e.children.length>0&&r.a.createElement(r.a.Fragment,null,e.children.map((function(e){return t.renderCategory(e,a+1)}))))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.searchText,t.total,t.categories);return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Th\u1ec3 lo\u1ea1i"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(de.b,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Th\u1ec3 lo\u1ea1i"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("button",{onClick:this.downloadExcel,style:{border:0,background:"green",borderRadius:3}},r.a.createElement("h3",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"white",padding:"5px 6px"}}," ","Xu\u1ea5t Excel"))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement(de.b,{to:"/categories/add",className:"btn btn-primary"}," ","Th\xeam th\u1ec3 lo\u1ea1i")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xean danh m\u1ee5c"),r.a.createElement("th",null,"M\xe3 danh m\u1ee5c"),r.a.createElement("th",null,"H\xecnh \u1ea3nh"),r.a.createElement("th",{style:{textAlign:"center"}}))),r.a.createElement("tbody",null,a&&a.length?a.map((function(t){return e.renderCategory(t)})):null))))))))),r.a.createElement(g,null))}}]),a}(n.Component),Ye=Object(R.b)((function(e){return{categories:e.categories.categoriesTree}}),(function(e){return{fetch_categories:function(t){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){w("categories?limit=".concat(10,"&offset=").concat(a,"&orderBy=-createdAt"),"GET",null,e).then((function(e){e&&200===e.status&&(t(He(e.data.results)),n(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(null,t))},fetch_categories_tree:function(){return e((function(e){return e({type:"SHOWLOADING",status:!0}),new Promise((function(t,a){w("categories/tree","GET",null).then((function(a){a&&200===a.status&&(e(Le(a.data.results)),t(a.data.results),setTimeout((function(){e({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(t){console.log(t),a(t),setTimeout((function(){e({type:"HIDDENLOADING",status:!1})}),200)}))}))}))},delete_category:function(t,a){return e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("categories/".concat(e),"DELETE",null,t);case 2:return r=a.sent,n(Me(e)),a.abrupt("return",r.data);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},find_categories:function(t){return e(function(e,t){return function(a){return a({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){void 0!==t&&null!==t&&""!==t?w("categories?q=".concat(t),"GET",null,e).then((function(e){e&&200===e.status&&(a(Fe(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)})):w("categories","GET",null,e).then((function(e){e&&200===e.status&&(a(Fe(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(null,t))}}}))(ze),We=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Ye,null)}}]),a}(n.Component),Ve=(a(466),function(e){return{type:"FETCH_PRODUCTS",products:e}}),Xe=function(e){return{type:"FIND_PRODUCTS",products:e}},Je=function(e){return{type:"REMOVE_PRODUCT",id:e}},Qe=function(e){return{type:"ADD_PRODUCT",data:e}},Ke=function(e){return{type:"EDIT_PRODUCT",data:e}},Ze=D()(C.a),$e=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){Ze.fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1?",text:"B\u1ea1n kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c sau khi xo\xe1!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0110\u1ed3ng \xfd"}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=4;break}return t.next=3,n.props.delete_product(e,ce);case 3:C.a.fire("Xo\xe1 s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng","S\u1ea3n ph\u1ea9m c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c xo\xe1","Th\xe0nh c\xf4ng");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.searchText,r=t.filter;n.props.find_products(ce,a,JSON.stringify(r)).then((function(e){n.setState({total:e.total})}))},n.downloadExcel=function(){ge("products")},n.handleCategorySelect=function(e){n.setState({categoryId:e.target.value},(function(){var e=n.state.categoryId,t={};e&&(t={categoryId:e},n.setState({filter:{categoryId:e}}));var a=n.state.searchText;n.props.find_products(ce,a,JSON.stringify(t)).then((function(e){n.setState({total:e.total})}))}))},n.renderCategoryOptions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null===e||void 0===e?void 0:e.map((function(e){var a;return r.a.createElement(r.a.Fragment,{key:null===e||void 0===e?void 0:e.id},r.a.createElement("option",{value:null===e||void 0===e?void 0:e.id,style:{fontWeight:0===t?"bold":"normal"}},"".concat("\xa0".repeat(2*t)).concat(null===e||void 0===e?void 0:e.nameCategory)," "),(null===e||void 0===e?void 0:e.children)&&(null===e||void 0===e||null===(a=e.children)||void 0===a?void 0:a.length)>0?n.renderCategoryOptions(null===e||void 0===e?void 0:e.children,t+1):null)}))},n.handleFilterChangeTab=function(e){var t=e;"isHot"===e?e='{"isHot":true,"isBestSelling":false}':"isBestSelling"===e?e='{"isHot":false,"isBestSelling":true}':"isActive"===e?e='{"isActive":true}':"notActive"===e&&(e='{"isActive":false}');var a=e;n.setState({status:a}),n.setState({activeTab:t},(function(){var t=n.state.searchText;e?n.props.find_products(ce,t,a).then((function(e){n.setState({total:(null===e||void 0===e?void 0:e.total)||0})})):n.props.find_products(ce,t).then((function(e){n.setState({total:e.total})}))}))},n.state={total:0,currentPage:1,searchText:"",categories:[],categoryId:null,activeTab:"",properties:null},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fetch_reload_data(),e.next=3,w("categories/tree","GET",null);case 3:n=e.sent,console.log("categories: ",null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.results),this.setState({categories:null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.results});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetch_reload_data",value:function(){var e=this;ce=localStorage.getItem("_auth"),this.props.fetch_products(ce).then((function(t){e.setState({total:t.total})})).catch((function(e){console.log(e)}))}},{key:"pageChange",value:function(e){var t=10*(e-1);this.props.fetch_products(ce,t),this.setState({currentPage:e}),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.products,a=this.state,n=a.searchText,c=a.total,l=a.categories,o=a.activeTab;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"S\u1ea3n ph\u1ea9m"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("button",{onClick:this.downloadExcel,style:{border:0,background:"green",borderRadius:3}},r.a.createElement("h3",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"white",padding:"5px 6px"}}," ","Xu\u1ea5t Excel"))),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat(""===o?"active":""),onClick:function(){return e.handleFilterChangeTab("")}},"T\u1ea5t c\u1ea3")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("isHot"===o?"active":""),onClick:function(){return e.handleFilterChangeTab("isHot")}},"S\u1ea3n ph\u1ea9m HOT")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("isBestSelling"===o?"active":""),onClick:function(){return e.handleFilterChangeTab("isBestSelling")}},"S\u1ea3n ph\u1ea9m b\xe1n ch\u1ea1y")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("isActive"===o?"active":""),onClick:function(){return e.handleFilterChangeTab("isActive")}},"\u0110ang b\xe1n")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("notActive"===o?"active":""),onClick:function(){return e.handleFilterChangeTab("notActive")}},"Ng\u1eebng b\xe1n")))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("input",{name:"searchText",onChange:this.handleChange,value:n,className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{style:{border:1,background:"green",color:"white"}}," ",r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}))),r.a.createElement("select",{style:{marginRight:"5px",borderRadius:"5px"},onChange:this.handleCategorySelect},r.a.createElement("option",{value:""},"Ch\u1ecdn danh m\u1ee5c"),this.renderCategoryOptions(l)),r.a.createElement(de.b,{to:"/products/add",className:"btn btn-primary"},"Th\xeam s\u1ea3n ph\u1ea9m")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"M\xe3 s\u1ea3n ph\u1ea9m"),r.a.createElement("th",null,"T\xean s\u1ea3n ph\u1ea9m"),r.a.createElement("th",null,"Gi\xe1"),r.a.createElement("th",null,"S\u1ed1 l\u01b0\u1ee3ng"),r.a.createElement("th",{style:{textAlign:"center"}},"H\xecnh \u1ea3nh"),r.a.createElement("th",{style:{textAlign:"center"}},"Tr\u1ea1ng th\xe1i"),r.a.createElement("th",{style:{textAlign:"center"}},"H\xe0nh \u0111\u1ed9ng"))),r.a.createElement("tbody",null,t&&t.length?t.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,null===t||void 0===t?void 0:t.id),r.a.createElement("td",null,null===t||void 0===t?void 0:t.nameProduct),r.a.createElement("td",null,q.format(null===t||void 0===t?void 0:t.price)),r.a.createElement("td",null,null===t||void 0===t?void 0:t.numberAvailable),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",{className:"fix-cart"},r.a.createElement("img",{src:t&&(null===t||void 0===t?void 0:t.image)?null===t||void 0===t?void 0:t.image:null,className:"fix-img",alt:"not found"}))),r.a.createElement("td",{style:{textAlign:"center"}},(null===t||void 0===t?void 0:t.isActive)?r.a.createElement("div",{className:"i-checks"},r.a.createElement("p",null,"\u0110ang b\xe1n")):r.a.createElement("div",{className:"i-checks"},r.a.createElement("p",null,"Ng\u1eebng b\xe1n"))),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("span",{title:"Edit",className:"fix-action"},r.a.createElement(de.b,{to:"/products/edit/".concat(null===t||void 0===t?void 0:t.id)}," ",r.a.createElement("i",{className:"fa fa-edit"}))),r.a.createElement("span",{title:"Delete",onClick:function(){return e.handleRemove(t.id)},className:"fix-action"},r.a.createElement(de.b,{to:"#"}," ",r.a.createElement("i",{className:"fa fa-trash",style:{color:"#ff00008f"}}))))))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement(Ne.a,{pageSize:10,totalElements:c,onPageChangeCallback:function(t){e.pageChange(t)}}))))))),r.a.createElement(g,null))}}]),a}(n.Component),et=Object(R.b)((function(e){return{products:e.products}}),(function(e){return{fetch_products:function(t,a){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(e){return e({type:"SHOWLOADING",status:!0}),new Promise((function(t,n){w("products?limit=".concat(10,"&offset=").concat(a,"&orderBy=-createdAt"),"GET",null).then((function(a){a&&200===a.status&&(e(Ve(a.data.results)),t(a.data),setTimeout((function(){e({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(t){console.log(t),n(t),setTimeout((function(){e({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(0,a))},delete_product:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("products/".concat(e),"DELETE",null,t);case 2:n(Je(e));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},find_products:function(t,a,n){return e(function(e,t,a,n){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c,l,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"SHOWLOADING",status:!0}),c="products",l=[],t&&l.push("q=".concat(t)),a&&l.push("filter=".concat(a)),l.length>0&&(c+="?".concat(l.join("&"))),n.prev=6,n.next=9,w(c,"GET",null,e);case 9:if(!(o=n.sent)||200!==o.status){n.next=13;break}return r(Xe(o.data.results)),n.abrupt("return",o.data);case 13:n.next=19;break;case 15:throw n.prev=15,n.t0=n.catch(6),console.error(n.t0),n.t0;case 19:return n.prev=19,setTimeout((function(){r({type:"HIDDENLOADING",status:!1})}),200),n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[6,15,19,22]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))($e),tt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(et,{match:this.props.match})}}]),a}(n.Component),at=(a(467),function(e){return{type:"FETCH_DISCOUNTS",discounts:e}}),nt=function(e){return{type:"REMOVE_DISCOUNT",id:e}},rt=D()(C.a),ct=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleRemove=function(t){rt.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.value){a.next=4;break}return a.next=3,e.props.delete_discount(t,le);case 3:C.a.fire("Deleted!","Your file has been deleted.","success");case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},e.downloadExcel=function(){ge("discounts")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){le=localStorage.getItem("_auth"),this.props.fetch_discounts(le)}},{key:"render",value:function(){var e=this,t=this.props.discounts;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Discounts"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(de.b,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Discounts"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"Data Table Discounts"),r.a.createElement("button",{onClick:function(){return e.downloadExcel()},style:{border:0,background:"white"}}," ",r.a.createElement("i",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"#1d7044"}}," Excel"))),r.a.createElement("form",{className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),r.a.createElement("input",{className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"})),r.a.createElement(de.b,{to:"/discounts/add",className:"btn btn-primary"}," Create")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Total To Reach"),r.a.createElement("th",null,"Rate"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Max Usages"),r.a.createElement("th",null,"Used"),r.a.createElement("th",null,"shippingCost"),r.a.createElement("th",{style:{textAlign:"center"}},"Active"),r.a.createElement("th",{style:{textAlign:"center"}},"Action"))),r.a.createElement("tbody",null,t&&t.length?t.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t.nameDiscount),r.a.createElement("td",null,t.code),r.a.createElement("td",null,t.totalToReach),r.a.createElement("td",null,t.rate),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,t.maxNumberOfUsages),r.a.createElement("td",null,t.numberOfUsages),r.a.createElement("td",null,t.shippingCost),r.a.createElement("td",{style:{textAlign:"center"}},t.isActive?r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",checked:!0,className:"checkbox-template"})):r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",checked:!1,className:"checkbox-template"}))),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("span",{className:"fix-action"},r.a.createElement(de.b,{to:"discounts/edit/".concat(t.id)}," ",r.a.createElement("i",{className:"fa fa-edit"}))),r.a.createElement("span",{onClick:function(){return e.handleRemove(t.id)},className:"fix-action"},r.a.createElement(de.b,{to:"#"}," ",r.a.createElement("i",{className:"fa fa-trash",style:{color:"#ff00008f"}}))))))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement(de.b,{className:"page-link",to:"#","aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))),r.a.createElement("li",{className:"page-item"},r.a.createElement(de.b,{className:"page-link",to:"#"},"1")),r.a.createElement("li",{className:"page-item"},r.a.createElement(de.b,{className:"page-link",to:"#"},"2")),r.a.createElement("li",{className:"page-item"},r.a.createElement(de.b,{className:"page-link",to:"#"},"3")),r.a.createElement("li",{className:"page-item"},r.a.createElement(de.b,{className:"page-link",to:"#","aria-label":"Next"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next"))))))))),r.a.createElement(g,null))}}]),a}(n.Component),lt=Object(R.b)((function(e){return{discounts:e.discounts}}),(function(e){return{fetch_discounts:function(t){e(function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SHOWLOADING",status:!0}),t.next=3,w("discounts","GET",null,e);case 3:(n=t.sent)&&200===n.status&&a(at(n.data.results)),a({type:"HIDDENLOADING",status:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},delete_discount:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("discounts/".concat(e),"DELETE",null,t);case 2:n(nt(e));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(ct),ot=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(lt,null)}}]),a}(n.Component),st=(a(468),function(e){return{type:"FETCH_USERS",users:e}}),it=function(e){return{type:"FIND_USERS",users:e}},ut=function(e){return{type:"REMOVE_USER",id:e}},mt=function(e){return{type:"ADD_USER",data:e}},dt=function(e){return{type:"EDIT_USER",data:e}},ht=D()(C.a),ft=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){ht.fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=4;break}return t.next=3,n.props.delete_user(e,oe);case 3:C.a.fire("X\xf3a th\xe0nh c\xf4ng","D\u1eef li\u1ec7u \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a.","success");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.searchText,r=t.activeTab;n.props.find_users(oe,a,r).then((function(e){n.setState({total:e.total})}))},n.downloadExcel=function(){ge("users")},n.handleFilterChangeTab=function(e){var t=n.state.searchText;n.props.find_users(oe,t,e).then((function(e){n.setState({total:e.total})})),n.setState({activeTab:e})},n.state={searchText:"",total:0,currentPage:1,activeTab:"user"},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetch_reload_data()}},{key:"fetch_reload_data",value:function(){var e=this;oe=localStorage.getItem("_auth"),this.props.fetch_users(oe).then((function(t){e.setState({total:t.total})})).catch((function(e){console.log(e)}))}},{key:"pageChange",value:function(e){var t=10*(e-1);this.props.fetch_users(oe,t),this.setState({currentPage:e}),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.users,a=this.state,n=a.searchText,c=a.total,l=a.activeTab;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Kh\xe1ch h\xe0ng"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("button",{onClick:this.downloadExcel,style:{border:0,background:"green",borderRadius:3}},r.a.createElement("h3",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"white",padding:"5px 6px"}}," ","Xu\u1ea5t Excel"))),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("user"===l?"active":""),onClick:function(){return e.handleFilterChangeTab("user")}},"Kh\xe1ch h\xe0ng")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("staff"===l?"active":""),onClick:function(){return e.handleFilterChangeTab("staff")}},"Nh\xe2n vi\xean")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("admin"===l?"active":""),onClick:function(){return e.handleFilterChangeTab("admin")}},"Qu\u1ea3n tr\u1ecb vi\xean")))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("input",{name:"searchText",onChange:this.handleChange,value:n,className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{style:{border:1,background:"green",color:"white"}}," ",r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}))),r.a.createElement(de.b,{to:"/users/add",className:"btn btn-primary"}," ","Th\xeam m\u1edbi")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"M\xe3 kh\xe1ch h\xe0ng"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"T\xean kh\xe1ch h\xe0ng"),r.a.createElement("th",{style:{textAlign:"center"}},"X\xe1c th\u1ef1c email"),r.a.createElement("th",{style:{textAlign:"center"}}))),r.a.createElement("tbody",null,t&&t.length?t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.name),r.a.createElement("td",{style:{textAlign:"center"}},e.isVerifyEmail?r.a.createElement("div",{className:"i-checks"},r.a.createElement("p",null,"\u0110\xe3 x\xe1c th\u1ef1c")):r.a.createElement("div",{className:"i-checks"},r.a.createElement("p",null,"Ch\u01b0a x\xe1c th\u1ef1c"))),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("span",{title:"Edit",className:"fix-action"},r.a.createElement(de.b,{to:"/users/edit/".concat(e.id)}," ",r.a.createElement("i",{className:"fa fa-edit"}))))))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement(Ne.a,{pageSize:10,totalElements:c,onPageChangeCallback:function(t){e.pageChange(t)}}))))))),r.a.createElement(g,null))}}]),a}(n.Component),pt=Object(R.b)((function(e){return{users:e.users}}),(function(e){return{fetch_users:function(t,a){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){w("users?limit=".concat(10,"&offset=").concat(a,'&orderBy=-createdAt&filter={"role.nameRole": "user"}'),"GET",null,e).then((function(e){e&&200===e.status&&(t(st(e.data.results)),n(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){r(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))},delete_user:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("users/".concat(e),"DELETE",null,t);case 2:n(ut(e));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},find_users:function(t,a,n){return e(function(e,t,a){return function(n){return n({type:"SHOWLOADING",status:!0}),new Promise((function(r,c){var l=t?"q=".concat(encodeURIComponent(t)):"",o=a?'filter={"role.nameRole": "'.concat(a,'"}'):"",s="users";l&&o?s+="?".concat(l,"&").concat(o):l?s+="?".concat(l):o&&(s+="?".concat(o)),w(s,"GET",null,e).then((function(e){e&&200===e.status&&(n(it(e.data.results)),r(e.data),setTimeout((function(){n({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){c(e),setTimeout((function(){n({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a,n))}}}))(ft),Et=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(pt,null)}}]),a}(n.Component),vt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l,o,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,r=a.defaultActive,c=a.name,l=a.desc,o=""===l?null:l,ie){e.next=9;break}i={isActive:r,nameRole:c,description:o},n.props.add_role(se,i),n.setState({name:"",desc:""}),e.next=13;break;case 9:return u={isActive:r,nameRole:c,description:o},e.next=12,n.props.edit_role(se,ie,u);case 12:n.setState({redirectToUser:!0});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={defaultActive:!0,name:"",desc:"",redirectToUser:!1},ie=n.props.id,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se=localStorage.getItem("_auth"),!ie){e.next=6;break}return e.next=4,w("roles/".concat(ie),"GET",null,se);case 4:t=e.sent,this.setState({defaultActive:t.data.isActive,name:t.data.nameRole,desc:t.data.description});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.defaultActive,n=t.name,c=t.desc;return t.redirectToUser?r.a.createElement(K.a,{to:"/roles"}):r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Forms Role"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"index.html"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Role"))),r.a.createElement("section",{className:"forms"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"Description")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form-horizontal",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Name Role"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{name:"name",value:n,onChange:this.handleChange,type:"text",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Description"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{name:"desc",value:c,onChange:this.handleChange,type:"text",placeholder:"Note",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Active"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",name:"defaultActive",checked:a,onChange:this.handleChange,className:"checkbox-template"}),r.a.createElement("label",{htmlFor:"checkboxCustom1"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4 offset-sm-3"},r.a.createElement("button",{type:"reset",className:"btn btn-secondary",style:{marginRight:2}},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save changes")))))))))),r.a.createElement(g,null))}}]),a}(n.Component),gt=Object(R.b)(null,(function(e){return{add_role:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("roles","POST",t,e);case 2:(r=a.sent)&&200===r.status&&(O.b.success("Successful"),n(Ee(r.data)));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},get_role:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("roles/".concat(t),"GET",null,e);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},edit_role:function(t,a,n){e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("roles/".concat(t),"PUT",a,e);case 2:if(!(c=n.sent)||200!==c.status){n.next=7;break}return n.next=6,r(ve(c.data));case 6:O.b.success("Successful");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(vt),bt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props.match;return t&&(e=t.params.id),r.a.createElement(gt,{id:e})}}]),a}(n.Component),Nt=a(187),yt=a.n(Nt);a(563),a(469);yt.a.initializeApp(y);var xt=yt.a.storage(),Ot=yt.a.database();function kt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){xt.ref("images/".concat(t.name)).put(t).on("state_changed",(function(e){}),(function(e){a(e)}),(function(){xt.ref("images").child(t.name).getDownloadURL().then((function(t){e(t)}))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tt,Dt,St,wt,jt,It,At,_t,Rt,Gt,Pt,Ht,Lt,Ft,Mt,Ut,Bt,qt,zt=a(103),Yt=a(108),Wt=a.n(Yt),Vt=Object(zt.css)(Tt||(Tt=Object(f.a)(["\n    display: block;\n    margin: 0 auto;\n    position: fixed;\n    top: 40%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 9999;\n"]))),Xt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChangeImage=function(e){if(e.target.files[0]){var t=e.target.files[0];n.setState((function(){return{img:t}}))}document.getElementById("output").src=URL.createObjectURL(e.target.files[0])},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l,o,i,u,m,d,h,f,p,E,v,g,b,N,y,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,r=a.name,c=a.address,l=a.email,o=a.password,i=a.phone,u=a.isActive,m=a.isVerifyEmail,d=a.roleId,h=n.state,f=h.img,p=h.avatar,n.setState({loading:!0}),null===f||f===p){e.next=8;break}return e.next=7,kt(f);case 7:p=e.sent;case 8:if(E=parseInt(d),v=""===p?null:p,g=""===c?null:c,b=""===i?null:i,N=""===r?null:r,St){e.next=20;break}return y={name:N,address:g,email:l,password:o,avatar:v,phone:b,isActive:u,isVerifyEmail:m,roleId:E},e.next=17,n.props.add_user(Dt,y);case 17:n.setState({name:"",address:"",email:"",password:"password",avatar:"",phone:"",isActive:!0,isVerifyEmail:!1,roleId:3,loading:!1,redirectToUser:!0}),e.next=24;break;case 20:return x={name:N,address:g,avatar:v,phone:b,isActive:u,isVerifyEmail:m,roleId:E},e.next=23,n.props.edit_user(Dt,St,x);case 23:n.setState({loading:!1,redirectToUser:!0});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={name:"",address:"",email:"",password:"",avatar:null,phone:"",isActive:!0,isVerifyEmail:!1,roleId:3,redirectToUser:!1,dataRole:[],img:null,loading:!1},St=n.props.id,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dt=localStorage.getItem("_auth"),e.next=3,w("roles","GET",null,Dt);case 3:if(t=e.sent,this.setState({dataRole:t.data.results}),!St){e.next=10;break}return e.next=8,w("users/".concat(St),"GET",null,Dt);case 8:a=e.sent,this.setState({name:a.data.name,address:a.data.address,email:a.data.email,avatar:a.data.avatar,phone:a.data.phone,isActive:a.data.isActive,isVerifyEmail:a.data.isVerifyEmail,roleId:a.data.roleId,desc:a.data.description});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.dataRole,c=t.address,l=t.email,o=t.password,s=t.avatar,i=t.phone,u=t.isActive,m=t.isVerifyEmail,d=t.roleId,h=t.redirectToUser,f=t.loading;return h?r.a.createElement(K.a,{to:"/users"}):r.a.createElement("div",{className:"content-inner"},r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(Wt.a,{css:Vt,sizeUnit:"px",size:30,color:"#796aeebd",loading:f})),r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"T\xe0i kho\u1ea3n"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"index.html"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"T\xe0i kho\u1ea3n"))),r.a.createElement("section",{className:"forms"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"M\xf4 t\u1ea3")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form-horizontal",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"T\xean"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"text",onChange:this.handleChange,name:"name",value:a,className:"form-control"})),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"\u0110\u1ecba ch\u1ec9"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"text",onChange:this.handleChange,name:"address",value:c,className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"text",onChange:this.handleChange,name:"phone",value:i,className:"form-control"})),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"Email"),r.a.createElement("div",{className:"col-sm-3"},St?r.a.createElement("input",{type:"email",onChange:this.handleChange,name:"email",value:l,disabled:!0,className:"form-control"}):r.a.createElement("input",{type:"email",onChange:this.handleChange,name:"email",value:l,className:"form-control"}))),St?null:r.a.createElement("div",null,r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"M\u1eadt kh\u1ea9u"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"password",value:o,onChange:this.handleChange,name:"password",className:"form-control"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"fileInput",className:"col-sm-3 form-control-label"},"\u1ea2nh \u0111\u1ea1i di\u1ec7n"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"file",onChange:this.handleChangeImage,className:"form-control-file"}),r.a.createElement("div",{className:"fix-cart"},r.a.createElement("img",{src:s||"http://via.placeholder.com/400x300",id:"output",className:"fix-img",alt:"avatar"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Ho\u1ea1t \u0111\u1ed9ng"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",name:"isActive",checked:u,onChange:this.handleChange,className:"checkbox-template"}))),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"X\xe1c th\u1ef1c email",r.a.createElement("br",null)),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",name:"isVerifyEmail",checked:m,onChange:this.handleChange,className:"checkbox-template"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Lo\u1ea1i t\xe0i kho\u1ea3n"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("select",{className:"form-control mb-3",name:"roleId",value:d,onChange:this.handleChange},n&&n.length?n.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},{user:"Kh\xe1ch h\xe0ng",staff:"Nh\xe2n vi\xean",admin:"Qu\u1ea3n tr\u1ecb vi\xean"}[e.nameRole])})):null))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4 offset-sm-3"},r.a.createElement("button",{type:"reset",className:"btn btn-secondary",style:{marginRight:2}},"H\u1ee7y b\u1ecf"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"L\u01b0u thay \u0111\u1ed5i")))))))))),r.a.createElement(g,null))}}]),a}(n.Component),Jt=Object(R.b)(null,(function(e){return{add_user:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("users","POST",t,e);case 2:(r=a.sent)&&200===r.status&&(O.b.success("Th\xeam m\u1edbi th\xe0nh c\xf4ng"),n(mt(r.data)));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},get_user:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("users/".concat(t),"GET",null,e);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},edit_user:function(t,a,n){e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("users/".concat(t),"PUT",a,e);case 2:if(!(c=n.sent)||200!==c.status){n.next=7;break}return n.next=6,r(dt(c.data));case 6:O.b.success("Ch\u1ec9nh s\u1eeda th\xe0nh c\xf4ng");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(Xt),Qt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props.match;return t&&(e=t.params.id),r.a.createElement(Jt,{id:e})}}]),a}(n.Component),Kt=a(266),Zt=a.n(Kt),$t=(a(473),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({startDate:e})},n.handleChangeEnd=function(e){n.setState({endDate:e})},n.state={startDate:new Date,endDate:null},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Form User"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"index.html"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"User"))),r.a.createElement("section",{className:"forms"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"Descriptions")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form-horizontal"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Name Discount"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"text",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Trigger"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("select",{name:"account",className:"form-control mb-3"},r.a.createElement("option",null,"Code"),r.a.createElement("option",null,"Product")))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Code"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"text",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Total To Reach"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"number",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Type"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("select",{name:"account",className:"form-control mb-3"},r.a.createElement("option",null,"FixedAmount"),r.a.createElement("option",null,"Rate"),r.a.createElement("option",null,"Shipping")))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Rate"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"number",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Amount"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"number",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Max Usage"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"number",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Shipping Cost"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"number",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Start Time"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(Zt.a,{selected:this.state.startDate,onChange:this.handleChange})),r.a.createElement("label",{className:"col-sm-3 form-control-label"},"End Time"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(Zt.a,{selected:this.state.endDate,onChange:this.handleChangeEnd}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Products"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("select",{name:"account",className:"form-control mb-3"},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4")))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Active ",r.a.createElement("br",null)),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",defaultValue:!0,className:"checkbox-template"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4 offset-sm-3"},r.a.createElement("button",{type:"reset",className:"btn btn-secondary",style:{marginRight:2}},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save changes")))))))))),r.a.createElement(g,null))}}]),a}(n.Component)),ea=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement($t,null)}}]),a}(n.Component),ta=a(333),aa=a(334),na=a.n(aa),ra=(a(549),a(339)),ca=Object(zt.css)(wt||(wt=Object(f.a)(["\n  display: block;\n  margin: 0 auto;\n  position: fixed;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 9999;\n"]))),la=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getCurrentDate=function(){var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)},n.handleChangeEditor=function(e){n.setState({desc:e})},n.handleChangeImage=function(e){if(e.target.files[0]){var t=e.target.files[0];n.setState((function(){return{img:t}}))}document.getElementById("output").src=URL.createObjectURL(e.target.files[0])},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleChangeCategory=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({categoryId:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSelecProducer=function(e){var t=e.target.value;n.setState({producerId:t})},n.handleChangeRemoveGallery=function(e){var t=Object(p.a)(n.state.dataGallery);n.setState({dataGallery:t.splice(e,1)})},n.validate=function(){var e=n.state,t=e.nameProduct,a=e.price,r=e.originalPrice,c=e.categoryId,l=e.cost,o={};return t||(o.nameProduct="T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),a||(o.price="Gi\xe1 b\xe1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r||(o.originalPrice="Gi\xe1 g\u1ed1c kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),c||(o.category="Danh m\u1ee5c kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),l||(o.cost="Chi ph\xed kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),n.setState({errors:o}),0===Object.keys(o).length},n.handleSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l,o,i,u,m,d,h,f,p,E,v,g,b,N,y,x,O,k,C,T,D,S,w,j,I,A,_,R,G,P,H,L,F,M;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.validate()){e.next=3;break}return e.abrupt("return");case 3:if(a=n.state,r=a.files,c=a.dataGallery,l=a.nameProduct,o=a.price,i=a.originalPrice,u=a.cost,m=a.numberAvailable,d=a.categoryId,h=a.isActive,f=a.desc,p=a.properties,E=a.producerId,v=a.isHot,g=a.expDate,b=a.productionDate,N=n.state,y=N.image,x=N.img,O=c,n.setState({loading:!0}),null===x||x===y){e.next=11;break}return e.next=10,kt(x);case 10:y=e.sent;case 11:if(!(r.length>0)){e.next=31;break}k=Object(ta.a)(r),e.prev=13,k.s();case 15:if((C=k.n()).done){e.next=23;break}return T=C.value,e.next=19,kt(T);case 19:D=e.sent,O.push(D);case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),k.e(e.t0);case 28:return e.prev=28,k.f(),e.finish(28);case 31:if(S=""===f?null:f,w=""===l?null:l,j=""===y?null:y,I=O&&0===O.length?null:O,A=parseInt(E),_=p==={}?null:p,R=parseInt(m),G=parseInt(d),P=b||"",H=g||"",L=[],I&&I.length&&I.forEach((function(e){"string"===typeof e&&L.push(e)})),It){e.next=49;break}F={isActive:h,isHot:v,nameProduct:w,price:o,originalPrice:i,cost:u,numberAvailable:R,categoryId:G,image:j,gallery:L,description:S,properties:_,producerId:A,productionDate:P,expDate:H},n.props.add_Product(jt,F),n.setState({nameProduct:"",image:"",desc:"",properties:{},dataGallery:L,loading:!1}),e.next=53;break;case 49:return M={isActive:h,isHot:v,nameProduct:w,price:o,originalPrice:i,cost:u,numberAvailable:m,categoryId:d,image:j,gallery:L,description:S,properties:_,producerId:E,productionDate:b,expDate:g},e.next=52,n.props.edit_Product(jt,It,M);case 52:n.setState({loading:!1,redirectToProduct:!0,dataGallery:L});case 53:case"end":return e.stop()}}),e,null,[[13,25,28,31]])})));return function(t){return e.apply(this,arguments)}}(),n.modules={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},n.formats=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],n.onDrop=function(e){var t=[];null!==n.state.dataGallery&&(t=n.state.dataGallery,e&&0!==e.length&&e.forEach((function(e){return t.push(e)}))),It?n.setState({files:e,dataGallery:t}):n.setState({files:e})},n.state={nameProduct:"",price:0,numberAvailable:0,originalPrice:null,cost:null,categoryId:null,desc:"",isActive:!0,image:"",properties:{},producerId:null,redirectToProduct:!1,dataCategories:[],dataProducer:[],img:null,loading:!1,files:[],dataGallery:[],stockQuantity:0,productionDate:"",expDate:"",errors:{}},It=n.props.id,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r,c,l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jt=localStorage.getItem("_auth"),e.next=3,w("categories?limit=100","GET",null,jt);case 3:return n=e.sent,e.next=6,w("producers","GET",null,jt);case 6:if(r=e.sent,this.setState({dataCategories:(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.results)||[],dataProducer:(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.results)||[],productionDate:this.getCurrentDate(),expDate:this.getCurrentDate()}),!It){e.next=13;break}return e.next=11,w("products/".concat(It),"GET",null,jt);case 11:(c=e.sent)&&200===c.status&&(o=JSON.stringify(c.data.properties),this.setState({nameProduct:null===(l=c.data)||void 0===l?void 0:l.nameProduct,price:c.data.price,originalPrice:c.data.originalPrice,cost:c.data.cost,numberAvailable:c.data.numberAvailable,stockQuantity:c.data.stockQuantity,categoryId:c.data.categoryId,desc:c.data.description,isActive:c.data.isActive,isHot:c.data.isHot,image:c.data.image,properties:o,producerId:c.data.producerId,dataGallery:c.data.gallery,productionDate:this.formatDateToDDMMYYYY(c.data.productionDate),expDate:this.formatDateToDDMMYYYY(c.data.expDate)}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"formatDateToDDMMYYYY",value:function(e){var t=new Date(e),a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(r)}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.dataGallery,c=a.nameProduct,l=a.loading,o=a.price,s=a.originalPrice,i=a.cost,u=a.numberAvailable,m=a.categoryId,d=a.isActive,h=a.isHot,f=a.image,p=a.desc,E=a.producerId,v=a.redirectToProduct,b=a.dataCategories,N=a.dataProducer,y=a.productionDate,x=a.expDate,O=a.errors;return console.log("============isHot================: ",h),e=n&&0!==(null===n||void 0===n?void 0:n.length)?(n||[]).map((function(e,t){return r.a.createElement("span",{key:t},"string"===typeof e?r.a.createElement("img",{src:e,style:{height:100,width:100},alt:"Image not found"}):e instanceof File?r.a.createElement("img",{src:URL.createObjectURL(e),style:{height:100,width:100},alt:"Image not found"}):r.a.createElement("img",{src:"",style:{height:100,width:100},alt:""}))})):this.state.files.map((function(e){return r.a.createElement("img",{src:URL.createObjectURL(e),style:{height:100,width:100},alt:"notfound"})})),v?r.a.createElement(K.a,{to:"/products"}):r.a.createElement("div",{className:"content-inner"},r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(Wt.a,{css:ca,sizeUnit:"px",size:30,color:"#796aeebd",loading:l})),r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Th\xeam s\u1ea3n ph\u1ea9m"))),r.a.createElement("section",{className:"forms"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"M\xf4 t\u1ea3")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form-horizontal",onSubmit:function(e){return t.handleSubmit(e)}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"T\xean s\u1ea3n ph\u1ea9m"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{name:"nameProduct",onChange:this.handleChange,value:c,type:"text",className:"form-control ".concat(O.nameProduct?"is-invalid":"")}),O.nameProduct&&r.a.createElement("div",{className:"invalid-feedback"},O.nameProduct))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Gi\xe1"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"price",onChange:this.handleChange,value:o,type:"number",className:"form-control ".concat(O.price?"is-invalid":"")}),O.price&&r.a.createElement("div",{className:"invalid-feedback"},O.price)),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"S\u1ed1 l\u01b0\u1ee3ng c\xf3 th\u1ec3 b\xe1n"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"numberAvailable",onChange:this.handleChange,value:u,type:"number",className:"form-control"})),r.a.createElement("div",{className:"line"}),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"Gi\xe1 g\u1ed1c"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"originalPrice",onChange:this.handleChange,value:s,type:"number",className:"form-control ".concat(O.originalPrice?"is-invalid":"")}),O.originalPrice&&r.a.createElement("div",{className:"invalid-feedback"},O.originalPrice)),r.a.createElement("div",{className:"line"}),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"Chi ph\xed"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"cost",onChange:this.handleChange,value:i,type:"number",className:"form-control ".concat(O.cost?"is-invalid":"")}),O.cost&&r.a.createElement("div",{className:"invalid-feedback"},O.cost)),r.a.createElement("div",{className:"line"})),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Ng\xe0y s\u1ea3n xu\u1ea5t"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"productionDate",onChange:this.handleChange,value:y,type:"date",placeholder:"dd/mm/yyyy",className:"form-control ".concat(O.productionDate?"is-invalid":"")}),O.productionDate&&r.a.createElement("div",{className:"invalid-feedback"},O.productionDate)),r.a.createElement("label",{className:"col-sm-3 form-control-label"},"H\u1ea1n s\u1eed d\u1ee5ng"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"expDate",onChange:this.handleChange,value:x,type:"date",placeholder:"dd/mm/yyyy",className:"form-control ".concat(O.expDate?"is-invalid":"")}),O.expDate&&r.a.createElement("div",{className:"invalid-feedback"},O.expDate))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"fileInput",className:"col-sm-3 form-control-label"},"H\xecnh \u1ea3nh"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"file",onChange:this.handleChangeImage,className:"form-control-file"}),r.a.createElement("div",{className:"fix-cart-product"},r.a.createElement("img",{src:f||"http://via.placeholder.com/300x200",id:"output",className:"fix-img-product",alt:"avatar"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"M\xf4 t\u1ea3"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement(na.a,{modules:this.modules,formats:this.formats,value:p,onChange:this.handleChangeEditor}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"S\u1ea3n ph\u1ea9m HOT",r.a.createElement("br",null)),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",onChange:this.handleChange,name:"isHot",checked:h,className:"checkbox-template"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Tr\u1ea1ng th\xe1i",r.a.createElement("br",null)),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",onChange:this.handleChange,name:"isActive",checked:d,className:"checkbox-template"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Th\u1ec3 lo\u1ea1i"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",null,r.a.createElement("select",{name:"category",onChange:this.handleChangeCategory,value:m,className:"form-control ".concat(O.category?"is-invalid":"")},r.a.createElement("option",{value:""},"Ch\u1ecdn danh m\u1ee5c"),Array.isArray(b)?b.map((function(e){return r.a.createElement("option",{key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.nameCategory)})):[]),O.category&&r.a.createElement("div",{className:"invalid-feedback"},O.category)))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Nh\xe0 s\u1ea3n xu\u1ea5t"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("select",{className:"form-control mb-3",name:"producer",value:E,onChange:this.handleChangeSelecProducer},r.a.createElement("option",{value:""},"Ch\u1ecdn nh\xe0 s\u1ea3n xu\u1ea5t"),Array.isArray(N)?N.map((function(e){return r.a.createElement("option",{key:null===e||void 0===e?void 0:e.id,value:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.name)})):[]))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label pt-50"},"Th\u01b0 vi\u1ec7n \u1ea3nh"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement(ra.a,{onDrop:this.onDrop},(function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement("section",{className:"container",style:{border:"1px dotted"}},r.a.createElement("div",a({className:"dropzone"}),r.a.createElement("input",n()),r.a.createElement("h2",null,"T\u1ea3i danh s\xe1ch h\xecnh \u1ea3nh t\u1ea1i \u0111\xe2y!")),r.a.createElement("aside",null,r.a.createElement("div",null,e)))})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4 offset-sm-3"},r.a.createElement("button",{type:"reset",className:"btn btn-secondary",style:{marginRight:2}},"Hu\u1ef7 b\u1ecf"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"L\u01b0u thay \u0111\u1ed5i")))))))))),r.a.createElement(g,null))}}]),a}(n.Component),oa=Object(R.b)(null,(function(e){return{add_Product:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("products","POST",t,e);case 2:(r=a.sent)&&200===r.status&&(O.b.success("Th\xeam s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng"),n(Qe(r.data)));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},get_Product:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("products/".concat(t),"GET",null,e);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},edit_Product:function(t,a,n){e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("products/".concat(t),"PUT",a,e);case 2:(c=n.sent)&&200===c.status&&(O.b.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),r(Ke(c.data)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(la),sa=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props.match;return t&&(e=t.params.id),r.a.createElement(oa,{id:e})}}]),a}(n.Component),ia=Object(zt.css)(At||(At=Object(f.a)(["\n  display: block;\n  margin: 0 auto;\n  position: fixed;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 9999;\n"]))),ua=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChangeImage=function(e){if(e.target.files[0]){var t=e.target.files[0];n.setState((function(){return{img:t}}))}document.getElementById("output").src=URL.createObjectURL(e.target.files[0])},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?(null===t||void 0===t?void 0:t.checked)||null:t.value||null,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l,o,i,u,m,d,h,f,p,E;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.validate()){e.next=3;break}return e.abrupt("return");case 3:if(a=n.state,r=a.name,c=a.desc,l=a.parent,o=n.state,i=o.img,u=o.image,n.setState({loading:!0}),null===i||i===u){e.next=10;break}return e.next=9,kt(i);case 9:u=e.sent;case 10:if(m=""===u?null:u,d=""===c?null:c,h=""===r?null:r,f=null,l&&(f=+l),Rt){e.next=22;break}return p={isActive:!0,nameCategory:h,description:d,image:m,parent:f},e.next=19,n.props.add_category(_t,p);case 19:n.setState({name:"",desc:"",parent:null,loading:!1,redirectToCategory:!0}),e.next=26;break;case 22:return E={isActive:!0,nameCategory:h,description:d,image:m,parent:f},e.next=25,n.props.edit_category(_t,Rt,E);case 25:n.setState({loading:!1,redirectToCategory:!0});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.validate=function(){var e={};return n.state.name||(e.name="T\xean th\u1ec3 lo\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),n.setState({errors:e}),0===Object.keys(e).length},n.state={name:"",desc:"",image:"",redirectToCategory:!1,img:null,loading:!1,parent:null,categories:[],errors:{}},Rt=n.props.id,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _t=localStorage.getItem("_auth"),e.next=3,w("categories?limit=100","GET",_t);case 3:if(a=e.sent,this.setState({categories:(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.results)||[]}),!Rt){e.next=10;break}return e.next=8,w("categories/".concat(Rt),"GET",null,_t);case 8:n=e.sent,this.setState({name:n.data.nameCategory,desc:n.data.description,image:n.data.image,parent:n.data.parent});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.state,n=a.name,c=a.desc,l=a.redirectToCategory,o=a.loading,s=a.image,i=a.parent,u=a.errors,m=(null===(e=this.state)||void 0===e?void 0:e.categories)||[];return l?r.a.createElement(K.a,{to:"/categories"}):r.a.createElement("div",{className:"content-inner"},r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(Wt.a,{css:ia,sizeUnit:"px",size:30,color:"#796aeebd",loading:o})),r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Th\u1ec3 lo\u1ea1i"))),r.a.createElement("section",{className:"forms"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"M\xf4 t\u1ea3")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form-horizontal",onSubmit:function(e){return t.handleSubmit(e)}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"T\xean th\u1ec3 lo\u1ea1i"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{name:"name",onChange:this.handleChange,value:n,type:"text",className:"form-control ".concat((null===u||void 0===u?void 0:u.name)?"is-invalid":"")}),(null===u||void 0===u?void 0:u.name)&&r.a.createElement("div",{className:"invalid-feedback"},u.name))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Thu\u1ed9c th\u1ec3 lo\u1ea1i"),r.a.createElement("div",null,r.a.createElement("select",{name:"parent",onChange:this.handleChange,value:i||"",className:"form-control"},r.a.createElement("option",{value:""},"Ch\u1ecdn danh m\u1ee5c"),Array.isArray(m)?m.map((function(e){return r.a.createElement("option",{key:null===e||void 0===e?void 0:e.id,value:(null===e||void 0===e?void 0:e.id)||null},null===e||void 0===e?void 0:e.nameCategory)})):[]))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"M\xf4 t\u1ea3"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{name:"desc",onChange:this.handleChange,value:c,type:"text",placeholder:"Note",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"fileInput",className:"col-sm-3 form-control-label"},"H\xecnh \u1ea3nh"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"file",onChange:this.handleChangeImage,className:"form-control-file"}),r.a.createElement("div",{className:"fix-cart"},r.a.createElement("img",{src:s||"http://via.placeholder.com/400x300",id:"output",className:"fix-img",alt:"avatar"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4 offset-sm-3"},r.a.createElement("button",{type:"reset",className:"btn btn-secondary",style:{marginRight:2}},"H\u1ee7y b\u1ecf"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"L\u01b0u thay \u0111\u1ed5i")))))))))),r.a.createElement(g,null))}}]),a}(n.Component),ma=Object(R.b)(null,(function(e){return{add_category:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("categories","POST",t,e);case 2:(r=a.sent)&&200===r.status&&(O.b.success("Th\xeam danh m\u1ee5c th\xe0nh c\xf4ng"),n(Ue(r.data)));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},get_category:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("categories/".concat(t),"GET",null,e);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},edit_category:function(t,a,n){e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("categories/".concat(t),"PUT",a,e);case 2:(c=n.sent)&&200===c.status&&(O.b.success("S\u1eeda danh m\u1ee5c th\xe0nh c\xf4ng"),r(Be(c.data)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(ua),da=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props.match;return t&&(e=t.params.id),r.a.createElement(ma,{id:e})}}]),a}(n.Component),ha=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.validate=function(){var e=n.state,t=e.fullName,a=e.address,r=e.userId,c=e.phone,l={};return t||(l.fullName="H\u1ecd t\xean kh\xe1ch h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),a||(l.address="\u0110\u1ecba ch\u1ec9 giao h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r||(l.user="Kh\xe1ch h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),c||(l.phone="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),n.setState({errors:l}),0===Object.keys(l).length},n.handleSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l,o,i,u,m,d,h,f,p,E,v,g,b,N,y,x,O,k,C,T,D,S,w,j,I,A;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.validate()){e.next=3;break}return e.abrupt("return");case 3:if(a=n.state,r=a.fullName,c=a.address,l=a.phone,o=a.isPaid,i=a.paymentMethod,u=a.status,m=a.note,d=a.states,h=a.provinces,f=a.provinceData,p=a.stateData,E=a.wards,v=a.wardData,g=a.dataOrderDetails,b=a.userId,h&&h.length&&h.map((function(e){return e.code===f?N=e.name:{message:"error"}})),d&&d.length&&d.map((function(e){return e.code===p?y=e.name:{message:"error"}})),E&&E.length&&E.map((function(e){return e.code===v?x=e.name:{message:"error"}})),O={province:N,state:y,house:c,codeProvince:f,codeState:p,ward:x,codeWard:v},k=""===r?null:r,C=""===c?null:O,T=""===l?null:l,D=""===m?null:m,S=""===b?null:+b,w=""===i?null:i,Pt){e.next=21;break}j=g.map((function(e){return{quantity:(null===e||void 0===e?void 0:e.quantity)||1,productId:e.id}})),I={fullName:k,address:C,note:D,phone:T,isPaid:o,userId:S,paymentMethod:w,status:u,products:j},n.props.add_order(Gt,I),n.setState({fullName:"",address:"",note:"",phone:"",itemAmount:0,promoTotal:0,shippingTotal:0,totalAmount:0,isPaid:o,paymentMethod:"COD",status:"Unconfirm",dataOrderDetails:[],userId:null}),e.next=25;break;case 21:return A={fullName:k,address:C,note:D,phone:T,isPaid:o,paymentMethod:i,status:u,userId:b},e.next=24,n.props.edit_order(Gt,Pt,A);case 24:n.setState({redirectToOrder:!0});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.sumTotal=function(e,t,a){var n=t||0,r=a||0,c=parseInt(e||0)+parseInt(n)-parseInt(r);return c<0?O.b.error("S\u1ed1 l\u01b0\u1ee3ng kh\xf4ng th\u1ec3 nh\u1ecf h\u01a1n 0"):c},n.handleChangeSelectProvince=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="checkbox"===t.target.type?t.target.checked:t.target.value,e.next=3,w("provinces/".concat(a,"/states"),"GET",null);case 3:return r=e.sent,e.next=6,w("provinces/".concat(r.data[0].code,"/wards"),"GET",null);case 6:c=e.sent,n.setState({states:r.data,provinceData:a,stateData:r.data[0].code,wardData:c.data[0].code,wards:c.data});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSelectState=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="checkbox"===t.target.type?t.target.checked:t.target.value,e.next=3,w("provinces/".concat(a,"/wards"),"GET",null);case 3:r=e.sent,n.setState({stateData:a,wardData:r.data[0].code,wards:r.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeSelectWard=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;n.setState({wardData:t})},n.handleAddProduct=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l,o,i,u,m,d,h,f,E,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state,r=a.product,c=a.dataOrderDetails,l=a.userId,o=Object(Ce.a)(Object(Ce.a)({},r),{},{quantity:1}),i=[].concat(Object(p.a)(c),[o]),u=null===i||void 0===i?void 0:i.map((function(e){return{productId:e.id,quantity:e.quantity}})),e.next=7,w("orders/checkout","POST",{products:u,userId:l});case 7:m=e.sent,console.log("===============userId===================: ",l),(d=null===m||void 0===m?void 0:m.data)&&(h=d.totalAmount,f=d.shippingTotal,E=d.promoTotal,v=d.itemAmount,n.setState({dataOrderDetails:i,totalAmount:h,shippingTotal:f,promoTotal:E,itemAmount:v}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleRemoveProduct=function(e){n.setState((function(t){return{dataOrderDetails:t.dataOrderDetails.filter((function(t,a){return a!==e}))}}))},n.handleSelectProduct=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,r=n.state.products.find((function(e){return e.id==a})),c=n.state.products.filter((function(e){return e.id!==a})),l=[r].concat(Object(p.a)(c)),n.setState({product:r,products:l});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleQuantityChange=function(){var e=Object(i.a)(s.a.mark((function e(t,a){var r,c,l,o,i,u,m,d,h,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.value,c=n.state.dataOrderDetails,l=c.map((function(e){return e.id==a?Object(Ce.a)(Object(Ce.a)({},e),{},{quantity:+r}):e})),o=(l||[]).map((function(e){return{productId:null===e||void 0===e?void 0:e.id,quantity:(null===e||void 0===e?void 0:e.quantity)||1}})),e.next=6,w("orders/checkout","POST",{products:o});case 6:i=e.sent,u=null===i||void 0===i?void 0:i.data,m=(null===u||void 0===u?void 0:u.totalAmount)||0,d=(null===u||void 0===u?void 0:u.shippingTotal)||0,h=(null===u||void 0===u?void 0:u.promoTotal)||0,f=(null===u||void 0===u?void 0:u.itemAmount)||0,n.setState((function(e){return{quantity:Object(Ce.a)(Object(Ce.a)({},e.quantity),{},Object(Q.a)({},a,r))}})),n.setState({dataOrderDetails:l,totalAmount:m,shippingTotal:d,promoTotal:h,itemAmount:f});case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleChangeSelectUser=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,r=n.state.users.find((function(e){return e.id==a})),c=n.state.users.filter((function(e){return e.id!==a})),n.setState({userId:a,users:[r].concat(Object(p.a)(c))});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeStatus=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({status:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={fullName:"",address:"",note:null,phone:"",totalAmount:0,itemAmount:0,promoTotal:0,shippingTotal:0,paypalCode:"",status:"Unconfirm",isPaid:!1,code:0,redirectToOrder:!1,provinceData:"01",stateData:"001",wardData:"00001",provinces:null,states:null,wards:null,dataOrderDetails:[],products:[],product:null,users:[],userId:null,paymentMethod:"COD"},Pt=n.props.id,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r,c,l,o,i,u,m,d,h,f,v,g,b,N,y,x,O;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gt=localStorage.getItem("_auth"),e.next=3,w("provinces","GET",null);case 3:return t=e.sent,e.next=6,w("products","GET",null);case 6:return a=e.sent,e.next=9,w("users","GET",null,Gt);case 9:if(n=e.sent,!Pt){e.next=26;break}return e.next=13,w("orders/".concat(Pt),"GET",null,Gt);case 13:return l=e.sent,e.next=16,Promise.all([w("provinces/".concat(l.data.address.codeProvince,"/states"),"GET",null),w("provinces/".concat(l.data.address.codeState,"/wards"),"GET",null),w("order/".concat(Pt,"/orderDetails"),"GET",null,Gt)]);case 16:o=e.sent,i=Object(E.a)(o,3),u=i[0],m=i[1],d=i[2],h=n.data.results.find((function(e){return e.id==l.data.userId})),f=n.data.results.filter((function(e){return e.id!==l.data.userId})),this.setState({provinces:t.data,products:null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.results,product:(null===a||void 0===a||null===(c=a.data)||void 0===c?void 0:c.results[0])||null,states:u.data,fullName:l.data.fullName,address:l.data.address.house,provinceData:l.data.address.codeProvince,stateData:l.data.address.codeState,wardData:l.data.address.codeWard,wards:m.data,note:l.data.note,phone:l.data.phone,totalAmount:l.data.totalAmount,itemAmount:l.data.itemAmount,promoTotal:l.data.promoTotal,shippingTotal:l.data.shippingTotal,paymentMethod:l.data.paymentMethod,status:l.data.status,isPaid:l.data.isPaid,code:l.data.id,dataOrderDetails:d.data.results,users:[h].concat(Object(p.a)(f)),userId:l.data.userId}),e.next=33;break;case 26:return e.next=28,w("provinces/01/states","GET",null);case 28:return x=e.sent,e.next=31,w("provinces/001/wards","GET",null);case 31:O=e.sent,this.setState({provinces:t.data,states:x.data,wards:O.data,products:null===a||void 0===a||null===(v=a.data)||void 0===v?void 0:v.results,product:(null===a||void 0===a||null===(g=a.data)||void 0===g?void 0:g.results[0])||null,quantity:1,quantityProduct:null,users:(null===n||void 0===n||null===(b=n.data)||void 0===b?void 0:b.results)||[],userId:(null===n||void 0===n||null===(N=n.data)||void 0===N||null===(y=N.results[0])||void 0===y?void 0:y.id)||null});case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.dataOrderDetails,n=t.provinces,c=t.states,l=t.wards,o=t.wardData,s=t.provinceData,i=t.stateData,u=t.fullName,m=t.address,d=t.note,h=t.code,f=t.phone,p=t.totalAmount,E=t.promoTotal,v=t.shippingTotal,b=t.itemAmount,N=t.paymentMethod,y=t.isPaid,x=t.products,O=t.status,k=t.redirectToOrder,C=t.users,T=t.errors,D=0;return a.length>0&&(D=a.reduce((function(e,t){return e+t.quantity*t.price}),0)),k?r.a.createElement(K.a,{to:"/orders"}):r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"\u0110\u01a1n h\xe0ng"))),r.a.createElement("section",{className:"forms"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"M\xf4 t\u1ea3")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form-horizontal",onSubmit:function(t){return e.handleSubmit(t)}},Pt?r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"M\xe3 \u0111\u01a1n h\xe0ng"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{disabled:!0,value:h,type:"text",className:"form-control"})),r.a.createElement("div",{className:"line"})):null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Ng\u01b0\u1eddi d\xf9ng"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("select",{name:"users",value:C,onChange:this.handleChangeSelectUser,className:"form-control mb-3 ".concat((null===T||void 0===T?void 0:T.userId)?"is-invalid":"")},C&&C.length?C.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.id," - ",e.name)})):null),(null===T||void 0===T?void 0:T.userId)&&r.a.createElement("div",{className:"invalid-feedback"},null===T||void 0===T?void 0:T.userId))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"T\xean ng\u01b0\u1eddi nh\u1eadn"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"text",name:"fullName",value:u,onChange:this.handleChange,className:"form-control ".concat((null===T||void 0===T?void 0:T.fullName)?"is-invalid":"")}),(null===T||void 0===T?void 0:T.fullName)&&r.a.createElement("div",{className:"invalid-feedback"},null===T||void 0===T?void 0:T.fullName))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"T\u1ec9nh/Th\xe0nh ph\u1ed1"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("select",{name:"provinces",value:s,onChange:this.handleChangeSelectProvince,className:"form-control mb-3"},n&&n.length?n.map((function(e,t){return r.a.createElement("option",{key:t,value:e.code},e.name)})):null)),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"Qu\u1eadn/huy\u1ec7n"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("select",{name:"state",value:i,onChange:this.handleChangeSelectState,className:"form-control mb-3"},c&&c.length?c.map((function(e,t){return r.a.createElement("option",{key:t,value:e.code},e.name)})):null)),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"Ph\u01b0\u1eddng/x\xe3"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("select",{name:"ward",value:o,onChange:this.handleChangeSelectWard,className:"form-control mb-3"},Array.isArray(l)?l.map((function(e,t){return r.a.createElement("option",{key:t,value:e.code},e.name)})):null))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"\u0110\u1ecba ch\u1ec9 nh\xe0"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"address",value:m,onChange:this.handleChange,type:"text",className:"form-control ".concat((null===T||void 0===T?void 0:T.address)?"is-invalid":"")}),(null===T||void 0===T?void 0:T.address)&&r.a.createElement("div",{className:"invalid-feedback"},null===T||void 0===T?void 0:T.address)),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"phone",value:f,onChange:this.handleChange,type:"text",className:"form-control ".concat((null===T||void 0===T?void 0:T.phone)?"is-invalid":"")}),(null===T||void 0===T?void 0:T.phone)&&r.a.createElement("div",{className:"invalid-feedback"},null===T||void 0===T?void 0:T.phone))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Ghi ch\xfa"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("textarea",{name:"note",value:d,onChange:this.handleChange,type:"text",rows:3,className:"form-control"}))),r.a.createElement("div",{className:"line"}),!Pt&&r.a.createElement("div",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{paddingTop:50}},"Ch\u1ecdn s\u1ea3n ph\u1ea9m"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("select",{name:"products",value:x,onChange:this.handleSelectProduct,className:"form-control mb-3"},x&&x.length?x.map((function(e,t){return r.a.createElement("option",{key:t,value:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.id," - ",null===e||void 0===e?void 0:e.nameProduct)})):null)),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleAddProduct},"Th\xeam s\u1ea3n ph\u1ea9m"))),r.a.createElement("div",null,r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{paddingTop:50}},"S\u1ea3n ph\u1ea9m"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"T\xean s\u1ea3n ph\u1ea9m"),r.a.createElement("th",null,"\u1ea2nh"),r.a.createElement("th",null,"S\u1ed1 l\u01b0\u1ee3ng"),r.a.createElement("th",null,"Gi\xe1"),Pt?null:r.a.createElement("th",null))),r.a.createElement("tbody",null,a&&a.length?a.map((function(t,a){var n,c,l;return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,null===t||void 0===t?void 0:t.nameProduct),r.a.createElement("td",null,r.a.createElement("div",{className:"fix-cart"},r.a.createElement("img",{src:t&&t.product?null===t||void 0===t||null===(n=t.product)||void 0===n?void 0:n.image:null===t||void 0===t?void 0:t.image,className:"fix-img",alt:"not found"}))),!Pt&&(null===t||void 0===t?void 0:t.id)?r.a.createElement("input",{type:"number",name:"quantity",value:(null===(c=e.state)||void 0===c?void 0:c.quantity[null===t||void 0===t?void 0:t.id])||(null===t||void 0===t?void 0:t.quantity)||1,onChange:function(a){return e.handleQuantityChange(a,t.id)},min:"1",className:"form-control"}):r.a.createElement("td",null,(null===t||void 0===t?void 0:t.quantity)||(null===t||void 0===t||null===(l=t.product)||void 0===l?void 0:l.quantity)),r.a.createElement("td",null,(null===t||void 0===t?void 0:t.quantity)*(null===t||void 0===t?void 0:t.price)),r.a.createElement("td",{style:{cursor:"pointer",color:"red",fontWeight:"bold",textAlign:"center"},onClick:function(){return e.handleRemoveProduct(a)}},"X"))})):null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("b",{style:{fontSize:16}},"T\u1ed5ng s\u1ea3n ph\u1ea9m"," ")),r.a.createElement("td",null,r.a.createElement("b",{style:{fontSize:16}},D," VND")))))))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Ti\u1ec1n s\u1ea3n ph\u1ea9m"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"itemAmount",disabled:!0,value:b,onChange:this.handleChange,type:"number",className:"form-control"})),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"Ph\xed v\u1eadn chuy\u1ec3n"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"shippingTotal",disabled:!0,value:v,onChange:this.handleChange,type:"number",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"T\u1ed5ng gi\u1ea3m gi\xe1"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{name:"shippingTotal",disabled:!0,value:E,onChange:this.handleChange,type:"number",className:"form-control"})),r.a.createElement("label",{className:"col-sm-3 form-control-label",style:{textAlign:"center"}},"T\u1ed5ng ti\u1ec1n"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{disabled:!0,name:"totalAmount",value:p,onChange:this.handleChange,type:"number",className:"form-control"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Tr\u1ea1ng th\xe1i"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("select",{className:"form-control mb-3",name:"status",value:O,onChange:this.handleChangeStatus},r.a.createElement("option",{value:"Unconfirm"},"Ch\u01b0a x\xe1c nh\u1eadn"),r.a.createElement("option",{value:"Confirm"},"\u0110\xe3 x\xe1c nh\u1eadn"),r.a.createElement("option",{value:"Shipping"},"\u0110ang giao h\xe0ng"),r.a.createElement("option",{value:"Complete"},"Ho\xe0n th\xe0nh"),r.a.createElement("option",{value:"Canceled"},"H\u1ee7y b\u1ecf")))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Tr\u1ea3 ti\u1ec1n"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",onChange:this.handleChange,name:"isPaid",checked:y,className:"checkbox-template"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label3"},"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("select",{className:"form-control mb-3",name:"paymentMethod",value:N,onChange:this.handleChange},r.a.createElement("option",{value:"COD"},"Thanh to\xe1n khi nh\u1eadn h\xe0ng"),r.a.createElement("option",{value:"VNPAY"},"Thanh to\xe1n qua VNPay"))))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4 offset-sm-3"},r.a.createElement("button",{type:"reset",className:"btn btn-secondary",style:{marginRight:2}},"Hu\u1ef7 b\u1ecf"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"L\u01b0u thay \u0111\u1ed5i")))))))))),r.a.createElement(g,null))}}]),a}(n.Component),fa=Object(R.b)(null,(function(e){return{add_order:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("orders","POST",t,e);case 2:(r=a.sent)&&200===r.status&&(O.b.success("Th\xeam \u0111\u01a1n h\xe0ng th\xe0nh c\xf4ng"),n(we(r.data)));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},get_order:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("orders/".concat(t),"GET",null,e);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},edit_order:function(t,a,n){e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("orders/".concat(t),"PUT",a,e);case 2:(c=n.sent)&&200===c.status&&(O.b.success("S\u1eeda th\xe0nh c\xf4ng"),r(je(c.data)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(ha),pa=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props.match;return t&&(e=t.params.id),r.a.createElement(fa,{id:e})}}]),a}(n.Component),Ea=(a(550),function(e){return{type:"FETCH_PRODUCERS",producers:e}}),va=function(e){return{type:"FIND_PRODUCERS",producers:e}},ga=function(e){return{type:"REMOVE_PRODUCER",id:e}},ba=function(e){return{type:"ADD_PRODUCER",data:e}},Na=function(e){return{type:"EDIT_PRODUCER",data:e}},ya=D()(C.a),xa=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){ya.fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!a.value){t.next=10;break}return t.next=4,n.props.delete_producer(e,Ht);case 4:if(null===(r=t.sent)||void 0===r?void 0:r.success){t.next=8;break}return O.b.error((null===r||void 0===r?void 0:r.message)||"X\xf3a nh\xe0 cung c\u1ea5p kh\xf4ng th\xe0nh c\xf4ng"),t.abrupt("return");case 8:C.a.fire("X\xf3a th\xe0nh c\xf4ng","D\u1eef li\u1ec7u \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a.","success"),n.fetch_reload_data();case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("Error deleting category: ",t.t0),O.b.error("\u0110\xe3 x\u1ea3y ra l\u1ed7i khi x\xf3a nh\xe0 cung c\u1ea5p.");case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}())},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state.searchText;n.props.find_producers(Ht,t).then((function(e){n.setState({total:e.total})}))},n.downloadExcel=function(){ge("producers")},n.state={searchText:"",total:0,currentPage:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetch_reload_data()}},{key:"fetch_reload_data",value:function(){var e=this;Ht=localStorage.getItem("_auth"),this.props.fetch_producers(Ht).then((function(t){e.setState({total:t.total,producers:t.results})})).catch((function(e){console.log(e)}))}},{key:"pageChange",value:function(e){var t=10*(e-1);this.props.fetch_producers(Ht,t),this.setState({currentPage:e}),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.state.producers,a=this.state,n=a.searchText,c=a.total;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Nh\xe0 cung c\u1ea5p"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(de.b,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Nh\xe0 cung c\u1ea5p"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("button",{onClick:this.downloadExcel,style:{border:0,background:"green",borderRadius:3}},r.a.createElement("h3",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"white",padding:"5px 6px"}}," ","Xu\u1ea5t Excel"))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("input",{name:"searchText",onChange:this.handleChange,value:n,className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{style:{border:1,background:"green",color:"white"}}," ",r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}))),r.a.createElement(de.b,{to:"/producers/add",className:"btn btn-primary"}," ","Th\xeam nh\xe0 cung c\u1ea5p")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"M\xe3 nh\xe0 cung c\u1ea5p"),r.a.createElement("th",null,"T\xean nh\xe0 cung c\u1ea5p"),r.a.createElement("th",null,"H\xecnh \u1ea3nh"),r.a.createElement("th",null,"Th\u1ec3 lo\u1ea1i"),r.a.createElement("th",{style:{textAlign:"center"}},"Tr\u1ea1ng th\xe1i"),r.a.createElement("th",{style:{textAlign:"center"}}))),r.a.createElement("tbody",null,t&&t.length?t.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",{className:"fix-cart"},r.a.createElement("img",{src:t&&t.image?t.image:null,className:"fix-img",alt:"not found"}))),r.a.createElement("td",null,t.categories?t.categories.nameCategory:null),r.a.createElement("td",{style:{textAlign:"center"}},t.isActive?r.a.createElement("div",{className:"i-checks"},r.a.createElement("p",null,"\u0110ang ho\u1ea1t \u0111\u1ed9ng")):r.a.createElement("div",{className:"i-checks"},r.a.createElement("p",null,"Ng\u1eebng ho\u1ea1t \u0111\u1ed9ng"))),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("span",{title:"Edit",className:"fix-action"},r.a.createElement(de.b,{to:"producers/edit/".concat(t.id)}," ",r.a.createElement("i",{className:"fa fa-edit"}))),r.a.createElement("span",{title:"Delete",onClick:function(){return e.handleRemove(t.id)},className:"fix-action"},r.a.createElement(de.b,{to:"#"}," ",r.a.createElement("i",{className:"fa fa-trash",style:{color:"#ff00008f"}}))))))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement(Ne.a,{pageSize:10,totalElements:c,onPageChangeCallback:function(t){e.pageChange(t)}}))))))),r.a.createElement(g,null))}}]),a}(n.Component),Oa=Object(R.b)((function(e){return{producers:e.producers}}),(function(e){return{fetch_producers:function(t,a){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){w("producers?limit=".concat(10,"&offset=").concat(a),"GET",null,e).then((function(e){e&&200===e.status&&(t(Ea(e.data.results)),n(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))},delete_producer:function(t,a){return e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("producers/".concat(e),"DELETE",null,t);case 2:return r=a.sent,n(ga(e)),a.abrupt("return",r.data);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},find_producers:function(t,a){return e(function(e,t){return function(a){return a({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){void 0!==t&&null!==t&&""!==t?w("producers?q=".concat(t),"GET",null,e).then((function(e){e&&200===e.status&&(a(va(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)})):w("producers","GET",null,e).then((function(e){e&&200===e.status&&(a(va(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))}}}))(xa),ka=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Oa,null)}}]),a}(n.Component),Ca=Object(zt.css)(Lt||(Lt=Object(f.a)(["\n  display: block;\n  margin: 0 auto;\n  position: fixed;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 9999;\n"]))),Ta=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChangeImage=function(e){if(e.target.files[0]){var t=e.target.files[0];n.setState((function(){return{img:t}}))}document.getElementById("output").src=URL.createObjectURL(e.target.files[0])},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.validate=function(){var e={};return n.state.name||(e.name="T\xean th\u1ec3 nh\xe0 cung c\u1ea5p"),n.setState({errors:e}),0===Object.keys(e).length},n.handleSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,c,l,o,i,u,m,d,h,f,p,E,v,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.validate()){e.next=3;break}return e.abrupt("return");case 3:if(a=n.state,r=a.isActive,c=a.name,l=a.desc,o=a.address,i=a.categoryId,u=n.state,m=u.img,d=u.image,n.setState({loading:!0}),null===m||m===d){e.next=10;break}return e.next=9,kt(m);case 9:d=e.sent;case 10:if(h=""===l?null:l,f=""===c?null:c,p=""===o?null:o,E=""===d?null:d,Mt){e.next=20;break}v={isActive:r,name:f,description:h,address:p,categoryId:i,image:E},n.props.add_Producer(Ft,v),n.setState({name:"",desc:"",address:""}),e.next=24;break;case 20:return g={isActive:r,name:f,description:h,address:p,categoryId:i,image:E},e.next=23,n.props.edit_Producer(Ft,Mt,g);case 23:n.setState({redirectToProducer:!0});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={isActive:!0,name:"",desc:"",address:"",image:"",categoryId:0,dataCategories:[],redirectToProducer:!1,img:null,loading:!1,errors:{}},Mt=n.props.id,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ft=localStorage.getItem("_auth"),e.next=3,w("categories","GET",null,Ft);case 3:if(t=e.sent,this.setState({dataCategories:t.data.results}),!Mt){e.next=10;break}return e.next=8,w("producers/".concat(Mt),"GET",null,Ft);case 8:a=e.sent,this.setState({isActive:a.data.isActive,name:a.data.name,desc:a.data.description,address:a.data.address,image:a.data.image,categoryId:a.data.categoryId});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isActive,n=t.name,c=t.desc,l=t.address,o=t.redirectToProducer,s=t.dataCategories,i=t.categoryId,u=t.loading,m=t.image,d=t.errors;return o?r.a.createElement(K.a,{to:"/producers"}):r.a.createElement("div",{className:"content-inner"},r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(Wt.a,{css:Ca,sizeUnit:"px",size:30,color:"#796aeebd",loading:u})),r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Nh\xe0 cung c\u1ea5p"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"index.html"},"Trang ch\u1ee7")),r.a.createElement("li",{className:"breadcrumb-item active"},"Nh\xe0 cung c\u1ea5p"))),r.a.createElement("section",{className:"forms"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("h3",{className:"h4"},"M\xf4 t\u1ea3")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form-horizontal",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"T\xean nh\xe0 cung c\u1ea5p"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{name:"name",onChange:this.handleChange,value:n,type:"text",className:"form-control ".concat(d.name?"is-invalid":"")}),d.name&&r.a.createElement("div",{className:"invalid-feedback"},d.name))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"M\xf4 t\u1ea3"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{name:"desc",onChange:this.handleChange,value:c,type:"text",placeholder:"Note",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"\u0110\u1ecba ch\u1ec9"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{name:"address",onChange:this.handleChange,value:l,type:"text",placeholder:"Note",className:"form-control"}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Th\u1ec3 lo\u1ea1i"),r.a.createElement("div",{className:"col-sm-9"},s&&s.length?s.map((function(t,a){return r.a.createElement("div",{key:a,className:"i-checks",style:{display:"inline-block",paddingRight:35}},t.id===i?r.a.createElement("input",{id:a,name:"categoryId",checked:!0,value:i,onChange:e.handleChange,type:"radio",className:"radio-template"}):r.a.createElement("input",{id:a,name:"categoryId",value:i,onChange:e.handleChange,type:"radio",className:"radio-template"}),r.a.createElement("label",null,t.nameCategory))})):null)),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"fileInput",className:"col-sm-3 form-control-label"},"H\xecnh \u1ea3nh"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("input",{type:"file",onChange:this.handleChangeImage,className:"form-control-file"}),r.a.createElement("div",{className:"fix-cart"},r.a.createElement("img",{src:m||"http://via.placeholder.com/400x300",id:"output",className:"fix-img",alt:"avatar"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 form-control-label"},"Tr\u1ea1ng th\xe1i"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",{className:"i-checks"},r.a.createElement("input",{type:"checkbox",onChange:this.handleChange,name:"isActive",checked:a,className:"checkbox-template"}),r.a.createElement("label",{htmlFor:"checkboxCustom1"})))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4 offset-sm-3"},r.a.createElement("button",{type:"reset",className:"btn btn-secondary",style:{marginRight:2}},"H\u1ee7y b\u1ecf"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"L\u01b0u thay \u0111\u1ed5i")))))))))),r.a.createElement(g,null))}}]),a}(n.Component),Da=Object(R.b)(null,(function(e){return{add_Producer:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("producers","POST",t,e);case 2:(r=a.sent)&&200===r.status&&(O.b.success("Th\xeam nh\xe0 cung c\u1ea5p th\xe0nh c\xf4ng"),n(ba(r.data)));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},get_Producer:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("producers/".concat(t),"GET",null,e);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},edit_Producer:function(t,a,n){e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("producers/".concat(t),"PUT",a,e);case 2:(c=n.sent)&&200===c.status&&(O.b.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),r(Na(c.data)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(Ta),Sa=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props.match;return t&&(e=t.params.id),r.a.createElement(Da,{id:e})}}]),a}(n.Component),wa=a(336),ja=(a(551),function(e){return{type:"FETCH_RATINGS",ratings:e}}),Ia=function(e){return{type:"FIND_RATINGS",ratings:e}},Aa=function(e){return{type:"REMOVE_RATING",id:e}},_a=D()(C.a),Ra=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){_a.fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=4;break}return t.next=3,n.props.delete_rating(e,Ut);case 3:C.a.fire("X\xf3a th\xe0nh c\xf4ng","D\u1eef li\u1ec7u \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a.","success");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state.searchText;n.props.find_ratings(Ut,t).then((function(e){n.setState({total:e.total})}))},n.downloadExcel=function(){ge("ratings")},n.state={searchText:"",total:0,currentPage:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetch_reload_data()}},{key:"fetch_reload_data",value:function(){var e=this;Ut=localStorage.getItem("_auth"),this.props.fetch_rating(Ut).then((function(t){e.setState({total:t.total})})).catch((function(e){console.log(e)}))}},{key:"pageChange",value:function(e){var t=10*(e-1);this.props.fetch_rating(Ut,t),this.setState({currentPage:e}),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.ratings,a=this.state,n=a.searchText,c=a.total;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"\u0110\xe1nh gi\xe1 s\u1ea3n ph\u1ea9m"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(de.b,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"\u0111\xe1nh gi\xe1 s\u1ea3n ph\u1ea9m"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("button",{onClick:this.downloadExcel,style:{border:0,background:"green",borderRadius:3}},r.a.createElement("h3",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"white",padding:"5px 6px"}}," ","Xu\u1ea5t Excel"))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("input",{name:"searchText",onChange:this.handleChange,value:n,className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{style:{border:1,background:"green",color:"white"}}," ",r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"\u0110i\u1ec3m s\u1ed1"),r.a.createElement("th",null,"T\xean s\u1ea3n ph\u1ea9m"),r.a.createElement("th",null,"N\u1ed9i dung"))),r.a.createElement("tbody",null,t&&t.length?t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.user&&e.user.email?e.user.email:""),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement(wa.a,{activeColor:"#ed8a19",inactiveColor:"#c1c1c1",value:e.point,editable:!1,size:15})),r.a.createElement("td",null,e.products.nameProduct),r.a.createElement("td",null," ",r.a.createElement("p",{className:"text-truncate",style:{width:300}},e.content)))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement(Ne.a,{pageSize:10,totalElements:c,onPageChangeCallback:function(t){e.pageChange(t)}}))))))),r.a.createElement(g,null))}}]),a}(n.Component),Ga=Object(R.b)((function(e){return{ratings:e.ratings}}),(function(e){return{fetch_rating:function(t,a){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){w("ratings?limit=".concat(10,"&offset=").concat(a,"&orderBy=-createdAt"),"GET",null,e).then((function(e){t(ja(e.data.results)),n(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)})).catch((function(e){console.log(e),r(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))},delete_rating:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("ratings/".concat(e),"DELETE",null,t);case 2:n(Aa(e));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},find_ratings:function(t,a){return e(function(e,t){return function(a){return a({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){void 0!==t&&null!==t&&""!==t?w("ratings?q=".concat(t),"GET",null,e).then((function(e){e&&200===e.status&&(a(Ia(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)})):w("ratings","GET",null,e).then((function(e){e&&200===e.status&&(a(Ia(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))}}}))(Ra),Pa=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Ga,null)}}]),a}(n.Component),Ha=function(e){return{type:"FETCH_CONTACTS",contacts:e}},La=function(e){return{type:"FIND_CONTACTS",contacts:e}},Fa=function(e){return{type:"REMOVE_CONTACT",id:e}},Ma=(a(552),D()(C.a)),Ua=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){Ma.fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",text:"B\u1ea1n kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=4;break}return t.next=3,n.props.delete_contact(e,Bt);case 3:C.a.fire("X\xf3a th\xe0nh c\xf4ng","D\u1eef li\u1ec7u \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a.","success");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state.searchText;n.props.find_contacts(Bt,t).then((function(e){n.setState({total:e.total})}))},n.downloadExcel=function(){ge("contacts")},n.state={searchText:"",total:0,currentPage:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetch_reload_data()}},{key:"fetch_reload_data",value:function(){var e=this;Bt=localStorage.getItem("_auth"),this.props.fetch_contact(Bt,null).then((function(t){e.setState({total:t.total})})).catch((function(e){console.log(e)}))}},{key:"pageChange",value:function(e){var t=10*(e-1);this.props.fetch_contact(Bt,t),this.setState({currentPage:e}),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.contacts,a=this.state,n=a.searchText,c=a.total;return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Ph\u1ea3n h\u1ed3i c\u1ee7a kh\xe1ch h\xe0ng"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex"},r.a.createElement("button",{onClick:this.downloadExcel,style:{border:0,background:"green",borderRadius:3}},r.a.createElement("h3",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"white",padding:"5px 6px"}}," ","Xu\u1ea5t Excel"))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("input",{name:"searchText",onChange:this.handleChange,value:n,className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{style:{border:1,background:"green",color:"white"}}," ",r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"T\xean kh\xe1ch h\xe0ng"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Ch\u1ee7 \u0111\u1ec1"),r.a.createElement("th",null,"N\u1ed9i dung"),r.a.createElement("th",null,"Th\u1eddi gian"),r.a.createElement("th",{style:{textAlign:"center"}}))),r.a.createElement("tbody",null,t&&t.length?t.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,t&&t.name?t.name:""),r.a.createElement("td",null,t&&t.email?t.email:""),r.a.createElement("td",null,t&&t.subject?t.subject:""),r.a.createElement("td",null," ",r.a.createElement("p",{className:"text-truncate",style:{width:300}},t&&t.message?t.message:"")),r.a.createElement("td",null,t&&t.createdAt?t.createdAt:""),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("span",{title:"Delete",onClick:function(){return e.handleRemove(t.id)},className:"fix-action"},r.a.createElement(de.b,{to:"#"}," ",r.a.createElement("i",{className:"fa fa-trash",style:{color:"#ff00008f"}}))))))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement(Ne.a,{pageSize:10,totalElements:c,onPageChangeCallback:function(t){e.pageChange(t)}}))))))),r.a.createElement(g,null))}}]),a}(n.Component),Ba=Object(R.b)((function(e){return{contacts:e.contacts}}),(function(e){return{fetch_contact:function(t,a){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){w("contacts?limit=".concat(10,"&offset=").concat(a,"&orderBy=-createdAt"),"GET",null,e).then((function(e){e&&200===e.status&&(t(Ha(e.data.results)),n(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))},delete_contact:function(t,a){e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w("contacts/".concat(e),"DELETE",null,t);case 2:n(Fa(e));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},find_contacts:function(t,a){return e(function(e,t){return function(a){return a({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){void 0!==t&&null!==t&&""!==t?w("contacts?q=".concat(t),"GET",null,e).then((function(e){e&&200===e.status&&(a(La(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)})):w("contacts","GET",null,e).then((function(e){e&&200===e.status&&(a(La(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))}}}))(Ua),qa=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Ba,null)}}]),a}(n.Component),za=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"hello")}}]),a}(n.Component),Ya=(a(553),function(e){return{type:"FETCH_TRANSACTIONS",ratings:e}}),Wa=function(e){return{type:"FIND_TRANSACTION",transactions:e}},Va=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state.searchText;n.props.find_transactions(qt,t).then((function(e){n.setState({total:e.total,transactions:(null===e||void 0===e?void 0:e.results)||[]})}))},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(Q.a)({},r,a))},n.downloadExcel=function(){ge("transactions")},n.convertToVietnamTime=function(e){var t=e.substring(0,4),a=e.substring(4,6),n=e.substring(6,8),r=e.substring(8,10),c=e.substring(10,12);return new Date("".concat(t,"-").concat(a,"-").concat(n,"T").concat(r,":").concat(c,":00")).toLocaleString("vi-VN",{timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1})},n.state={searchText:"",total:0,currentPage:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetch_reload_data()}},{key:"fetch_reload_data",value:function(){var e=this;qt=localStorage.getItem("_auth"),this.props.fetch_transaction(qt).then((function(t){e.setState({total:t.total,transactions:t.results})})).catch((function(e){console.log(e)}))}},{key:"pageChange",value:function(e){var t=10*(e-1);this.props.fetch_transaction(qt,t),this.setState({currentPage:e}),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.state.transactions,a=this.state,n=a.searchText,c=a.total,l={"00":"Giao d\u1ecbch th\xe0nh c\xf4ng","07":"Tr\u1eeb ti\u1ec1n th\xe0nh c\xf4ng. Giao d\u1ecbch b\u1ecb nghi ng\u1edd (li\xean quan t\u1edbi l\u1eeba \u0111\u1ea3o, giao d\u1ecbch b\u1ea5t th\u01b0\u1eddng).","09":"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do: Th\u1ebb/T\xe0i kho\u1ea3n c\u1ee7a kh\xe1ch h\xe0ng ch\u01b0a \u0111\u0103ng k\xfd d\u1ecbch v\u1ee5 InternetBanking t\u1ea1i ng\xe2n h\xe0ng.",10:"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do: Kh\xe1ch h\xe0ng x\xe1c th\u1ef1c th\xf4ng tin th\u1ebb/t\xe0i kho\u1ea3n kh\xf4ng \u0111\xfang qu\xe1 3 l\u1ea7n",11:"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do: \u0110\xe3 h\u1ebft h\u1ea1n ch\u1edd thanh to\xe1n. Xin qu\xfd kh\xe1ch vui l\xf2ng th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch.",12:"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do: Th\u1ebb/T\xe0i kho\u1ea3n c\u1ee7a kh\xe1ch h\xe0ng b\u1ecb kh\xf3a.",13:"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do Qu\xfd kh\xe1ch nh\u1eadp sai m\u1eadt kh\u1ea9u x\xe1c th\u1ef1c giao d\u1ecbch (OTP). Xin qu\xfd kh\xe1ch vui l\xf2ng th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch.",24:"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do: Kh\xe1ch h\xe0ng h\u1ee7y giao d\u1ecbch",51:"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do: T\xe0i kho\u1ea3n c\u1ee7a qu\xfd kh\xe1ch kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0 \u0111\u1ec3 th\u1ef1c hi\u1ec7n giao d\u1ecbch.",65:"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do: T\xe0i kho\u1ea3n c\u1ee7a Qu\xfd kh\xe1ch \u0111\xe3 v\u01b0\u1ee3t qu\xe1 h\u1ea1n m\u1ee9c giao d\u1ecbch trong ng\xe0y.",75:"Ng\xe2n h\xe0ng thanh to\xe1n \u0111ang b\u1ea3o tr\xec.",79:"Giao d\u1ecbch kh\xf4ng th\xe0nh c\xf4ng do: KH nh\u1eadp sai m\u1eadt kh\u1ea9u thanh to\xe1n qu\xe1 s\u1ed1 l\u1ea7n quy \u0111\u1ecbnh. Xin qu\xfd kh\xe1ch vui l\xf2ng th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch",99:"C\xe1c l\u1ed7i kh\xe1c (l\u1ed7i c\xf2n l\u1ea1i, kh\xf4ng c\xf3 trong danh s\xe1ch m\xe3 l\u1ed7i \u0111\xe3 li\u1ec7t k\xea)"};return r.a.createElement("div",{className:"content-inner"},r.a.createElement("header",{className:"page-header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"no-margin-bottom"},"Danh s\xe1ch giao d\u1ecbch"))),r.a.createElement("div",{className:"breadcrumb-holder container-fluid"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(de.b,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active"},"Danh s\xe1ch giao d\u1ecbch"))),r.a.createElement("section",{className:"tables pt-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex align-items-center"},r.a.createElement("button",{onClick:this.downloadExcel,style:{border:0,background:"green",borderRadius:3}},r.a.createElement("h3",{className:"fa fa-file-excel-o",style:{fontSize:18,color:"white",padding:"5px 6px"}}," ","Xu\u1ea5t Excel"))),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form-inline md-form form-sm mt-0",style:{justifyContent:"flex-end",paddingTop:5,paddingRight:20}},r.a.createElement("div",null,r.a.createElement("input",{name:"searchText",onChange:this.handleChange,value:n,className:"form-control form-control-sm ml-3 w-75",type:"text",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{style:{border:1,background:"green",color:"white"}}," ",r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"M\xe3 giao d\u1ecbch"),r.a.createElement("th",null,"M\xe3 \u0111\u01a1n h\xe0ng"),r.a.createElement("th",null,"T\u1ed5ng ti\u1ec1n"),r.a.createElement("th",null,"Th\u1eddi gian"),r.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"),r.a.createElement("th",null,"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"))),r.a.createElement("tbody",null,t&&t.length?t.map((function(t,a){var n="00"===(null===t||void 0===t?void 0:t.status)?"green":"red";return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,null===t||void 0===t?void 0:t.transactionCode),r.a.createElement("td",null,null===t||void 0===t?void 0:t.orderId),r.a.createElement("td",null,q.format(null===t||void 0===t?void 0:t.amount)),r.a.createElement("td",null,e.convertToVietnamTime(t.paymentDate)),r.a.createElement("td",{style:{color:n}},l[null===t||void 0===t?void 0:t.status]),r.a.createElement("td",{style:{color:"#00CCFF",fontWeight:"bolder"}},t.type))})):null))))),r.a.createElement("nav",{"aria-label":"Page navigation example",style:{float:"right"}},r.a.createElement("ul",{className:"pagination"},r.a.createElement(Ne.a,{pageSize:10,totalElements:c,onPageChangeCallback:function(t){e.pageChange(t)}}))))))),r.a.createElement(g,null))}}]),a}(n.Component),Xa=Object(R.b)((function(e){return{transactions:e.transactions}}),(function(e){return{fetch_transaction:function(t,a){return e(function(e,t){var a=null===t||void 0===t?0:t;return function(t){return t({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){w("transaction?limit=".concat(10,"&offset=").concat(a,"&orderBy=-createdAt"),"GET",null,e).then((function(e){t(Ya(e.data.results)),n(e.data),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)})).catch((function(e){console.log(e),r(e),setTimeout((function(){t({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))},find_transactions:function(t,a){return e(function(e,t){return function(a){return a({type:"SHOWLOADING",status:!0}),new Promise((function(n,r){void 0!==t&&null!==t&&""!==t?w("transaction?q=".concat(t),"GET",null,e).then((function(e){e&&200===e.status&&(a(Wa(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)})):w("transaction","GET",null,e).then((function(e){e&&200===e.status&&(a(Wa(e.data.results)),n(e.data),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200))})).catch((function(e){console.log(e),r(e),setTimeout((function(){a({type:"HIDDENLOADING",status:!1})}),200)}))}))}}(t,a))}}}))(Va),Ja=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(Xa,null)}}]),a}(n.Component);var Qa,Ka,Za,$a=function(e){var t=e.sendMessage,a=Object(n.useState)(""),c=Object(E.a)(a,2),l=c[0],o=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:l,onChange:function(e){return o(e.target.value)},style:{flex:1},onKeyDown:function(e){"Enter"===e.key&&""!==l.trim()&&(t(l),o(""))},placeholder:"Nh\u1eadp tin nh\u1eafn"}),r.a.createElement("button",{onClick:function(){""!==l.trim()&&(t(l),o(""))},style:{marginLeft:5,width:100},className:"btn btn-primary"},"G\u1eedi"))},en=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(E.a)(l,2),u=o[0],m=o[1],d=Object(n.useState)([]),h=Object(E.a)(d,2),f=h[0],p=h[1],v=Object(n.useState)([]),g=Object(E.a)(v,2),b=g[0],N=g[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("_auth"))){e.next=6;break}return e.next=4,w('users?filter={"role.nameRole": "user"}',"GET",null,t);case 4:200===(null===(a=e.sent)||void 0===a?void 0:a.status)&&N(a.data.results);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=Ot.ref("conversations");return e.on("value",(function(e){var t=e.val(),a=t?Object.keys(t):[];a=(a=a.map((function(e){var a=t[e].messages?Object.values(t[e].messages).slice(-1)[0]:null,n=!1;a&&"admin"!==a.sender&&(t[e].lastMessageIdAdminRead!==Object.keys(t[e].messages).slice(-1)[0]&&(n=!0));return{key:e,unread:n}}))).sort((function(e,a){var n=t[e.key].messages?Object.values(t[e.key].messages).slice(-1)[0].timestamp:0,r=t[a.key].messages?Object.values(t[a.key].messages).slice(-1)[0].timestamp:0;return e.unread&&!a.unread?-1:!e.unread&&a.unread?1:r-n})),c(a)})),function(){return e.off()}}),[]),Object(n.useEffect)((function(){if(u){var e=Ot.ref("conversations/".concat(u,"/messages"));return e.on("value",(function(e){var t=e.val(),a=t?Object.values(t):[],n=Object.values(t).slice(-1)[0];if(n&&"admin"!==n.sender){var r=Object.keys(t).slice(-1)[0];Ot.ref("conversations/".concat(u)).update({lastMessageIdAdminRead:r})}a=a.sort((function(e,t){var a=e.timestamp;return t.timestamp-a})),p(a)})),function(){return e.off()}}}),[u]);var y=Object(n.useCallback)((function(e){var t;if(!e)return"";if("admin"===e)return"B\u1ea1n";var a=e.startsWith("userId-")?e.replace("userId-",""):"";return a&&(null===(t=b.find((function(e){return e.id.toString()===a})))||void 0===t?void 0:t.name)||e}),[b]);return r.a.createElement("div",{style:{display:"flex",flex:1,position:"relative"}},r.a.createElement("div",{className:"conversation-list"},r.a.createElement("h4",{style:{padding:"10px 0px 10px 5px"}},"Danh s\xe1ch tin nh\u1eafn"),a.map((function(e){return r.a.createElement("div",{key:e.key,style:e.key===u?{backgroundColor:"#ccc"}:{},className:"conversation-item",onClick:function(){return m(e.key)}},r.a.createElement("span",null,y(e.key)),e.unread&&r.a.createElement("span",{style:{backgroundColor:"red",width:10,height:10,borderRadius:10}}))}))),u&&r.a.createElement("div",{className:"chat-container"},r.a.createElement("div",{className:"chat-box"},f.map((function(e,t){return r.a.createElement("div",{key:t,style:"admin"===e.sender?{display:"flex",justifyContent:"flex-end"}:{}},r.a.createElement("strong",null,"".concat(y(e.sender),":"),"\xa0"),e.text)}))),r.a.createElement("div",{className:"chat-bottom"},r.a.createElement($a,{sendMessage:function(e){""!==e.trim()&&Ot.ref("conversations/".concat(u,"/messages")).push({sender:"admin",text:e,timestamp:Date.now()})}}))))},tn=[{path:"/",exact:!0,main:function(){return r.a.createElement(J,null)}},{path:"/login",exact:!1,main:function(){return r.a.createElement(me,null)}},{path:"/orders",exact:!0,main:function(){return r.a.createElement(Pe,null)}},{path:"/categories",exact:!0,main:function(){return r.a.createElement(We,null)}},{path:"/products",exact:!0,main:function(e){var t=e.match;return r.a.createElement(tt,{match:t})}},{path:"/transactions",exact:!0,main:function(e){var t=e.match;return r.a.createElement(Ja,{match:t})}},{path:"/discounts",exact:!0,main:function(){return r.a.createElement(ot,null)}},{path:"/users",exact:!0,main:function(){return r.a.createElement(Et,null)}},{path:"/roles",exact:!0,main:function(){return r.a.createElement(ke,null)}},{path:"/producers",exact:!0,main:function(){return r.a.createElement(ka,null)}},{path:"/ratings",exact:!0,main:function(){return r.a.createElement(Pa,null)}},{path:"/contacts",exact:!0,main:function(){return r.a.createElement(qa,null)}},{path:"/about",exact:!0,main:function(){return r.a.createElement(za,null)}},{path:"/roles/add",exact:!1,main:function(e){var t=e.history;return r.a.createElement(bt,{history:t})}},{path:"/roles/edit/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(bt,{match:t,history:a})}},{path:"/users/add",exact:!1,main:function(e){var t=e.history;return r.a.createElement(Qt,{history:t})}},{path:"/users/edit/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(Qt,{match:t,history:a})}},{path:"/discounts/add",exact:!1,main:function(e){var t=e.history;return r.a.createElement(ea,{history:t})}},{path:"/discounts/edit/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(ea,{match:t,history:a})}},{path:"/products/add",exact:!1,main:function(e){var t=e.history;return r.a.createElement(sa,{history:t})}},{path:"/products/edit/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(sa,{match:t,history:a})}},{path:"/categories/add",exact:!1,main:function(e){var t=e.history;return r.a.createElement(da,{history:t})}},{path:"/categories/edit/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(da,{match:t,history:a})}},{path:"/orders/add",exact:!1,main:function(e){var t=e.history;return r.a.createElement(pa,{history:t})}},{path:"/orders/edit/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(pa,{match:t,history:a})}},{path:"/producers/add",exact:!1,main:function(e){var t=e.history;return r.a.createElement(Sa,{history:t})}},{path:"/producers/edit/:id",exact:!1,main:function(e){var t=e.match,a=e.history;return r.a.createElement(Sa,{match:t,history:a})}},{path:"/chats",exact:!0,main:function(){return r.a.createElement(en,null)}}],an=(a(554),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).logOut=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.removeItem("_auth"),null,ee(),a=e.props.setTokenRedux(null),n=e.props.setTokenRoleRedux(null),t.next=7,Promise.all([a,n]);case 7:te();case 8:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"search-box"},r.a.createElement("button",{className:"dismiss"},r.a.createElement("i",{className:"icon-close"})),r.a.createElement("form",{id:"searchForm",action:"#",role:"search"},r.a.createElement("input",{type:"search",placeholder:"What are you looking for...",className:"form-control"}))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-holder d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement(de.b,{to:"/",className:"navbar-brand d-none d-sm-inline-block"},r.a.createElement("div",{className:"brand-text d-none d-lg-inline-block"},r.a.createElement("strong",null,"Stone Shop")))),r.a.createElement("ul",{className:"nav-menu list-unstyled d-flex flex-md-row align-items-md-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(de.b,{onClick:this.logOut,to:"/login",className:"nav-link logout"}," ",r.a.createElement("span",{className:"d-none d-sm-inline"},"\u0110\u0103ng xu\u1ea5t"),r.a.createElement("i",{className:"fa fa-sign-out"}))))))))}}]),a}(n.Component)),nn=Object(R.b)(null,(function(e){return{setTokenRedux:function(t){e(F(t))},setTokenRoleRedux:function(t){e(H(t))}}}))(an),rn=(a(555),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={user:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Qa=localStorage.getItem("_auth"))){e.next=8;break}return e.next=4,w("users/me","GET",null,Qa);case 4:(t=e.sent)&&200===t.status&&this.setState({user:t.data.results}),e.next=9;break;case 8:this.setState({redirect:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.nameRole,t=this.state.user,a=t&&t.length?t[0]:null;return r.a.createElement("nav",{className:"side-navbar"},r.a.createElement("div",{className:"sidebar-header d-flex align-items-center"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:a&&a.avatar?a.avatar:"https://static.vecteezy.com/system/resources/previews/009/784/096/original/avatar-with-gear-flat-design-icon-of-manager-vector.jpg",alt:"notfound",className:"img-fluid rounded-circle"})),r.a.createElement("div",{className:"title"},r.a.createElement("h1",{className:"h4"},a&&a.name?a.name:null),r.a.createElement("p",null,r.a.createElement("b",{style:{fontWeight:600}},a?a.role.nameRole:null)))),"superadmin"===e||"admin"===e?r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement(de.b,{to:"/"}," ",r.a.createElement("i",{className:"icon-home"}),"Dashboard ")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/orders"}," ",r.a.createElement("i",{className:"icon icon-bill"}),"\u0110\u01a1n h\xe0ng")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/categories"}," ",r.a.createElement("i",{className:"icon-interface-windows"}),"Danh m\u1ee5c")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/products"}," ",r.a.createElement("i",{className:"icon icon-website"}),"Danh s\xe1ch s\u1ea3n ph\u1ea9m")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/producers"}," ",r.a.createElement("i",{className:"icon icon-list-1"}),"Nh\xe0 cung c\u1ea5p")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/transactions"}," ",r.a.createElement("i",{className:"icon icon-check"}),"Danh s\xe1ch giao d\u1ecbch")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/ratings"},"  ",r.a.createElement("i",{className:"icon icon-check"}),"\u0110\xe1nh gi\xe1")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/users"}," ",r.a.createElement("i",{className:"icon icon-user"}),"Kh\xe1ch h\xe0ng")),r.a.createElement("li",null," ",r.a.createElement(de.b,{to:"/contacts"}," ",r.a.createElement("i",{className:"icon-mail"}),"Ph\u1ea3n h\u1ed3i c\u1ee7a kh\xe1ch h\xe0ng")),r.a.createElement("li",null," ",r.a.createElement(de.b,{to:"/chats"}," ",r.a.createElement("i",{className:"icon-mail"}),"Tin nh\u1eafn"))):r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement(de.b,{to:"/"}," ",r.a.createElement("i",{className:"icon-home"}),"Dashboard ")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/orders"}," ",r.a.createElement("i",{className:"icon icon-bill"}),"\u0110\u01a1n h\xe0ng")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/categories"}," ",r.a.createElement("i",{className:"icon-interface-windows"}),"Danh m\u1ee5c")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/products"}," ",r.a.createElement("i",{className:"icon icon-website"}),"Danh s\xe1ch s\u1ea3n ph\u1ea9m")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/producers"}," ",r.a.createElement("i",{className:"icon icon-list-1"}),"Nh\xe0 cung c\u1ea5p")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/transactions"}," ",r.a.createElement("i",{className:"icon icon-check"}),"Danh s\xe1ch giao d\u1ecbch")),r.a.createElement("li",null,r.a.createElement(de.b,{to:"/ratings"},"  ",r.a.createElement("i",{className:"icon icon-check"}),"\u0110\xe1nh gi\xe1")),r.a.createElement("li",null," ",r.a.createElement(de.b,{to:"/contacts"}," ",r.a.createElement("i",{className:"icon-mail"}),"Ph\u1ea3n h\u1ed3i c\u1ee7a kh\xe1ch h\xe0ng")),r.a.createElement("li",null," ",r.a.createElement(de.b,{to:"/chats"}," ",r.a.createElement("i",{className:"icon-mail"}),"Tin nh\u1eafn"))))}}]),a}(n.Component)),cn=Object(R.b)((function(e){return{nameRole:e.nameRole}}),null)(rn),ln=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(me,null)}}]),a}(n.Component),on=(a(556),Object(zt.css)(Ka||(Ka=Object(f.a)(["\n  display: block;\n  margin: 0 auto;\n  position: fixed;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 9999;\n"])))),sn=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).showContentMenus=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return r.a.createElement(K.b,{key:t,path:e.path,exact:e.exact,component:e.main})}))),r.a.createElement(K.d,null,t)},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Za=localStorage.getItem("_auth"))){e.next=7;break}return this.props.add_token_redux(Za),e.next=5,w("users/me","GET",null,Za);case 5:(t=e.sent)&&200===t.status&&this.props.add_token_redux_role(t.data.results[0].role.nameRole);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.loading;return r.a.createElement(de.a,null,t?r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{className:"hidden-loading"},r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(Wt.a,{css:on,sizeUnit:"px",size:35,color:"#796aeebd",loading:a})),r.a.createElement(nn,null),r.a.createElement("div",{className:"page-content d-flex align-items-stretch"},r.a.createElement(cn,{token:Za}),this.showContentMenus(tn))):r.a.createElement("div",null,r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(Wt.a,{css:on,sizeUnit:"px",size:35,color:"#796aeebd",loading:a})),r.a.createElement(nn,null),r.a.createElement("div",{className:"page-content d-flex align-items-stretch"},r.a.createElement(cn,{token:Za}),this.showContentMenus(tn)))):r.a.createElement(ln,null))}}]),a}(n.Component),un=Object(R.b)((function(e){return{auth:e.auth,loading:e.loading}}),(function(e){return{add_token_redux:function(t){e(L(t))},add_token_redux_role:function(t){e(H(t))},statusLoading:function(){e({type:"SHOWLOADING",status:!0})}}}))(sn),mn=a(135),dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"TOKEN_REDUX":return e=t.token;default:return e}},hn=[],fn=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_ROLES":return e=t.roles,Object(p.a)(e);case"ADD_ROLE":return e.push(t.data),Object(p.a)(e);case"REMOVE_ROLE":return a=fn(t.id,e),e.splice(a,1),Object(p.a)(e);case"EDIT_ROLE":return e[a=fn(t.data.id,e)]=Object(Ce.a)({},t.data),Object(p.a)(e);case"FIND_ROLES":return e=t.roles,Object(p.a)(e);default:return Object(p.a)(e)}},En=[],vn=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_USERS":return e=t.users,Object(p.a)(e);case"ADD_USER":return e.push(t.data),Object(p.a)(e);case"REMOVE_USER":return a=vn(t.id,e),e.splice(a,1),Object(p.a)(e);case"EDIT_USER":return e[a=vn(t.data.id,e)]=Object(Ce.a)({},t.data),Object(p.a)(e);case"FIND_USERS":return e=t.users,Object(p.a)(e);default:return Object(p.a)(e)}},bn=[],Nn=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_DISCOUNTS":return e=t.discounts,Object(p.a)(e);case"REMOVE_DISCOUNT":return a=Nn(t.id,e),e.splice(a,1),Object(p.a)(e);default:return Object(p.a)(e)}},xn=[],On=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_PRODUCTS":return e=t.products,Object(p.a)(e);case"ADD_PRODUCT":return e.push(t.data),Object(p.a)(e);case"REMOVE_PRODUCT":return a=On(t.id,e),e.splice(a,1),Object(p.a)(e);case"EDIT_PRODUCT":return e[a=On(t.data.id,e)]=Object(Ce.a)({},t.data),Object(p.a)(e);case"FIND_PRODUCTS":return e=t.products,Object(p.a)(e);default:return Object(p.a)(e)}},Cn=[],Tn=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_CATEGORIES":return e=t.categories,Object(p.a)(e);case"ADD_CATEGORY":return e.push(t.data),Object(p.a)(e);case"REMOVE_CATEGORY":return a=Tn(t.id,e),e.splice(a,1),Object(p.a)(e);case"EDIT_CATEGORY":return e[a=Tn(t.data.id,e)]=Object(Ce.a)({},t.data),Object(p.a)(e);case"FIND_CATEGORIES":return e=t.categories,Object(p.a)(e);default:return Object(p.a)(e)}},Sn=[],wn=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_ORDERS":return e=t.orders,Object(p.a)(e);case"ADD_ORDER":return e.push(t.data),Object(p.a)(e);case"REMOVE_ORDER":return a=wn(t.id,e),e.splice(a,1),Object(p.a)(e);case"EDIT_ORDER":return e[a=wn(t.data.id,e)]=Object(Ce.a)({},t.data),Object(p.a)(e);case"FIND_ORDERS":return e=t.orders,Object(p.a)(e);default:return Object(p.a)(e)}},In={revenues:{},topSelling:{products:[]},topNotSelling:{products:[]}},An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DASHBOARD":return Object(Ce.a)(Object(Ce.a)({},e),{},{revenues:t.data});case"FETCH_DASHBOARD_TOP_SELLING":return Object(Ce.a)(Object(Ce.a)({},e),{},{topSelling:t.data});case"FETCH_DASHBOARD_TOP_NOT_SELLING":return Object(Ce.a)(Object(Ce.a)({},e),{},{topNotSelling:t.data});default:return Object(Ce.a)({},e)}},_n=[],Rn=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_PRODUCERS":return e=t.producers,Object(p.a)(e);case"ADD_PRODUCER":return e.push(t.data),Object(p.a)(e);case"REMOVE_PRODUCER":return a=Rn(t.id,e),e.splice(a,1),Object(p.a)(e);case"EDIT_PRODUCER":return e[a=Rn(t.data.id,e)]=Object(Ce.a)({},t.data),Object(p.a)(e);case"FIND_PRODUCERS":return e=t.producers,Object(p.a)(e);default:return Object(p.a)(e)}},Pn=[],Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NAMEROLE":return e=t.role;default:return e}},Ln=[],Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ME":return e=t.user,Object(p.a)(e);default:return Object(p.a)(e)}},Mn=[],Un=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_RATINGS":return e=t.ratings,Object(p.a)(e);case"ADD_RATING":return e.push(t.data),Object(p.a)(e);case"REMOVE_RATING":return a=Un(t.id,e),e.splice(a,1),Object(p.a)(e);case"EDIT_RATING":return e[a=Un(t.data.id,e)]=Object(Ce.a)({},t.data),Object(p.a)(e);case"FIND_RATINGS":return e=t.ratings,Object(p.a)(e);default:return Object(p.a)(e)}},qn=[],zn=function(e,t){var a=-1;return t.forEach((function(t,n){t.id===e&&(a=n)})),a},Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0,a=-1;switch(t.type){case"FETCH_CONTACTS":return e=t.contacts,Object(p.a)(e);case"ADD_CONTACT":return e.push(t.data),Object(p.a)(e);case"REMOVE_CONTACT":return a=zn(t.id,e),e.splice(a,1),Object(p.a)(e);case"EDIT_CONTACT":return e[a=zn(t.data.id,e)]=Object(Ce.a)({},t.data),Object(p.a)(e);case"FIND_CONTACTS":return e=t.contacts,Object(p.a)(e);default:return Object(p.a)(e)}},Wn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOWLOADING":case"HIDDENLOADING":return e=t.status;default:return e}},Vn=Object(mn.combineReducers)({auth:dn,roles:pn,users:gn,discounts:yn,products:kn,categories:Dn,orders:jn,dashboard:An,producers:Gn,nameRole:Hn,infoMe:Fn,ratings:Bn,contacts:Yn,loading:Wn}),Xn=a(337),Jn=a(338),Qn=(a(557),Object(mn.createStore)(Vn,Object(Jn.composeWithDevTools)(Object(mn.applyMiddleware)(Xn.a))));l.a.render(r.a.createElement(R.a,{store:Qn},r.a.createElement(un,null),r.a.createElement(O.a,{position:"top-right",autoClose:1700,pauseOnHover:!1,pauseOnVisibilityChange:!1})),document.getElementById("root"))}},[[344,1,2]]]);
//# sourceMappingURL=main.07352083.chunk.js.map